<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Ecore_Con - Creating a client</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Ecore_Con - Creating a client </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Following the same idea as the <a class="el" href="ecore_con_server_simple_example_c.html">Ecore_Con - Creating a server</a> , this example will demonstrate how to create a client that connects to a specified server through a TCP port.</p>
<p>You can see the full source code at <a class="el" href="ecore_con_client_simple_example_8c-example.html">ecore_con_client_simple_example.c</a>.</p>
<p>Starting from the <code>main</code> function, after reading the command line argument list and initializing the libraries, we try to connect to the server:</p>
 <div class="fragment"><div class="line">main(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Ecore__Con__Server__Group.html#ga80f90f9716013d6104624c2e606f8915">Ecore_Con_Server</a> *svr;</div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span> *address;</div>
<div class="line">   <span class="keywordtype">int</span> port = 8080;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (argc &lt; 2)</div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;wrong usage. Command syntax is:\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tecore_con_client_simple_example &lt;address&gt; [port]\n&quot;</span>);</div>
<div class="line">        exit(1);</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">   address = argv[1];</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (argc &gt; 2)</div>
<div class="line">     port = atoi(argv[2]);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__Main__Group.html#ga81b8137665b8a4d2cb38ca50017d4c74">eina_init</a>();</div>
<div class="line">   <a class="code" href="group__Ecore__Init__Group.html#ga77757609684a2c922dc5ec398274751b">ecore_init</a>();</div>
<div class="line">   <a class="code" href="group__Ecore__Con__Lib__Group.html#ga8a20f47372627a03e86a8705a6f8a82d">ecore_con_init</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!(svr = <a class="code" href="group__Ecore__Con__Server__Group.html#gab1bc5a7692c3c36af00e1ac1db257e98">ecore_con_server_connect</a>(ECORE_CON_REMOTE_TCP, address, port, NULL)))</div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;could not connect to the server: %s, port %d.\n&quot;</span>,</div>
<div class="line">               address, port);</div>
<div class="line">        exit(2);</div>
<div class="ttc" id="agroup__Ecore__Con__Lib__Group_html_ga8a20f47372627a03e86a8705a6f8a82d"><div class="ttname"><a href="group__Ecore__Con__Lib__Group.html#ga8a20f47372627a03e86a8705a6f8a82d">ecore_con_init</a></div><div class="ttdeci">ECORE_CON_API int ecore_con_init(void)</div><div class="ttdoc">Initializes the Ecore_Con library.</div><div class="ttdef"><b>Definition:</b> ecore_con.c:68</div></div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_ga80f90f9716013d6104624c2e606f8915"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#ga80f90f9716013d6104624c2e606f8915">Ecore_Con_Server</a></div><div class="ttdeci">struct _Ecore_Con_Server Ecore_Con_Server</div><div class="ttdoc">Used to provide legacy API/ABI compatibility with non-Eo applications.</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:294</div></div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_gab1bc5a7692c3c36af00e1ac1db257e98"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#gab1bc5a7692c3c36af00e1ac1db257e98">ecore_con_server_connect</a></div><div class="ttdeci">ECORE_CON_API Ecore_Con_Server * ecore_con_server_connect(Ecore_Con_Type type, const char *name, int port, const void *data)</div><div class="ttdoc">Creates a connection to the specified server and return an associated object.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2165</div></div>
<div class="ttc" id="agroup__Ecore__Init__Group_html_ga77757609684a2c922dc5ec398274751b"><div class="ttname"><a href="group__Ecore__Init__Group.html#ga77757609684a2c922dc5ec398274751b">ecore_init</a></div><div class="ttdeci">EAPI int ecore_init(void)</div><div class="ttdoc">Sets up connections, signal handlers, sockets etc.</div><div class="ttdef"><b>Definition:</b> ecore.c:230</div></div>
<div class="ttc" id="agroup__Eina__Main__Group_html_ga81b8137665b8a4d2cb38ca50017d4c74"><div class="ttname"><a href="group__Eina__Main__Group.html#ga81b8137665b8a4d2cb38ca50017d4c74">eina_init</a></div><div class="ttdeci">EINA_API int eina_init(void)</div><div class="ttdoc">Initializes the Eina library.</div><div class="ttdef"><b>Definition:</b> eina_main.c:291</div></div>
<div class="line">     }</div>
</div><!-- fragment --><p> After doing this, everything else in <code>main</code> is setting up callbacks for the client events, starting the main loop and shutting down the libraries after it.</p>
<p>Now let's go to the callbacks. These callbacks are very similar to the server callbacks (our implementation for this example is very simple). On the <code>_add</code> callback, we just set a data structure to the server, print some information about the server, and send a welcome message to it:</p>
 <div class="fragment"><div class="line"><a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_add(<span class="keywordtype">void</span> *data <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <span class="keywordtype">int</span> type <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <a class="code" href="struct__Ecore__Con__Event__Server__Add.html">Ecore_Con_Event_Server_Add</a> *ev)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">char</span> welcome[] = <span class="stringliteral">&quot;hello! - sent from the client&quot;</span>;</div>
<div class="line">   <span class="keyword">struct </span>_Server *server = malloc(<span class="keyword">sizeof</span>(*server));</div>
<div class="line">   server-&gt;sdata = 0;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Ecore__Con__Server__Group.html#ga272d6a2100f55d7c9adf44edfa493453">ecore_con_server_data_set</a>(ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Add.html#a382a9545ed7fb941a30dc4d598dc7e4d">server</a>, server);</div>
<div class="line">   printf(<span class="stringliteral">&quot;Server with ip %s, name %s, port %d, connected = %d!\n&quot;</span>,</div>
<div class="line">          <a class="code" href="group__Ecore__Con__Server__Group.html#ga69fe8d9a0423028446b7e2fd873092de">ecore_con_server_ip_get</a>(ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Add.html#a382a9545ed7fb941a30dc4d598dc7e4d">server</a>),</div>
<div class="line">          <a class="code" href="group__Ecore__Con__Server__Group.html#ga8794c4cebaa94f553ed7fd067edad090">ecore_con_server_name_get</a>(ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Add.html#a382a9545ed7fb941a30dc4d598dc7e4d">server</a>),</div>
<div class="line">          <a class="code" href="group__Ecore__Con__Server__Group.html#ga2594c94da97401d08463fba7b9c1b0a2">ecore_con_server_port_get</a>(ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Add.html#a382a9545ed7fb941a30dc4d598dc7e4d">server</a>),</div>
<div class="line">          <a class="code" href="group__Ecore__Con__Server__Group.html#gab0c376cb6b6b8f3e8e96b4f4cbe86a3d">ecore_con_server_connected_get</a>(ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Add.html#a382a9545ed7fb941a30dc4d598dc7e4d">server</a>));</div>
<div class="line">   <a class="code" href="group__Ecore__Con__Server__Group.html#gad01efce916804c31f6b2adcc6f607c6b">ecore_con_server_send</a>(ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Add.html#a382a9545ed7fb941a30dc4d598dc7e4d">server</a>, welcome, <span class="keyword">sizeof</span>(welcome));</div>
<div class="line">   <a class="code" href="group__Ecore__Con__Server__Group.html#gac1768fae815fb830a2df13ef08a2e5ae">ecore_con_server_flush</a>(ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Add.html#a382a9545ed7fb941a30dc4d598dc7e4d">server</a>);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a>;</div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_ga2594c94da97401d08463fba7b9c1b0a2"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#ga2594c94da97401d08463fba7b9c1b0a2">ecore_con_server_port_get</a></div><div class="ttdeci">ECORE_CON_API int ecore_con_server_port_get(const Ecore_Con_Server *svr)</div><div class="ttdoc">Retrieves the server port in use.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2347</div></div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_ga272d6a2100f55d7c9adf44edfa493453"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#ga272d6a2100f55d7c9adf44edfa493453">ecore_con_server_data_set</a></div><div class="ttdeci">ECORE_CON_API void * ecore_con_server_data_set(Ecore_Con_Server *svr, void *data)</div><div class="ttdoc">Sets the data associated with the given server.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2322</div></div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_ga69fe8d9a0423028446b7e2fd873092de"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#ga69fe8d9a0423028446b7e2fd873092de">ecore_con_server_ip_get</a></div><div class="ttdeci">ECORE_CON_API const char * ecore_con_server_ip_get(const Ecore_Con_Server *svr)</div><div class="ttdoc">Gets the IP address of a server that has been connected to.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2398</div></div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_ga8794c4cebaa94f553ed7fd067edad090"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#ga8794c4cebaa94f553ed7fd067edad090">ecore_con_server_name_get</a></div><div class="ttdeci">ECORE_CON_API const char * ecore_con_server_name_get(const Ecore_Con_Server *svr)</div><div class="ttdoc">Retrieves the name of server.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2260</div></div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_gab0c376cb6b6b8f3e8e96b4f4cbe86a3d"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#gab0c376cb6b6b8f3e8e96b4f4cbe86a3d">ecore_con_server_connected_get</a></div><div class="ttdeci">ECORE_CON_API Eina_Bool ecore_con_server_connected_get(const Ecore_Con_Server *svr)</div><div class="ttdoc">Retrieves whether the given server is currently connected.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2334</div></div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_gac1768fae815fb830a2df13ef08a2e5ae"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#gac1768fae815fb830a2df13ef08a2e5ae">ecore_con_server_flush</a></div><div class="ttdeci">ECORE_CON_API void ecore_con_server_flush(Ecore_Con_Server *svr)</div><div class="ttdoc">Flushes all pending data to the given server.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2412</div></div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_gad01efce916804c31f6b2adcc6f607c6b"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#gad01efce916804c31f6b2adcc6f607c6b">ecore_con_server_send</a></div><div class="ttdeci">ECORE_CON_API int ecore_con_server_send(Ecore_Con_Server *svr, const void *data, int size)</div><div class="ttdoc">Sends the given data to the given server.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2354</div></div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_ga1ee9db07f9a46a8b20fb83e1c6dbed09"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a></div><div class="ttdeci">#define ECORE_CALLBACK_RENEW</div><div class="ttdoc">Return value to keep a callback.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:153</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga3fe0caf72e93b1bab1ca8ee3ccf3f226"><div class="ttname"><a href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div><div class="ttdeci">unsigned char Eina_Bool</div><div class="ttdoc">Type to mimic a boolean.</div><div class="ttdef"><b>Definition:</b> eina_types.h:527</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
<div class="ttc" id="astruct__Ecore__Con__Event__Server__Add_html"><div class="ttname"><a href="struct__Ecore__Con__Event__Server__Add.html">_Ecore_Con_Event_Server_Add</a></div><div class="ttdoc">Used as the data param for the ECORE_CON_EVENT_SERVER_ADD event.</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:480</div></div>
<div class="ttc" id="astruct__Ecore__Con__Event__Server__Add_html_a382a9545ed7fb941a30dc4d598dc7e4d"><div class="ttname"><a href="struct__Ecore__Con__Event__Server__Add.html#a382a9545ed7fb941a30dc4d598dc7e4d">_Ecore_Con_Event_Server_Add::server</a></div><div class="ttdeci">Ecore_Con_Server * server</div><div class="ttdoc">the server that was connected to</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:481</div></div>
<div class="line">}</div>
</div><!-- fragment --><p> The <code>_del</code> callback is as simple as the previous one. We free the data associated with the server, print the uptime of this client, and quit the main loop (since there's nothing to do once we disconnect):</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_del(<span class="keywordtype">void</span> *data <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <span class="keywordtype">int</span> type <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <a class="code" href="struct__Ecore__Con__Event__Server__Del.html">Ecore_Con_Event_Server_Del</a> *ev)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordflow">if</span> (!ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Del.html#a116963b404600e7154c61f94ebf52a2e">server</a>)</div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Failed to establish connection to the server.\nExiting.\n&quot;</span>);</div>
<div class="line">        <a class="code" href="group__Ecore__Main__Loop__Group.html#ga95cf8e97dff0716433c2c5474d606a98">ecore_main_loop_quit</a>();</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a>;</div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_ga95cf8e97dff0716433c2c5474d606a98"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#ga95cf8e97dff0716433c2c5474d606a98">ecore_main_loop_quit</a></div><div class="ttdeci">void ecore_main_loop_quit(void)</div><div class="ttdoc">Quits the main loop once all the events currently on the queue have been processed.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1321</div></div>
<div class="ttc" id="astruct__Ecore__Con__Event__Server__Del_html"><div class="ttname"><a href="struct__Ecore__Con__Event__Server__Del.html">_Ecore_Con_Event_Server_Del</a></div><div class="ttdoc">Used as the data param for the ECORE_CON_EVENT_SERVER_DEL event.</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:499</div></div>
<div class="ttc" id="astruct__Ecore__Con__Event__Server__Del_html_a116963b404600e7154c61f94ebf52a2e"><div class="ttname"><a href="struct__Ecore__Con__Event__Server__Del.html#a116963b404600e7154c61f94ebf52a2e">_Ecore_Con_Event_Server_Del::server</a></div><div class="ttdeci">Ecore_Con_Server * server</div><div class="ttdoc">the client that was lost</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:500</div></div>
<div class="line">     }</div>
</div><!-- fragment --><p> The <code>_data</code> callback is also similar to the server data callback. it will print any received data, and increase the data counter in the structure associated with this server:</p>
<div class="fragment"><div class="line"><a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_data(<span class="keywordtype">void</span> *data <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <span class="keywordtype">int</span> type <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <a class="code" href="struct__Ecore__Con__Event__Server__Data.html">Ecore_Con_Event_Server_Data</a> *ev)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">char</span> fmt[128];</div>
<div class="line">   <span class="keyword">struct </span>_Server *server = <a class="code" href="group__Ecore__Con__Server__Group.html#gaa2d84f142e670a7db42070b48bad9c0a">ecore_con_server_data_get</a>(ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Data.html#a632e6c0033302088e26479c4fa17e0c0">server</a>);</div>
<div class="line"> </div>
<div class="line">   snprintf(fmt, <span class="keyword">sizeof</span>(fmt),</div>
<div class="line">            <span class="stringliteral">&quot;Received %i bytes from server:\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;&gt;&gt;&gt;&gt;&gt;\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;%%.%is\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;&gt;&gt;&gt;&gt;&gt;\n&quot;</span>,</div>
<div class="line">            ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Data.html#a41877d1f1cb9792508b9b1d89d53bec2">size</a>, ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Data.html#a41877d1f1cb9792508b9b1d89d53bec2">size</a>);</div>
<div class="line"> </div>
<div class="line">   printf(fmt, ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Data.html#a8d45b6d75c55b26771d241211a0d7e7e">data</a>);</div>
<div class="line"> </div>
<div class="line">   server-&gt;sdata += ev-&gt;<a class="code" href="struct__Ecore__Con__Event__Server__Data.html#a41877d1f1cb9792508b9b1d89d53bec2">size</a>;</div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a>;</div>
<div class="ttc" id="agroup__Ecore__Con__Server__Group_html_gaa2d84f142e670a7db42070b48bad9c0a"><div class="ttname"><a href="group__Ecore__Con__Server__Group.html#gaa2d84f142e670a7db42070b48bad9c0a">ecore_con_server_data_get</a></div><div class="ttdeci">ECORE_CON_API void * ecore_con_server_data_get(Ecore_Con_Server *svr)</div><div class="ttdoc">Retrieves the data associated with the given server.</div><div class="ttdef"><b>Definition:</b> ecore_con_legacy.c:2315</div></div>
<div class="ttc" id="astruct__Ecore__Con__Event__Server__Data_html"><div class="ttname"><a href="struct__Ecore__Con__Event__Server__Data.html">_Ecore_Con_Event_Server_Data</a></div><div class="ttdoc">Used as the data param for the ECORE_CON_EVENT_SERVER_DATA event.</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:529</div></div>
<div class="ttc" id="astruct__Ecore__Con__Event__Server__Data_html_a41877d1f1cb9792508b9b1d89d53bec2"><div class="ttname"><a href="struct__Ecore__Con__Event__Server__Data.html#a41877d1f1cb9792508b9b1d89d53bec2">_Ecore_Con_Event_Server_Data::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">the length of the data sent</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:532</div></div>
<div class="ttc" id="astruct__Ecore__Con__Event__Server__Data_html_a632e6c0033302088e26479c4fa17e0c0"><div class="ttname"><a href="struct__Ecore__Con__Event__Server__Data.html#a632e6c0033302088e26479c4fa17e0c0">_Ecore_Con_Event_Server_Data::server</a></div><div class="ttdeci">Ecore_Con_Server * server</div><div class="ttdoc">the server that was connected to</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:530</div></div>
<div class="ttc" id="astruct__Ecore__Con__Event__Server__Data_html_a8d45b6d75c55b26771d241211a0d7e7e"><div class="ttname"><a href="struct__Ecore__Con__Event__Server__Data.html#a8d45b6d75c55b26771d241211a0d7e7e">_Ecore_Con_Event_Server_Data::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">the data that the server sent</div><div class="ttdef"><b>Definition:</b> Ecore_Con.h:531</div></div>
<div class="line">}</div>
</div><!-- fragment --><p> You can see the server counterpart functions of the ones used in this example in the <a class="el" href="ecore_con_server_simple_example_c.html">Ecore_Con - Creating a server</a>.</p>
<p>This example will connect to the server and start comunicating with it, as demonstrated in the following diagram:</p>
 <div class="image">
<img src="ecore_con-client-server-example2.png" alt=""/>
</div>
 <dl class="section note"><dt>Note</dt><dd>This example contains a serious security flaw: it doesn't check for the size of data being received, thus allowing to the string to be exploited in some way. However, it is left like this to make the code simpler and just demonstrate the API usage. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:35</span>
  </p>
</div>
</body>
</html>
