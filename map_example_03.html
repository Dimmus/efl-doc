<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Map Example - Route and Name Usage</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Map Example - Route and Name Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This code places an Elementary map widget on a window, to exemplify part of the widget's API, related routes and names.</p>
<p>In this example, we will suppose we need to set a route for the user from his current point (a gps could provide us this information) to somewhere else. So we would have coordinates of this start point, and would like that he enters the address of his destination in a entry, and we'll trace a route on the map.</p>
<p>We'll start this example in the same way <a class="el" href="map_example_01.html">Map Example 1</a>. Adding a map with buttons to control zoom, so if you didn't read it yet, just do it now. Actually there is a change, that we're aligning buttons to the top, since we want a vertical control box this time.  </p><div class="fragment"><div class="line">   map = <a class="code" href="group__Elm__Map__Group.html#ga509621f20872fe3ef3418919f7fda396">elm_map_add</a>(win);</div>
<div class="ttc" id="agroup__Elm__Map__Group_html_ga509621f20872fe3ef3418919f7fda396"><div class="ttname"><a href="group__Elm__Map__Group.html#ga509621f20872fe3ef3418919f7fda396">elm_map_add</a></div><div class="ttdeci">Evas_Object * elm_map_add(Evas_Object *parent)</div><div class="ttdoc">Widget is broken due to on-line service API breaks.</div><div class="ttdef"><b>Definition:</b> elm_map.c:250</div></div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(map, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a>(win, map);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(map);</div>
<div class="line"> </div>
<div class="line">   box = <a class="code" href="group__Elm__Box__Group.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga447f790a64a49b477019938dc3d5c3ff">elm_box_horizontal_set</a>(box, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(box, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a>(win, box);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(box);</div>
<div class="line"> </div>
<div class="line">   bt = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   elm_object_text_set(bt, <span class="stringliteral">&quot;+&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box, bt);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(bt);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(bt, <span class="stringliteral">&quot;clicked&quot;</span>, _bt_zoom_in, map);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(bt, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, 0);</div>
<div class="line"> </div>
<div class="line">   bt = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   elm_object_text_set(bt, <span class="stringliteral">&quot;-&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box, bt);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(bt);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(bt, <span class="stringliteral">&quot;clicked&quot;</span>, _bt_zoom_out, map);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(bt, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, 0);</div>
<div class="line"> </div>
<div class="line">   bt = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   elm_object_text_set(bt, <span class="stringliteral">&quot;X&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box, bt);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(bt);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(bt, <span class="stringliteral">&quot;clicked&quot;</span>, _bt_zoom_fit, map);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(bt, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, 0);</div>
<div class="line"> </div>
<div class="line">   bt = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   elm_object_text_set(bt, <span class="stringliteral">&quot;#&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box, bt);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(bt);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(bt, <span class="stringliteral">&quot;clicked&quot;</span>, _bt_zoom_fill, map);</div>
<div class="ttc" id="aEvas__Common_8h_html_aa47c85083d3dae0111c21ec49359306a"><div class="ttname"><a href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a></div><div class="ttdeci">#define EVAS_HINT_EXPAND</div><div class="ttdoc">Use with evas_object_size_hint_weight_set(), evas_object_size_hint_weight_get(), evas_object_size_hin...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:297</div></div>
<div class="ttc" id="aEvas__Common_8h_html_aecbac710f36d52911fc34dcdaf8e729c"><div class="ttname"><a href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a></div><div class="ttdeci">#define EVAS_HINT_FILL</div><div class="ttdoc">Use with evas_object_size_hint_align_set(), evas_object_size_hint_align_get(), evas_object_size_hint_...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:298</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga05c12dacc8b4058994df842b41be85fc"><div class="ttname"><a href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a></div><div class="ttdeci">#define EINA_TRUE</div><div class="ttdoc">boolean value TRUE (numerical value 1)</div><div class="ttdef"><b>Definition:</b> eina_types.h:539</div></div>
<div class="ttc" id="agroup__Elm__Box__Group_html_ga3d0998b60ada633bacfa8869a921cfd7"><div class="ttname"><a href="group__Elm__Box__Group.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a></div><div class="ttdeci">Evas_Object * elm_box_add(Evas_Object *parent)</div><div class="ttdoc">Add a new box to the parent.</div><div class="ttdef"><b>Definition:</b> elm_box.c:363</div></div>
<div class="ttc" id="agroup__Elm__Box__Group_html_ga447f790a64a49b477019938dc3d5c3ff"><div class="ttname"><a href="group__Elm__Box__Group.html#ga447f790a64a49b477019938dc3d5c3ff">elm_box_horizontal_set</a></div><div class="ttdeci">void elm_box_horizontal_set(Elm_Box *obj, Eina_Bool horizontal)</div><div class="ttdoc">Set the horizontal orientation.</div><div class="ttdef"><b>Definition:</b> elm_box_eo.legacy.c:27</div></div>
<div class="ttc" id="agroup__Elm__Box__Group_html_ga66a10dd861578521af2ab7b8c2ca65c5"><div class="ttname"><a href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a></div><div class="ttdeci">void elm_box_pack_end(Elm_Box *obj, Efl_Canvas_Object *subobj)</div><div class="ttdoc">Add an object at the end of the pack list.</div><div class="ttdef"><b>Definition:</b> elm_box_eo.legacy.c:57</div></div>
<div class="ttc" id="agroup__Elm__Button_html_ga0021b9d86d822367035843ed18bc6ea9"><div class="ttname"><a href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a></div><div class="ttdeci">Evas_Object * elm_button_add(Evas_Object *parent)</div><div class="ttdoc">Add a new button to the parent's canvas.</div><div class="ttdef"><b>Definition:</b> efl_ui_button.c:459</div></div>
<div class="ttc" id="agroup__Elm__Win__Group_html_ga505d6bd217e5ee01e82b548ec35986eb"><div class="ttname"><a href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a></div><div class="ttdeci">void elm_win_resize_object_add(Eo *obj, Evas_Object *subobj)</div><div class="ttdoc">Add subobj as a resize object of window obj.</div><div class="ttdef"><b>Definition:</b> efl_ui_win.c:8997</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9379629ad8ad2860aa786d838a4a106a"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_weight_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's weight.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2638</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gaaf1d3e26e36b316977336066b6f56632"><div class="ttname"><a href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_align_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's alignment.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2650</div></div>
<div class="ttc" id="agroup__Evas__Smart__Object__Group_html_gac12dd6655f488cc47ce6cf00eb7d12b2"><div class="ttname"><a href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a></div><div class="ttdeci">EVAS_API void evas_object_smart_callback_add(Evas_Object *eo_obj, const char *event, Evas_Smart_Cb func, const void *data)</div><div class="ttdoc">Add (register) a callback function to the smart event specified by event on the smart object obj.</div><div class="ttdef"><b>Definition:</b> evas_object_smart.c:1040</div></div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(bt, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, 0);</div>
</div><!-- fragment --><p> Next we set the box to be vertical and change it's size, weight and alignment, so it will occupy the top of the window, from left to right: </p><div class="fragment"></div><!-- fragment --><p> We'll add an entry with a preliminary address, that I know will find a coordinate, to exemplify how names work. But you can try lots of addresses. From city or country names to pubs, or whatever you want. To try is enough to run the example, type the address and press "Route" button. This button will call a function that will get the typed address and find the route. </p><div class="fragment"></div><!-- fragment --><p> The button pass an structure instance we make for this example, with all the fields we'll need.  </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>_Example_Data</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *map, *entry;</div>
<div class="line">   <a class="code" href="struct__Elm__Map__Route.html">Elm_Map_Route</a> *route;</div>
<div class="line">   <span class="keywordtype">double</span> start_lon, start_lat, dest_lon, dest_lat;</div>
<div class="line">   <a class="code" href="struct__Elm__Map__Name.html">Elm_Map_Name</a> *name;</div>
<div class="line">   <a class="code" href="struct__Elm__Map__Overlay.html">Elm_Map_Overlay</a> *route_ovl;</div>
<div class="line">} Example_Data;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> Example_Data example_data;</div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
<div class="ttc" id="astruct__Elm__Map__Name_html"><div class="ttname"><a href="struct__Elm__Map__Name.html">_Elm_Map_Name</a></div><div class="ttdef"><b>Definition:</b> elm_widget_map.h:324</div></div>
<div class="ttc" id="astruct__Elm__Map__Overlay_html"><div class="ttname"><a href="struct__Elm__Map__Overlay.html">_Elm_Map_Overlay</a></div><div class="ttdef"><b>Definition:</b> elm_widget_map.h:253</div></div>
<div class="ttc" id="astruct__Elm__Map__Route_html"><div class="ttname"><a href="struct__Elm__Map__Route.html">_Elm_Map_Route</a></div><div class="ttdef"><b>Definition:</b> elm_widget_map.h:278</div></div>
</div><!-- fragment --><p> Let's initialize it's fields: </p><div class="fragment"><div class="line">   example_data.map = map;</div>
<div class="line">   example_data.entry = entry;</div>
<div class="line">   example_data.route = NULL;</div>
<div class="line">   example_data.start_lon = -43.175;</div>
<div class="line">   example_data.start_lat = -22.97;</div>
</div><!-- fragment --><p> <code>map</code> and <code>entry</code> are our elementary objects, <code>route</code> is set to <code>NULL</code>, since we don't have one yet, and the coordinates of the start point is set (longitude and latitude).</p>
<p>Also, let's show this start point at the center of the map, and set a zoom nice enough to close it: </p><div class="fragment"><div class="line">   <a class="code" href="group__Elm__Map__Group.html#gac18d4869797cf49e4fa2e50a3de592f3">elm_map_region_show</a>(map, example_data.start_lon, example_data.start_lat);</div>
<div class="ttc" id="agroup__Elm__Map__Group_html_gac18d4869797cf49e4fa2e50a3de592f3"><div class="ttname"><a href="group__Elm__Map__Group.html#gac18d4869797cf49e4fa2e50a3de592f3">elm_map_region_show</a></div><div class="ttdeci">void elm_map_region_show(Elm_Map *obj, double lon, double lat)</div><div class="ttdoc">Widget is broken due to on-line service API breaks.</div><div class="ttdef"><b>Definition:</b> elm_map_eo.legacy.c:135</div></div>
</div><!-- fragment --><p> These lines were already explained on <a class="el" href="map_example_02.html">Map Example 2</a>.</p>
<p>Now we'll see the "Route" button callback function:  </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_name_loaded(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *ev <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   Example_Data *exam_data = data;</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *map = obj;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (exam_data-&gt;route)</div>
<div class="line">     <a class="code" href="group__Elm__Map__Group.html#gaf3eeb8329e577c8b7c08c9ddc656df77">elm_map_route_del</a>(exam_data-&gt;route);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Elm__Map__Group.html#gae5c6d7cfa664af6387d73637953b196e">elm_map_name_region_get</a>(exam_data-&gt;name, &amp;(exam_data-&gt;dest_lon),</div>
<div class="line">                           &amp;(exam_data-&gt;dest_lat));</div>
<div class="line"> </div>
<div class="line">   exam_data-&gt;route = <a class="code" href="group__Elm__Map__Group.html#ga64d63aafc59938f16f7ab731c134446f">elm_map_route_add</a>(map, <a class="code" href="group__Elm__Map__Group.html#gga475f32243c8d8fcb3081b80194f8fe27a6433a84142f9bb8eb914ae9f482cdb95">ELM_MAP_ROUTE_TYPE_FOOT</a>,</div>
<div class="line">                                        <a class="code" href="group__Elm__Map__Group.html#ggaaa4a6dd08f05a645f2c963c05e1c1186ab0b4e63fbeac790d7e1769695b17910b">ELM_MAP_ROUTE_METHOD_SHORTEST</a>,</div>
<div class="line">                                        exam_data-&gt;start_lon, exam_data-&gt;start_lat,</div>
<div class="line">                                        exam_data-&gt;dest_lon, exam_data-&gt;dest_lat,</div>
<div class="line">                                        NULL, NULL);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
<div class="ttc" id="agroup__Elm__Map__Group_html_ga64d63aafc59938f16f7ab731c134446f"><div class="ttname"><a href="group__Elm__Map__Group.html#ga64d63aafc59938f16f7ab731c134446f">elm_map_route_add</a></div><div class="ttdeci">Elm_Map_Route * elm_map_route_add(Elm_Map *obj, Elm_Map_Route_Type type, Elm_Map_Route_Method method, double flon, double flat, double tlon, double tlat, Elm_Map_Route_Cb route_cb, void *data)</div><div class="ttdoc">Widget is broken due to on-line service API breaks.</div><div class="ttdef"><b>Definition:</b> elm_map_eo.legacy.c:81</div></div>
<div class="ttc" id="agroup__Elm__Map__Group_html_gae5c6d7cfa664af6387d73637953b196e"><div class="ttname"><a href="group__Elm__Map__Group.html#gae5c6d7cfa664af6387d73637953b196e">elm_map_name_region_get</a></div><div class="ttdeci">void elm_map_name_region_get(const Elm_Map_Name *name, double *lon, double *lat)</div><div class="ttdoc">Widget is broken due to on-line service API breaks.</div><div class="ttdef"><b>Definition:</b> elm_map.c:423</div></div>
<div class="ttc" id="agroup__Elm__Map__Group_html_gaf3eeb8329e577c8b7c08c9ddc656df77"><div class="ttname"><a href="group__Elm__Map__Group.html#gaf3eeb8329e577c8b7c08c9ddc656df77">elm_map_route_del</a></div><div class="ttdeci">void elm_map_route_del(Elm_Map_Route *route)</div><div class="ttdoc">Widget is broken due to on-line service API breaks.</div><div class="ttdef"><b>Definition:</b> elm_map.c:391</div></div>
<div class="ttc" id="agroup__Elm__Map__Group_html_gga475f32243c8d8fcb3081b80194f8fe27a6433a84142f9bb8eb914ae9f482cdb95"><div class="ttname"><a href="group__Elm__Map__Group.html#gga475f32243c8d8fcb3081b80194f8fe27a6433a84142f9bb8eb914ae9f482cdb95">ELM_MAP_ROUTE_TYPE_FOOT</a></div><div class="ttdeci">@ ELM_MAP_ROUTE_TYPE_FOOT</div><div class="ttdoc">Route should consider user will be walking.</div><div class="ttdef"><b>Definition:</b> elm_map_eo.h:44</div></div>
<div class="ttc" id="agroup__Elm__Map__Group_html_ggaaa4a6dd08f05a645f2c963c05e1c1186ab0b4e63fbeac790d7e1769695b17910b"><div class="ttname"><a href="group__Elm__Map__Group.html#ggaaa4a6dd08f05a645f2c963c05e1c1186ab0b4e63fbeac790d7e1769695b17910b">ELM_MAP_ROUTE_METHOD_SHORTEST</a></div><div class="ttdeci">@ ELM_MAP_ROUTE_METHOD_SHORTEST</div><div class="ttdoc">Route should prioritize distance.</div><div class="ttdef"><b>Definition:</b> elm_map_eo.h:59</div></div>
</div><!-- fragment --><p> First we get the address string from our entry. Then we use <code>name</code> conversion util functions, so we could get coordinates for this address. These functions return an <a class="el" href="group__Elm__Map__Group.html#ga73173d5c600925adcbaac5c55f5462d3" title="A handle for specific coordinates.">Elm_Map_Name</a> handle for us. Function elm_map_name_geo_request() will do this job for us, but it's an asynchronous function, since it requires this information from the server.</p>
<p>That's the reason we need to wait for <code> "name,loaded" </code> signal. We add a callback function for this:  </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_route_loaded(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *ev <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   Example_Data *exam_data = data;</div>
<div class="line"> </div>
<div class="line">   exam_data-&gt;route_ovl = <a class="code" href="group__Elm__Map__Group.html#ga8c5cba6c4ff67c11035d36e67e6d8803">elm_map_overlay_route_add</a>(obj, exam_data-&gt;route);</div>
<div class="line">   <a class="code" href="group__Elm__Map__Group.html#ga2ef4c31306107b391f13e965813f60cd">elm_map_overlay_color_set</a>(exam_data-&gt;route_ovl, 0, 255, 0, 255);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Elm__Map__Group_html_ga2ef4c31306107b391f13e965813f60cd"><div class="ttname"><a href="group__Elm__Map__Group.html#ga2ef4c31306107b391f13e965813f60cd">elm_map_overlay_color_set</a></div><div class="ttdeci">void elm_map_overlay_color_set(Elm_Map_Overlay *overlay, int r, int g, int b, int a)</div><div class="ttdoc">Widget is broken due to on-line service API breaks.</div><div class="ttdef"><b>Definition:</b> elm_map.c:523</div></div>
<div class="ttc" id="agroup__Elm__Map__Group_html_ga8c5cba6c4ff67c11035d36e67e6d8803"><div class="ttname"><a href="group__Elm__Map__Group.html#ga8c5cba6c4ff67c11035d36e67e6d8803">elm_map_overlay_route_add</a></div><div class="ttdeci">Elm_Map_Overlay * elm_map_overlay_route_add(Elm_Map *obj, const Elm_Map_Route *route)</div><div class="ttdoc">Widget is broken due to on-line service API breaks.</div><div class="ttdef"><b>Definition:</b> elm_map_eo.legacy.c:171</div></div>
</div><!-- fragment --><p> This function will check if a previous route was traced, and if it was, it will remove it. Next we'll get destination coordinates from our <code>name</code>, and use them to add a new route.</p>
<p>To trace a route we need to know how the user will go through the path. Let's suppose he'll be walking, but doesn't like to walk, so we need to choose the shortest path instead of the route that would made him spend less time. Coordinates of the point from where he will start and of the destination point need to be passed as well.</p>
<p>Finally we'll set a color different from solid red (default), to show our route. We set it green.</p>
<p>See <a class="el" href="map_example_03_8c-example.html">map_example_03.c</a> for full source, whose window should look like this picture:</p>
<div class="image">
<img src="screenshots/map_example_03.png" alt=""/>
</div>
  </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:44</span>
  </p>
</div>
</body>
</html>
