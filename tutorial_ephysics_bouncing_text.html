<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>EPhysics - Bouncing Text</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">EPhysics - Bouncing Text </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The purpose of this example is to demonstrate the EPhysics_Body binding to a text (Evas_Object)</p>
<div class="image">
<img src="bouncing_text.png" alt=""/>
</div>
 <p>For this example we'll have an EPhysics_World and one basic EPhysics_Body.</p>
<p>The basic concepts like - initializing an EPhysics_World, render geometry, physics limiting boundaries, were already covered in <a class="el" href="tutorial_ephysics_bouncing_ball.html">EPhysics - Bouncing Ball</a></p>
<h1><a class="anchor" id="add-text"></a>
Creating the text</h1>
<p></p>
<p>Create a basic evas_object_text.</p>
<div class="fragment"><div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *text;</div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
<div class="line">   text = <a class="code" href="group__Evas__Object__Text__Group.html#ga957446a13a1b66ce00795422454aafa5">evas_object_text_add</a>(<a class="code" href="group__Evas__Object__Group.html#gae54462e22d2663de2b7d8fb64ab527e8">evas_object_evas_get</a>(test_data-&gt;win));</div>
<div class="line">   <a class="code" href="group__Evas__Object__Text__Group.html#ga1c9f3b5f76d5c2f020320d84a8197492">evas_object_text_text_set</a>(text, <span class="stringliteral">&quot;EPHYSICS&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Text__Group.html#gac5dd3bf469c8df9c4fe36d08c066f122">evas_object_text_font_set</a>(text, <span class="stringliteral">&quot;Sans&quot;</span>, 54);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#gab751e9d24c16e74af6f7c08ea5b930c2">evas_object_color_set</a>(text, 95, 56, 19, 255);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga335c8ee6eaeaac9710656af4f8b0db91">evas_object_move</a>(text, WIDTH / 4, HEIGHT / 8);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(text);</div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_gab751e9d24c16e74af6f7c08ea5b930c2"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#gab751e9d24c16e74af6f7c08ea5b930c2">evas_object_color_set</a></div><div class="ttdeci">EVAS_API void evas_object_color_set(Evas_Object *obj, int r, int g, int b, int a)</div><div class="ttdoc">Sets the general/main color of the given Evas object to the given one.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2024</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga335c8ee6eaeaac9710656af4f8b0db91"><div class="ttname"><a href="group__Evas__Object__Group.html#ga335c8ee6eaeaac9710656af4f8b0db91">evas_object_move</a></div><div class="ttdeci">EVAS_API void evas_object_move(Evas_Object *obj, Evas_Coord x, Evas_Coord y)</div><div class="ttdoc">Move the given Evas object to the given location inside its canvas' viewport.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1171</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gae54462e22d2663de2b7d8fb64ab527e8"><div class="ttname"><a href="group__Evas__Object__Group.html#gae54462e22d2663de2b7d8fb64ab527e8">evas_object_evas_get</a></div><div class="ttdeci">EVAS_API Evas * evas_object_evas_get(const Eo *eo_obj)</div><div class="ttdoc">Get the Evas to which this object belongs to.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2662</div></div>
<div class="ttc" id="agroup__Evas__Object__Text__Group_html_ga1c9f3b5f76d5c2f020320d84a8197492"><div class="ttname"><a href="group__Evas__Object__Text__Group.html#ga1c9f3b5f76d5c2f020320d84a8197492">evas_object_text_text_set</a></div><div class="ttdeci">EVAS_API void evas_object_text_text_set(Eo *obj, const char *text)</div><div class="ttdoc">Sets the text string to be displayed by the given text object.</div><div class="ttdef"><b>Definition:</b> evas_object_text.c:2356</div></div>
<div class="ttc" id="agroup__Evas__Object__Text__Group_html_ga957446a13a1b66ce00795422454aafa5"><div class="ttname"><a href="group__Evas__Object__Text__Group.html#ga957446a13a1b66ce00795422454aafa5">evas_object_text_add</a></div><div class="ttdeci">EVAS_API Evas_Object * evas_object_text_add(Evas *e)</div><div class="ttdoc">Creates a new text object on the provided canvas.</div><div class="ttdef"><b>Definition:</b> evas_object_text.c:366</div></div>
<div class="ttc" id="agroup__Evas__Object__Text__Group_html_gac5dd3bf469c8df9c4fe36d08c066f122"><div class="ttname"><a href="group__Evas__Object__Text__Group.html#gac5dd3bf469c8df9c4fe36d08c066f122">evas_object_text_font_set</a></div><div class="ttdeci">EVAS_API void evas_object_text_font_set(Eo *obj, const char *font, Evas_Font_Size size)</div><div class="ttdoc">Set the font family or filename, and size on a given text object.</div><div class="ttdef"><b>Definition:</b> evas_object_text.c:2340</div></div>
</div><!-- fragment --> <h1><a class="anchor" id="add-textbody"></a>
Creating the body</h1>
<p>Create a simple EPhysics_Body.</p>
<p>Note that we use <a class="el" href="group__EPhysics__Body.html#ga8821fa07fb5be9d956cc090b14223fd2" title="Set physics body geometry.">ephysics_body_geometry_set()</a> to define its size because the evas_object has a different size that we want to represent physically. The text may have accent or letters like j and g.</p>
<div class="fragment"><div class="line">   text_body = <a class="code" href="group__EPhysics__Body.html#gaf8f30587da7453114397d64dd9704d7f">ephysics_body_box_add</a>(test_data-&gt;world);</div>
<div class="ttc" id="agroup__EPhysics__Body_html_gaf8f30587da7453114397d64dd9704d7f"><div class="ttname"><a href="group__EPhysics__Body.html#gaf8f30587da7453114397d64dd9704d7f">ephysics_body_box_add</a></div><div class="ttdeci">EAPI EPhysics_Body * ephysics_body_box_add(EPhysics_World *world)</div><div class="ttdoc">Create a new box physics body.</div></div>
<div class="line">   <a class="code" href="group__EPhysics__Body.html#ga8821fa07fb5be9d956cc090b14223fd2">ephysics_body_geometry_set</a>(text_body, x, y, -15, w * 5 / 6, 46, 30);</div>
<div class="line">   <a class="code" href="group__EPhysics__Body.html#ga731c9a6443f7c4294fce23fc1287b778">ephysics_body_restitution_set</a>(text_body, 0.95);</div>
<div class="line">   <a class="code" href="group__EPhysics__Body.html#ga986d45060bf6ba1689a56889a2bcabce">ephysics_body_friction_set</a>(text_body, 0.1);</div>
<div class="ttc" id="agroup__EPhysics__Body_html_ga731c9a6443f7c4294fce23fc1287b778"><div class="ttname"><a href="group__EPhysics__Body.html#ga731c9a6443f7c4294fce23fc1287b778">ephysics_body_restitution_set</a></div><div class="ttdeci">EAPI void ephysics_body_restitution_set(EPhysics_Body *body, double restitution)</div><div class="ttdoc">Set body's coefficient of restitution.</div></div>
<div class="ttc" id="agroup__EPhysics__Body_html_ga8821fa07fb5be9d956cc090b14223fd2"><div class="ttname"><a href="group__EPhysics__Body.html#ga8821fa07fb5be9d956cc090b14223fd2">ephysics_body_geometry_set</a></div><div class="ttdeci">EAPI void ephysics_body_geometry_set(EPhysics_Body *body, Evas_Coord x, Evas_Coord y, Evas_Coord z, Evas_Coord w, Evas_Coord h, Evas_Coord d)</div><div class="ttdoc">Set physics body geometry.</div></div>
<div class="ttc" id="agroup__EPhysics__Body_html_ga986d45060bf6ba1689a56889a2bcabce"><div class="ttname"><a href="group__EPhysics__Body.html#ga986d45060bf6ba1689a56889a2bcabce">ephysics_body_friction_set</a></div><div class="ttdeci">EAPI void ephysics_body_friction_set(EPhysics_Body *body, double friction)</div><div class="ttdoc">Set body's friction.</div></div>
</div><!-- fragment --> <h1><a class="anchor" id="text-binding"></a>
Binding</h1>
<p></p>
<p>After creating the body and the text, now we need to bind them.</p>
<p>We set the last parameter as EINA_FALSE because in this example we don't want to set the physics body position to match evas object position.</p>
<div class="fragment"><div class="line">   <a class="code" href="group__EPhysics__Body.html#ga39cb9e95bbe1d097926a09365c501db3">ephysics_body_evas_object_set</a>(text_body, text, <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>);</div>
<div class="ttc" id="agroup__EPhysics__Body_html_ga39cb9e95bbe1d097926a09365c501db3"><div class="ttname"><a href="group__EPhysics__Body.html#ga39cb9e95bbe1d097926a09365c501db3">ephysics_body_evas_object_set</a></div><div class="ttdeci">EAPI void ephysics_body_evas_object_set(EPhysics_Body *body, Evas_Object *evas_obj, Eina_Bool use_obj_pos)</div><div class="ttdoc">Set an evas object to a physics body.</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga1feb115f8e9913e806e090d9bd5a7301"><div class="ttname"><a href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a></div><div class="ttdeci">#define EINA_FALSE</div><div class="ttdoc">boolean value FALSE (numerical value 0)</div><div class="ttdef"><b>Definition:</b> eina_types.h:533</div></div>
</div><!-- fragment --><p> Here we finish the example. The full source code can be found at <a class="el" href="test_bouncing_text_c.html">test_bouncing_text.c</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:39</span>
  </p>
</div>
</body>
</html>
