<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Layout - Content, Table and Box</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Layout - Content, Table and Box </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example shows how one can use the <a class="el" href="group__Elm__Layout.html">Layout</a> widget to create a customized distribution of widgets on the screen, controlled by an Edje theme.</p>
<p>The full source code for this example can be found at <a class="el" href="layout_example_01_c.html">layout_example_01.c</a>.</p>
<p>Our custom layout is defined by a file, <a class="el" href="layout_example_edc.html">An example of layout theme file</a>, which is an Edje theme file. Look for the Edje documentation to understand it. For now, it's enough to know that we describe some specific parts on this layout theme: </p><ul>
<li>a title text field; </li>
<li>a box container; </li>
<li>a table container; </li>
<li>and a content container.</li>
</ul>
<p>Going straight to the code, the following snippet instantiates the layout widget:</p>
 <div class="fragment"><div class="line">   layout = <a class="code" href="group__Elm__Layout.html#gaca5aee4ad4d92c68f13d1080c70baf8b">elm_layout_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(layout, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a>(win, layout);</div>
<div class="line">   snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;%s/examples/layout_example.edj&quot;</span>, <a class="code" href="group__Elm__App.html#ga92a09dbf88cc1ca3eab51c51dea589d0">elm_app_data_dir_get</a>());</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga8d1105463d52787a7b0ca8d7402cd3ea">elm_layout_file_set</a>(layout, buf, <span class="stringliteral">&quot;example/mylayout&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(layout);</div>
<div class="ttc" id="aEvas__Common_8h_html_aa47c85083d3dae0111c21ec49359306a"><div class="ttname"><a href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a></div><div class="ttdeci">#define EVAS_HINT_EXPAND</div><div class="ttdoc">Use with evas_object_size_hint_weight_set(), evas_object_size_hint_weight_get(), evas_object_size_hin...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:297</div></div>
<div class="ttc" id="agroup__Elm__App_html_ga92a09dbf88cc1ca3eab51c51dea589d0"><div class="ttname"><a href="group__Elm__App.html#ga92a09dbf88cc1ca3eab51c51dea589d0">elm_app_data_dir_get</a></div><div class="ttdeci">const char * elm_app_data_dir_get(void)</div><div class="ttdoc">Get the application's run time data prefix directory, as set by elm_app_info_set() and the way (envir...</div><div class="ttdef"><b>Definition:</b> elm_main.c:586</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_ga8d1105463d52787a7b0ca8d7402cd3ea"><div class="ttname"><a href="group__Elm__Layout.html#ga8d1105463d52787a7b0ca8d7402cd3ea">elm_layout_file_set</a></div><div class="ttdeci">Eina_Bool elm_layout_file_set(Eo *obj, const char *file, const char *group)</div><div class="ttdoc">Set the file that will be used as layout.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3074</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_gaca5aee4ad4d92c68f13d1080c70baf8b"><div class="ttname"><a href="group__Elm__Layout.html#gaca5aee4ad4d92c68f13d1080c70baf8b">elm_layout_add</a></div><div class="ttdeci">Evas_Object * elm_layout_add(Evas_Object *parent)</div><div class="ttdoc">Add a new layout to the parent.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3067</div></div>
<div class="ttc" id="agroup__Elm__Win__Group_html_ga505d6bd217e5ee01e82b548ec35986eb"><div class="ttname"><a href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a></div><div class="ttdeci">void elm_win_resize_object_add(Eo *obj, Evas_Object *subobj)</div><div class="ttdoc">Add subobj as a resize object of window obj.</div><div class="ttdef"><b>Definition:</b> efl_ui_win.c:8997</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9379629ad8ad2860aa786d838a4a106a"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_weight_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's weight.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2638</div></div>
</div><!-- fragment --><p> As any other widget, we set some properties for the size calculation. But notice on this piece of code the call to the function <a class="el" href="group__Elm__Layout.html#ga8d1105463d52787a7b0ca8d7402cd3ea" title="Set the file that will be used as layout.">elm_layout_file_set()</a>. Here is where the theme file is loaded, and particularly the specific group from this theme file. Also notice that the theme file here is referenced as an .edj, which is a .edc theme file compiled to its binary form. Again, look for the Edje documentation for more information about theme files.</p>
<p>Next, we fetch from our theme a data string referenced by the key "title". This data was defined in the theme, and can be used as parameters which the program get from the specific theme that it is using. In this case, we store the title of this window and program in the theme, as a "data" entry, just for demonstration purposes:</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   <span class="comment">// Setting title</span></div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span> *title = <a class="code" href="group__Elm__Layout.html#ga2f26c6b713040627dfd3eafe51c318a3">elm_layout_data_get</a>(layout, <span class="stringliteral">&quot;title&quot;</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (title)</div>
<div class="line">     {</div>
<div class="line">        <a class="code" href="group__Elm__Win__Group.html#ga0e0b613ac6b5d1e0e71f2ec17e80cb07">elm_win_title_set</a>(win, title);</div>
<div class="line">        <a class="code" href="group__Elm__General.html#ga9c088563c442670796564d2e5158f154">elm_object_part_text_set</a>(layout, TITLE, title);</div>
<div class="line">     }</div>
<div class="ttc" id="agroup__Elm__General_html_ga9c088563c442670796564d2e5158f154"><div class="ttname"><a href="group__Elm__General.html#ga9c088563c442670796564d2e5158f154">elm_object_part_text_set</a></div><div class="ttdeci">void elm_object_part_text_set(Evas_Object *obj, const char *part, const char *label)</div><div class="ttdoc">Set a text of an object.</div><div class="ttdef"><b>Definition:</b> elm_main.c:1485</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_ga2f26c6b713040627dfd3eafe51c318a3"><div class="ttname"><a href="group__Elm__Layout.html#ga2f26c6b713040627dfd3eafe51c318a3">elm_layout_data_get</a></div><div class="ttdeci">const char * elm_layout_data_get(const Evas_Object *obj, const char *key)</div><div class="ttdoc">Get the edje data from the given layout.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3394</div></div>
<div class="ttc" id="agroup__Elm__Win__Group_html_ga0e0b613ac6b5d1e0e71f2ec17e80cb07"><div class="ttname"><a href="group__Elm__Win__Group.html#ga0e0b613ac6b5d1e0e71f2ec17e80cb07">elm_win_title_set</a></div><div class="ttdeci">void elm_win_title_set(Evas_Object *obj, const char *title)</div><div class="ttdoc">Set the title of the window.</div><div class="ttdef"><b>Definition:</b> efl_ui_win.c:8641</div></div>
</div><!-- fragment --><p> This call <a class="el" href="group__Elm__Layout.html#ga2f26c6b713040627dfd3eafe51c318a3" title="Get the edje data from the given layout.">elm_layout_data_get()</a> is used to fetch the string based on the key, and <a class="el" href="group__Elm__General.html#ga9c088563c442670796564d2e5158f154" title="Set a text of an object.">elm_object_part_text_set()</a> will set the part defined in the theme as "example/title" to contain this string. This key "example/title" has nothing special. It's just an arbitrary convention that we are using in this example. Every string in this example referencing a part of this theme will be of the form "example/&lt;something&gt;".</p>
<p>Now let's start using our layout to distribute things on the window space. Since the layout was added as a resize object to the elementary window, it will always occupy the entire space available for this window.</p>
<p>The theme already has a title, and it also defines a table element which is positioned approximately between 50% and 70% of the height of this window, and has 100% of the width. We create some widgets (two icons, a clock and a button) and pack them inside the table, in a distribution similar to a HTML table:</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   <span class="comment">// Add icon, clock and button to the table</span></div>
<div class="line">   icon = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66">elm_icon_standard_set</a>(icon, <span class="stringliteral">&quot;home&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(icon, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(icon, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga300b36af78c7503a3ae0ec85cfe2aaaf">elm_layout_table_pack</a>(layout, TABLE, icon, 0, 0, 1, 1);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(icon);</div>
<div class="line"> </div>
<div class="line">   icon2 = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66">elm_icon_standard_set</a>(icon2, <span class="stringliteral">&quot;close&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(icon2, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(icon2, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga300b36af78c7503a3ae0ec85cfe2aaaf">elm_layout_table_pack</a>(layout, TABLE, icon2, 1, 0, 1, 1);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(icon2);</div>
<div class="line"> </div>
<div class="line">   clk = <a class="code" href="group__Elm__Clock.html#gaaa9f775111dedb6487a61f382aaab41b">elm_clock_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(clk, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(clk, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga300b36af78c7503a3ae0ec85cfe2aaaf">elm_layout_table_pack</a>(layout, TABLE, clk, 2, 0, 1, 1);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(clk);</div>
<div class="line"> </div>
<div class="line">   bt = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   elm_object_text_set(bt, <span class="stringliteral">&quot;Click me!&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(bt, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(bt, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga300b36af78c7503a3ae0ec85cfe2aaaf">elm_layout_table_pack</a>(layout, TABLE, bt, 0, 1, 3, 1);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(bt, <span class="stringliteral">&quot;clicked&quot;</span>, _tbl_btn_cb, layout);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(bt);</div>
<div class="ttc" id="aEvas__Common_8h_html_aecbac710f36d52911fc34dcdaf8e729c"><div class="ttname"><a href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a></div><div class="ttdeci">#define EVAS_HINT_FILL</div><div class="ttdoc">Use with evas_object_size_hint_align_set(), evas_object_size_hint_align_get(), evas_object_size_hint_...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:298</div></div>
<div class="ttc" id="agroup__Elm__Button_html_ga0021b9d86d822367035843ed18bc6ea9"><div class="ttname"><a href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a></div><div class="ttdeci">Evas_Object * elm_button_add(Evas_Object *parent)</div><div class="ttdoc">Add a new button to the parent's canvas.</div><div class="ttdef"><b>Definition:</b> efl_ui_button.c:459</div></div>
<div class="ttc" id="agroup__Elm__Clock_html_gaaa9f775111dedb6487a61f382aaab41b"><div class="ttname"><a href="group__Elm__Clock.html#gaaa9f775111dedb6487a61f382aaab41b">elm_clock_add</a></div><div class="ttdeci">Evas_Object * elm_clock_add(Evas_Object *parent)</div><div class="ttdoc">Add a new clock widget to the given parent Elementary (container) object.</div><div class="ttdef"><b>Definition:</b> elm_clock.c:797</div></div>
<div class="ttc" id="agroup__Elm__Icon_html_ga5739728c1209f90422cf65a778a16502"><div class="ttname"><a href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a></div><div class="ttdeci">Evas_Object * elm_icon_add(Evas_Object *parent)</div><div class="ttdoc">Add a new icon object to the parent.</div><div class="ttdef"><b>Definition:</b> elm_icon.c:613</div></div>
<div class="ttc" id="agroup__Elm__Icon_html_gab764b4c6c90543f254c013eff6a6db66"><div class="ttname"><a href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66">elm_icon_standard_set</a></div><div class="ttdeci">Eina_Bool elm_icon_standard_set(Evas_Object *obj, const char *name)</div><div class="ttdoc">Set the icon by icon standards names.</div><div class="ttdef"><b>Definition:</b> elm_icon.c:885</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_ga300b36af78c7503a3ae0ec85cfe2aaaf"><div class="ttname"><a href="group__Elm__Layout.html#ga300b36af78c7503a3ae0ec85cfe2aaaf">elm_layout_table_pack</a></div><div class="ttdeci">Eina_Bool elm_layout_table_pack(Eo *obj, const char *part, Evas_Object *child, unsigned short col, unsigned short row, unsigned short colspan, unsigned short rowspan)</div><div class="ttdoc">Insert child to layout table part.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3139</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gaaf1d3e26e36b316977336066b6f56632"><div class="ttname"><a href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_align_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's alignment.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2650</div></div>
<div class="ttc" id="agroup__Evas__Smart__Object__Group_html_gac12dd6655f488cc47ce6cf00eb7d12b2"><div class="ttname"><a href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a></div><div class="ttdeci">EVAS_API void evas_object_smart_callback_add(Evas_Object *eo_obj, const char *event, Evas_Smart_Cb func, const void *data)</div><div class="ttdoc">Add (register) a callback function to the smart event specified by event on the smart object obj.</div><div class="ttdef"><b>Definition:</b> evas_object_smart.c:1040</div></div>
</div><!-- fragment --><p> Notice that we just set size hints for every object, and call the function <a class="el" href="group__Elm__Layout.html#ga300b36af78c7503a3ae0ec85cfe2aaaf" title="Insert child to layout table part.">elm_layout_table_pack()</a>, which does all the work. It will place the elements in the specified row/column, with row and column span if required, and then the object's size and position will be controlled by the layout widget. It will also respect size hints, alignments and weight properties set to these widgets. The resulting distribution on the screen depends on the table properties (described in the theme), the size hints set on each widget, and on the cells of the table that are being used.</p>
<p>For instance, we add the two icons and the clock on the first, second and third cells of the first row, and add the button the second row, making it span for 3 columns (thus having the size of the entire table width). This will result in a table that has 2 rows and 3 columns.</p>
<p>Now let's add some widgets to the box area of our layout. This box is around 20% and 50% of the vertical size of the layout, and 100% of its width. The theme defines that it will use an "horizontal flow" distribution to its elements. Unlike the table, a box will distribute elements without knowing about rows and columns, and the distribution function selected will take care of putting them in row, column, both, or any other available layout. This is also described in the Edje documentation.</p>
<p>This box area is similar to the Elm_Box widget of elementary, with the difference that its position and properties are controlled by the theme of the layout. It also contains more than one API to add items to it, since the items position now is defined in terms of a list of items, not a matrix. There's the first position (can have items added to it with <a class="el" href="group__Elm__Layout.html#ga558e5e6627b954153bf8acdae0948427" title="Prepend child to layout box part.">elm_layout_box_prepend()</a>), the last position (<a class="el" href="group__Elm__Layout.html#gafcb30a9481eabc7f501b3efcea75f341" title="Append child to layout box part.">elm_layout_box_append()</a>), the nth position (<a class="el" href="group__Elm__Layout.html#ga0f7045569f06f65f15f0dc2eb7ee5085" title="Insert child to layout box part at a given position.">elm_layout_box_insert_at()</a>) and the position right before an element (<a class="el" href="group__Elm__Layout.html#ga4a282118f209b67339a2afdd2684fd3c" title="Insert child to layout box part before a reference object.">elm_layout_box_insert_before()</a>). We use insert_at and prepend functions to add the first two buttons to this box, and insert_before on the callback of each button. The callback code will be shown later, but it basically adds a button just before the clicked button using the <a class="el" href="group__Elm__Layout.html#ga4a282118f209b67339a2afdd2684fd3c" title="Insert child to layout box part before a reference object.">elm_layout_box_insert_before()</a> function. Here's the code for adding the first 2 buttons:</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   item = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   elm_object_text_set(item, <span class="stringliteral">&quot;Position 0&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(item, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(item, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga0f7045569f06f65f15f0dc2eb7ee5085">elm_layout_box_insert_at</a>(layout, BOX, item, 0);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(item, <span class="stringliteral">&quot;clicked&quot;</span>, _box_btn_cb, layout);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(item);</div>
<div class="ttc" id="agroup__Elm__Layout_html_ga0f7045569f06f65f15f0dc2eb7ee5085"><div class="ttname"><a href="group__Elm__Layout.html#ga0f7045569f06f65f15f0dc2eb7ee5085">elm_layout_box_insert_at</a></div><div class="ttdeci">Eina_Bool elm_layout_box_insert_at(Eo *obj, const char *part, Evas_Object *child, unsigned int pos)</div><div class="ttdoc">Insert child to layout box part at a given position.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3116</div></div>
<div class="line"> </div>
<div class="line">   item = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   elm_object_text_set(item, <span class="stringliteral">&quot;Prepended&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(item, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(item, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga558e5e6627b954153bf8acdae0948427">elm_layout_box_prepend</a>(layout, BOX, item);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(item, <span class="stringliteral">&quot;clicked&quot;</span>, _box_btn_cb, layout);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(item);</div>
<div class="ttc" id="agroup__Elm__Layout_html_ga558e5e6627b954153bf8acdae0948427"><div class="ttname"><a href="group__Elm__Layout.html#ga558e5e6627b954153bf8acdae0948427">elm_layout_box_prepend</a></div><div class="ttdeci">Eina_Bool elm_layout_box_prepend(Eo *obj, const char *part, Evas_Object *child)</div><div class="ttdoc">Prepend child to layout box part.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3104</div></div>
</div><!-- fragment --><p> Finally, we have an area in this layout theme, in the bottom part of it, reserved for adding an specific widget. Differently from the 2 parts described until now, this one can only receive one widget with the call <a class="el" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642" title="Set the content on part of a given container widget.">elm_object_part_content_set()</a> for the layout. If there was already an item on this specific part, it will be deleted (one can use <a class="el" href="group__Elm__General.html#gadc5a1df25fe17e31739841133b53b5fc" title="Unset the content on a part of a given container widget.">elm_object_part_content_unset()</a> in order to remove it without deleting). An example of removing it without deleting, but manually deleting this widget just after that, can be seen on the callback for this button. Actually, the callback defined for this button will clean the two other parts (deleting all of their elements) and then remove and delete this button.</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   bt2 = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   elm_object_text_set(bt2, <span class="stringliteral">&quot;Delete All&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(layout, SWALLOW, bt2);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(bt2, <span class="stringliteral">&quot;clicked&quot;</span>, _swallow_btn_cb, layout);</div>
<div class="ttc" id="agroup__Elm__General_html_ga0531ec8867c72def7c780601764ca642"><div class="ttname"><a href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a></div><div class="ttdeci">void elm_object_part_content_set(Evas_Object *obj, const char *part, Evas_Object *content)</div><div class="ttdoc">Set the content on part of a given container widget.</div><div class="ttdef"><b>Definition:</b> elm_main.c:1562</div></div>
</div><!-- fragment --><p> Also notice that, for this last added button, we don't have to call <a class="el" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5" title="Makes the given Evas object visible.">evas_object_show()</a> on it. This is a particularity of the theme for layouts, that will have total control over the properties like size, position, visibility and clipping of a widget added with <a class="el" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642" title="Set the content on part of a given container widget.">elm_object_part_content_set()</a>. Again, read the Edje documentation to understand this better.</p>
<p>Now we just put the code for the different callbacks specified for each kind of button and make simple comments about them:</p>
 <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_tbl_btn_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *btn, <span class="keywordtype">void</span> *event_info <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *layout = data;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga1f1d38b6dbe9910b5243e85475b51d6d">elm_layout_table_unpack</a>(layout, TABLE, btn);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9217cf1d90690dbd1960db155d1c7476">evas_object_del</a>(btn);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_box_btn_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *btn, <span class="keywordtype">void</span> *event_info <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *layout = data;</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *item;</div>
<div class="line">   <span class="keywordtype">char</span> buf[30];</div>
<div class="line"> </div>
<div class="line">   snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;Button %02d&quot;</span>, _box_buttons++);</div>
<div class="line"> </div>
<div class="line">   item = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(<a class="code" href="group__Elm__WidgetNavigation.html#ga0b5f83c403948f1418e434f3ed94973f">elm_object_parent_widget_get</a>(layout));</div>
<div class="line">   elm_object_text_set(item, buf);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(item, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(item, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga4a282118f209b67339a2afdd2684fd3c">elm_layout_box_insert_before</a>(layout, BOX, item, btn);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(item, <span class="stringliteral">&quot;clicked&quot;</span>, _box_btn_cb, layout);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(item);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_swallow_btn_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *btn <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <span class="keywordtype">void</span> *event_info <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *layout = data;</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *item;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga9d267b448bb42b752abc0bba97d7aa29">elm_layout_table_clear</a>(layout, TABLE, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#gacc6a8200aa55bf5450e970fd0f84feb7">elm_layout_box_remove_all</a>(layout, BOX, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line">   item = <a class="code" href="group__Elm__General.html#gadc5a1df25fe17e31739841133b53b5fc">elm_object_part_content_unset</a>(layout, SWALLOW);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9217cf1d90690dbd1960db155d1c7476">evas_object_del</a>(item);</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga05c12dacc8b4058994df842b41be85fc"><div class="ttname"><a href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a></div><div class="ttdeci">#define EINA_TRUE</div><div class="ttdoc">boolean value TRUE (numerical value 1)</div><div class="ttdef"><b>Definition:</b> eina_types.h:539</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
<div class="ttc" id="agroup__Elm__General_html_gadc5a1df25fe17e31739841133b53b5fc"><div class="ttname"><a href="group__Elm__General.html#gadc5a1df25fe17e31739841133b53b5fc">elm_object_part_content_unset</a></div><div class="ttdeci">Evas_Object * elm_object_part_content_unset(Evas_Object *obj, const char *part)</div><div class="ttdoc">Unset the content on a part of a given container widget.</div><div class="ttdef"><b>Definition:</b> elm_main.c:1576</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_ga1f1d38b6dbe9910b5243e85475b51d6d"><div class="ttname"><a href="group__Elm__Layout.html#ga1f1d38b6dbe9910b5243e85475b51d6d">elm_layout_table_unpack</a></div><div class="ttdeci">Evas_Object * elm_layout_table_unpack(Eo *obj, const char *part, Evas_Object *child)</div><div class="ttdoc">Unpack (remove) a child of the given part table.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3145</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_ga4a282118f209b67339a2afdd2684fd3c"><div class="ttname"><a href="group__Elm__Layout.html#ga4a282118f209b67339a2afdd2684fd3c">elm_layout_box_insert_before</a></div><div class="ttdeci">Eina_Bool elm_layout_box_insert_before(Eo *obj, const char *part, Evas_Object *child, const Evas_Object *reference)</div><div class="ttdoc">Insert child to layout box part before a reference object.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3110</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_ga9d267b448bb42b752abc0bba97d7aa29"><div class="ttname"><a href="group__Elm__Layout.html#ga9d267b448bb42b752abc0bba97d7aa29">elm_layout_table_clear</a></div><div class="ttdeci">Eina_Bool elm_layout_table_clear(Eo *obj, const char *part, Eina_Bool clear)</div><div class="ttdoc">Remove all the child objects of the given part table.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3153</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_gacc6a8200aa55bf5450e970fd0f84feb7"><div class="ttname"><a href="group__Elm__Layout.html#gacc6a8200aa55bf5450e970fd0f84feb7">elm_layout_box_remove_all</a></div><div class="ttdeci">Eina_Bool elm_layout_box_remove_all(Eo *obj, const char *part, Eina_Bool clear)</div><div class="ttdoc">Remove all children of the given part box.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3130</div></div>
<div class="ttc" id="agroup__Elm__WidgetNavigation_html_ga0b5f83c403948f1418e434f3ed94973f"><div class="ttname"><a href="group__Elm__WidgetNavigation.html#ga0b5f83c403948f1418e434f3ed94973f">elm_object_parent_widget_get</a></div><div class="ttdeci">Evas_Object * elm_object_parent_widget_get(const Evas_Object *obj)</div><div class="ttdoc">Get the first parent of the given object that is an Elementary widget.</div><div class="ttdef"><b>Definition:</b> elm_main.c:1833</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga9217cf1d90690dbd1960db155d1c7476"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga9217cf1d90690dbd1960db155d1c7476">evas_object_del</a></div><div class="ttdeci">EVAS_API void evas_object_del(Evas_Object *obj)</div><div class="ttdoc">Marks the given Evas object for deletion (when Evas will free its memory).</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:928</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
<div class="line">}</div>
</div><!-- fragment --><p> The first callback is used for the button in the table, and will just remove itself from the table with <a class="el" href="group__Elm__Layout.html#ga1f1d38b6dbe9910b5243e85475b51d6d" title="Unpack (remove) a child of the given part table.">elm_layout_table_unpack()</a>, which remove items without deleting them, and then calling <a class="el" href="group__Evas__Object__Group__Basic.html#ga9217cf1d90690dbd1960db155d1c7476" title="Marks the given Evas object for deletion (when Evas will free its memory).">evas_object_del()</a> on itself.</p>
<p>The second callback is for buttons added to the box. When clicked, these buttons will create a new button, and add them to the same box, in the position just before the clicked button.</p>
<p>And the last callback is for the button added to the "content" area. It will clear both the table and the box, passing <code>EINA_TRUE</code> to their respective <code>clear</code> parameters, which will imply on the items of these containers being deleted.</p>
<p>A screenshot of this example can be seen on:</p>
<div class="image">
<img src="layout_example_01.png" alt=""/>
</div>
  </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:46</span>
  </p>
</div>
</body>
</html>
