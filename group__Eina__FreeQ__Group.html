<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Free Queue Group</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Free Queue Group<div class="ingroups"><a class="el" href="group__Eina.html">Eina</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This provides a mechanism to defer actual freeing of memory data at some time in the future.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga1219f0559445ed399a931163736e0a4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga1219f0559445ed399a931163736e0a4f">EINA_FREEQ_FREE</a>(ptr)&#160;&#160;&#160;<a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92">eina_freeq_ptr_main_add</a>(ptr, NULL, sizeof(*(ptr)))</td></tr>
<tr class="memdesc:ga1219f0559445ed399a931163736e0a4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro for well known structures and types.  <a href="group__Eina__FreeQ__Group.html#ga1219f0559445ed399a931163736e0a4f">More...</a><br /></td></tr>
<tr class="separator:ga1219f0559445ed399a931163736e0a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7997c740db6b46e562ff053b49912188"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga7997c740db6b46e562ff053b49912188">EINA_FREEQ_N_FREE</a>(ptr,  n)&#160;&#160;&#160;<a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92">eina_freeq_ptr_main_add</a>(ptr, NULL, sizeof(*(ptr)) * n)</td></tr>
<tr class="memdesc:ga7997c740db6b46e562ff053b49912188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro for well known structures and types.  <a href="group__Eina__FreeQ__Group.html#ga7997c740db6b46e562ff053b49912188">More...</a><br /></td></tr>
<tr class="separator:ga7997c740db6b46e562ff053b49912188"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa950e27974a73908ef81a2bb20cf94c7"><td class="memItemLeft" align="right" valign="top">typedef struct _Eina_FreeQ&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a></td></tr>
<tr class="memdesc:gaa950e27974a73908ef81a2bb20cf94c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A queue of pointers to free in the future.  <a href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">More...</a><br /></td></tr>
<tr class="separator:gaa950e27974a73908ef81a2bb20cf94c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf7f65a475ab3d1e63214cfd3c9c4598"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__Eina__FreeQ__Group.html#ga52c4eb7c091de64d45dc7a97c650eff4">_Eina_FreeQ_Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#gadf7f65a475ab3d1e63214cfd3c9c4598">Eina_FreeQ_Type</a></td></tr>
<tr class="memdesc:gadf7f65a475ab3d1e63214cfd3c9c4598"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of free queues.  <a href="group__Eina__FreeQ__Group.html#gadf7f65a475ab3d1e63214cfd3c9c4598">More...</a><br /></td></tr>
<tr class="separator:gadf7f65a475ab3d1e63214cfd3c9c4598"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga52c4eb7c091de64d45dc7a97c650eff4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga52c4eb7c091de64d45dc7a97c650eff4">_Eina_FreeQ_Type</a> { <br />
&#160;&#160;<a class="el" href="group__Eina__FreeQ__Group.html#gga52c4eb7c091de64d45dc7a97c650eff4a38a3a01f7a20cb8102d7747998118372">EINA_FREEQ_DEFAULT</a>
, <br />
&#160;&#160;<a class="el" href="group__Eina__FreeQ__Group.html#gga52c4eb7c091de64d45dc7a97c650eff4ad991b1175049f0befd977324e79e73cd">EINA_FREEQ_POSTPONED</a>
<br />
 }</td></tr>
<tr class="memdesc:ga52c4eb7c091de64d45dc7a97c650eff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of free queues.  <a href="group__Eina__FreeQ__Group.html#ga52c4eb7c091de64d45dc7a97c650eff4">More...</a><br /></td></tr>
<tr class="separator:ga52c4eb7c091de64d45dc7a97c650eff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaea3a0dc972581f5fbe38c9dcfb9eb6da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#gaea3a0dc972581f5fbe38c9dcfb9eb6da">eina_freeq_new</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gadf7f65a475ab3d1e63214cfd3c9c4598">Eina_FreeQ_Type</a> type)</td></tr>
<tr class="memdesc:gaea3a0dc972581f5fbe38c9dcfb9eb6da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new free queue to defer freeing of data with.  <a href="group__Eina__FreeQ__Group.html#gaea3a0dc972581f5fbe38c9dcfb9eb6da">More...</a><br /></td></tr>
<tr class="separator:gaea3a0dc972581f5fbe38c9dcfb9eb6da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9df52ffa6ef9fb7d3920e2620b395f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#gac9df52ffa6ef9fb7d3920e2620b395f1">eina_freeq_free</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq)</td></tr>
<tr class="memdesc:gac9df52ffa6ef9fb7d3920e2620b395f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a free queue and anything that is queued in it.  <a href="group__Eina__FreeQ__Group.html#gac9df52ffa6ef9fb7d3920e2620b395f1">More...</a><br /></td></tr>
<tr class="separator:gac9df52ffa6ef9fb7d3920e2620b395f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ba1f6f219b58a7350dcced9acc32b2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__FreeQ__Group.html#gadf7f65a475ab3d1e63214cfd3c9c4598">Eina_FreeQ_Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga5ba1f6f219b58a7350dcced9acc32b2b">eina_freeq_type_get</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq)</td></tr>
<tr class="memdesc:ga5ba1f6f219b58a7350dcced9acc32b2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the type of a free queue.  <a href="group__Eina__FreeQ__Group.html#ga5ba1f6f219b58a7350dcced9acc32b2b">More...</a><br /></td></tr>
<tr class="separator:ga5ba1f6f219b58a7350dcced9acc32b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga771440ebba0f2f2e081ab3f1e5f41c9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga771440ebba0f2f2e081ab3f1e5f41c9f">eina_freeq_main_get</a> (void)</td></tr>
<tr class="memdesc:ga771440ebba0f2f2e081ab3f1e5f41c9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the main loop free queue.  <a href="group__Eina__FreeQ__Group.html#ga771440ebba0f2f2e081ab3f1e5f41c9f">More...</a><br /></td></tr>
<tr class="separator:ga771440ebba0f2f2e081ab3f1e5f41c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fa154e6cb370bb37370ba3598ef43e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga6fa154e6cb370bb37370ba3598ef43e7">eina_freeq_count_max_set</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq, int count)</td></tr>
<tr class="memdesc:ga6fa154e6cb370bb37370ba3598ef43e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum number of free pointers this queue is allowed.  <a href="group__Eina__FreeQ__Group.html#ga6fa154e6cb370bb37370ba3598ef43e7">More...</a><br /></td></tr>
<tr class="separator:ga6fa154e6cb370bb37370ba3598ef43e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a235194e9340c3ef90823b05efdec28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga9a235194e9340c3ef90823b05efdec28">eina_freeq_count_max_get</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq)</td></tr>
<tr class="memdesc:ga9a235194e9340c3ef90823b05efdec28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum number of free pointers this queue is allowed.  <a href="group__Eina__FreeQ__Group.html#ga9a235194e9340c3ef90823b05efdec28">More...</a><br /></td></tr>
<tr class="separator:ga9a235194e9340c3ef90823b05efdec28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6f1d7198ff8cdcca95e04a6543ae3d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#gaa6f1d7198ff8cdcca95e04a6543ae3d4">eina_freeq_mem_max_set</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq, size_t mem)</td></tr>
<tr class="memdesc:gaa6f1d7198ff8cdcca95e04a6543ae3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum amount of memory allowed.  <a href="group__Eina__FreeQ__Group.html#gaa6f1d7198ff8cdcca95e04a6543ae3d4">More...</a><br /></td></tr>
<tr class="separator:gaa6f1d7198ff8cdcca95e04a6543ae3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dfcfad93bef46477f1c515bb08f9e96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga3dfcfad93bef46477f1c515bb08f9e96">eina_freeq_mem_max_get</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq)</td></tr>
<tr class="memdesc:ga3dfcfad93bef46477f1c515bb08f9e96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum amount of memory allowed.  <a href="group__Eina__FreeQ__Group.html#ga3dfcfad93bef46477f1c515bb08f9e96">More...</a><br /></td></tr>
<tr class="separator:ga3dfcfad93bef46477f1c515bb08f9e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3bf362647b2df43706cb3954fae0040"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#gaa3bf362647b2df43706cb3954fae0040">eina_freeq_clear</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq)</td></tr>
<tr class="memdesc:gaa3bf362647b2df43706cb3954fae0040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear out all queued items to be freed by freeing them.  <a href="group__Eina__FreeQ__Group.html#gaa3bf362647b2df43706cb3954fae0040">More...</a><br /></td></tr>
<tr class="separator:gaa3bf362647b2df43706cb3954fae0040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43f9f6fdd59a505950087f5758aa19f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga43f9f6fdd59a505950087f5758aa19f8">eina_freeq_reduce</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq, int count)</td></tr>
<tr class="memdesc:ga43f9f6fdd59a505950087f5758aa19f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduce the number of items in the free queue by up to <code>count</code>.  <a href="group__Eina__FreeQ__Group.html#ga43f9f6fdd59a505950087f5758aa19f8">More...</a><br /></td></tr>
<tr class="separator:ga43f9f6fdd59a505950087f5758aa19f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6264c6c7fe7361083dc9119d86b3479"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#gaf6264c6c7fe7361083dc9119d86b3479">eina_freeq_ptr_pending</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq)</td></tr>
<tr class="memdesc:gaf6264c6c7fe7361083dc9119d86b3479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if there are any items pending a free in the free queue.  <a href="group__Eina__FreeQ__Group.html#gaf6264c6c7fe7361083dc9119d86b3479">More...</a><br /></td></tr>
<tr class="separator:gaf6264c6c7fe7361083dc9119d86b3479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga637c79c42a0a7cc5266d5becbba20581"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#ga637c79c42a0a7cc5266d5becbba20581">eina_freeq_ptr_add</a> (<a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *fq, void *ptr, void(*free_func)(void *ptr), size_t size)</td></tr>
<tr class="memdesc:ga637c79c42a0a7cc5266d5becbba20581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a pointer with free function and size to the free queue.  <a href="group__Eina__FreeQ__Group.html#ga637c79c42a0a7cc5266d5becbba20581">More...</a><br /></td></tr>
<tr class="separator:ga637c79c42a0a7cc5266d5becbba20581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe655be65cbf4f01310c2147c22f2c92"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92">eina_freeq_ptr_main_add</a> (void *ptr, void(*free_func)(void *ptr), size_t size)</td></tr>
<tr class="memdesc:gafe655be65cbf4f01310c2147c22f2c92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a pointer to the main free queue.  <a href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92">More...</a><br /></td></tr>
<tr class="separator:gafe655be65cbf4f01310c2147c22f2c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This provides a mechanism to defer actual freeing of memory data at some time in the future. </p>
<p>The main free queue will be driven by the EFL main loop and ensure data is eventually freed.</p>
<p>For debugging and tuning you may set the following environment variables, applicable only to free queues of the default type:</p>
<p>EINA_FREEQ_BYPASS=1/0</p>
<p>Set this environment variable to 1 to immediately bypass the free queue and have all items submitted free with their free function immediately. Set it to 0 to force the free queue to work and delay freeing of items. Note that you can override this by setting count or mem max by <a class="el" href="group__Eina__FreeQ__Group.html#ga6fa154e6cb370bb37370ba3598ef43e7" title="Set the maximum number of free pointers this queue is allowed.">eina_freeq_count_max_set()</a> or <a class="el" href="group__Eina__FreeQ__Group.html#gaa6f1d7198ff8cdcca95e04a6543ae3d4" title="Set the maximum amount of memory allowed.">eina_freeq_mem_max_set()</a> which will disable bypass for that specific free queue. Once bypass is disabled it cannot be re-enabled.</p>
<p>EINA_FREEQ_FILL_MAX=N</p>
<p>This sets the maximum number of bytes to N an item in the free queue may be in size for the free queue to fill it with debugging values like 0x55 in every byte, to ensure you can see what memory has been freed or not when debugging in tools like gdb. Note that this value is actually one greater than the actual maximum, so if this is set to 100 a memory blob of 100 bytes will not be filled but one of 99 bytes in size will be.</p>
<p>EINA_FREEQ_TOTAL_MAX=N</p>
<p>This sets the maximum number of items allowed to N on a free queue by default before it starts emptying the free queue out to make room.</p>
<p>EINA_FREEQ_MEM_MAX=N</p>
<p>This sets the maximum total number of Kb (Kilobytes) of memory allowed on a free queue by default to N Kb worth of data.</p>
<p>EINA_FREEQ_FILL=N</p>
<p>This sets the byte value to write to every byte of an allocation that is added to the free queue when it is added to mark the data as invalid. The default value is 0x55 (85). Memory is only filled if the size of the allocation is less than the max that you can adjust with EINA_FREEQ_FILL_MAX.</p>
<p>EINA_FREEQ_FILL_FREED=N</p>
<p>Memory just before it is actually passed to the free function to be freed will be filled with this pattern value in every byte. The default value is 0x77 (119). Memory is only filled if the size of the allocation is less than the max that you can adjust with EINA_FREEQ_FILL_MAX.</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga1219f0559445ed399a931163736e0a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1219f0559445ed399a931163736e0a4f">&#9670;&nbsp;</a></span>EINA_FREEQ_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EINA_FREEQ_FREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92">eina_freeq_ptr_main_add</a>(ptr, NULL, sizeof(*(ptr)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience macro for well known structures and types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>The pointer to free</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92" title="Add a pointer to the main free queue.">eina_freeq_ptr_main_add()</a> but the free function is assumed to be the libc free() function, and size is provided by sizeof(*ptr), so it will not work on void pointers or will be inaccurate for pointers to arrays. For arrays please use EINA_FREEQ_ARRAY_FREE()</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<a id="ga7997c740db6b46e562ff053b49912188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7997c740db6b46e562ff053b49912188">&#9670;&nbsp;</a></span>EINA_FREEQ_N_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EINA_FREEQ_N_FREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92">eina_freeq_ptr_main_add</a>(ptr, NULL, sizeof(*(ptr)) * n)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience macro for well known structures and types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>The pointer to free</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92" title="Add a pointer to the main free queue.">eina_freeq_ptr_main_add()</a> but the free function is assumed to be the libc free() function, and size is provided by sizeof(*ptr), so it will not work on void pointers. Total size is multiplied by the count <code>n</code> so it should work well for arrays of types.</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaa950e27974a73908ef81a2bb20cf94c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa950e27974a73908ef81a2bb20cf94c7">&#9670;&nbsp;</a></span>Eina_FreeQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A queue of pointers to free in the future. </p>
<p>You may create custom free queues of your own to defer freeing, use the main free queue where the mainloop will free things as it iterates, or eina will free everything on shut down. </p>

</div>
</div>
<a id="gadf7f65a475ab3d1e63214cfd3c9c4598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf7f65a475ab3d1e63214cfd3c9c4598">&#9670;&nbsp;</a></span>Eina_FreeQ_Type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__Eina__FreeQ__Group.html#ga52c4eb7c091de64d45dc7a97c650eff4">_Eina_FreeQ_Type</a> <a class="el" href="group__Eina__FreeQ__Group.html#gadf7f65a475ab3d1e63214cfd3c9c4598">Eina_FreeQ_Type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of free queues. </p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga52c4eb7c091de64d45dc7a97c650eff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52c4eb7c091de64d45dc7a97c650eff4">&#9670;&nbsp;</a></span>_Eina_FreeQ_Type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__Eina__FreeQ__Group.html#ga52c4eb7c091de64d45dc7a97c650eff4">_Eina_FreeQ_Type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of free queues. </p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga52c4eb7c091de64d45dc7a97c650eff4a38a3a01f7a20cb8102d7747998118372"></a>EINA_FREEQ_DEFAULT&#160;</td><td class="fielddoc"><p>Default type of free queue. </p>
<p>Default free queue, any object added to it should be considered freed immediately. Use this kind of freeq for debugging and additional memory safety purposes only.</p>
<p>As this type of free queue is thread-safe, the free functions used must also be thread-safe (e.g.. libc free()).</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="gga52c4eb7c091de64d45dc7a97c650eff4ad991b1175049f0befd977324e79e73cd"></a>EINA_FREEQ_POSTPONED&#160;</td><td class="fielddoc"><p>Postponed type of free queue. </p>
<p>Postponed free queues behave differently in that objects added to it are not to be considered freed immediately, but rather they are short-lived. Use this to return temporary objects that may be used only in the local scope. The queued objects lifetime ends as soon as the execution comes back to the loop. Objects added to this kind of free queue should be accessed exclusively from the same thread that adds them.</p>
<p>If a thread does not have a loop attached, the application may leak all those objects. At the moment of writing this means only the main loop should use such a free queue.</p>
<p>By default those queues have no memory limit, and will be entirely flushed when the execution comes back to the loop.</p>
<p>This type of free queue is not thread-safe and should be considered local to a single thread.</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaea3a0dc972581f5fbe38c9dcfb9eb6da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea3a0dc972581f5fbe38c9dcfb9eb6da">&#9670;&nbsp;</a></span>eina_freeq_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a>* eina_freeq_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gadf7f65a475ab3d1e63214cfd3c9c4598">Eina_FreeQ_Type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new free queue to defer freeing of data with. </p>
<dl class="section return"><dt>Returns</dt><dd>A new free queue </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__FreeQ__Group.html#gga52c4eb7c091de64d45dc7a97c650eff4a38a3a01f7a20cb8102d7747998118372">EINA_FREEQ_DEFAULT</a>, and <a class="el" href="group__Eina__FreeQ__Group.html#gga52c4eb7c091de64d45dc7a97c650eff4ad991b1175049f0befd977324e79e73cd">EINA_FREEQ_POSTPONED</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__Eina__Main__Group.html#ga81b8137665b8a4d2cb38ca50017d4c74">eina_init()</a>, and <a class="el" href="group__Elm__General.html#gab31fb3af2f25295fea1eb05f69724eb5">elm_quicklaunch_init()</a>.</p>

</div>
</div>
<a id="gac9df52ffa6ef9fb7d3920e2620b395f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac9df52ffa6ef9fb7d3920e2620b395f1">&#9670;&nbsp;</a></span>eina_freeq_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_freeq_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a free queue and anything that is queued in it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fq</td><td>The free queue to free and clear.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__FreeQ__Group.html#gaa3bf362647b2df43706cb3954fae0040">eina_freeq_clear()</a>, and <a class="el" href="group__Eina__Lock__Group.html#gaf8d1c4e3aff3bd26fc85d81ed8c4e71a">eina_lock_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__Eina__Main__Group.html#ga5bf35513199d5220341437c05696285d">eina_shutdown()</a>.</p>

</div>
</div>
<a id="ga5ba1f6f219b58a7350dcced9acc32b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ba1f6f219b58a7350dcced9acc32b2b">&#9670;&nbsp;</a></span>eina_freeq_type_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__FreeQ__Group.html#gadf7f65a475ab3d1e63214cfd3c9c4598">Eina_FreeQ_Type</a> eina_freeq_type_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query the type of a free queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fq</td><td>The free queue to inspect.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__FreeQ__Group.html#gga52c4eb7c091de64d45dc7a97c650eff4a38a3a01f7a20cb8102d7747998118372">EINA_FREEQ_DEFAULT</a>, and <a class="el" href="group__Eina__FreeQ__Group.html#gga52c4eb7c091de64d45dc7a97c650eff4ad991b1175049f0befd977324e79e73cd">EINA_FREEQ_POSTPONED</a>.</p>

</div>
</div>
<a id="ga771440ebba0f2f2e081ab3f1e5f41c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga771440ebba0f2f2e081ab3f1e5f41c9f">&#9670;&nbsp;</a></span>eina_freeq_main_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a>* eina_freeq_main_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the main loop free queue. </p>
<dl class="section return"><dt>Returns</dt><dd>The main loop free queue.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92">eina_freeq_ptr_main_add()</a>, and <a class="el" href="group__Eina__Main__Group.html#ga5bf35513199d5220341437c05696285d">eina_shutdown()</a>.</p>

</div>
</div>
<a id="ga6fa154e6cb370bb37370ba3598ef43e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fa154e6cb370bb37370ba3598ef43e7">&#9670;&nbsp;</a></span>eina_freeq_count_max_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_freeq_count_max_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum number of free pointers this queue is allowed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fq</td><td>The free queue to alter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>The maximum number of items allowed, negative values mean no limit</td></tr>
  </table>
  </dd>
</dl>
<p>This will alter the maximum number of pointers allowed in the given free queue. If more items are added to the free queue than are allowed, excess items will be freed to make room for the new items. If count is changed, then excess items may be cleaned out at the time this API is called.</p>
<dl class="section note"><dt>Note</dt><dd>Setting a maximum count on a postponed free queue leads to undefined behavior.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<a id="ga9a235194e9340c3ef90823b05efdec28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a235194e9340c3ef90823b05efdec28">&#9670;&nbsp;</a></span>eina_freeq_count_max_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> int eina_freeq_count_max_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the maximum number of free pointers this queue is allowed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fq</td><td>The free queue to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The maximum number of free items allowed or -1 for infinity</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<a id="gaa6f1d7198ff8cdcca95e04a6543ae3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa6f1d7198ff8cdcca95e04a6543ae3d4">&#9670;&nbsp;</a></span>eina_freeq_mem_max_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_freeq_mem_max_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum amount of memory allowed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fq</td><td>The free queue to alter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mem</td><td>The maximum memory in bytes</td></tr>
  </table>
  </dd>
</dl>
<p>This will alter the maximum amount of memory allowed for pointers stored in the free queue. The size used is the size give, so items given that are 0 sized will not contribute to this limit. If items with a total memory footprint are added to the free queue, items will be cleaned out until the total is below this limit. Changing the limit may involve cleaning out excess items from the free queue until the total amount of memory used by items in the queue is below or at the limit.</p>
<dl class="section note"><dt>Note</dt><dd>Setting a memory limit on a postponed free queue leads to undefined behavior.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<a id="ga3dfcfad93bef46477f1c515bb08f9e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3dfcfad93bef46477f1c515bb08f9e96">&#9670;&nbsp;</a></span>eina_freeq_mem_max_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> size_t eina_freeq_mem_max_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the maximum amount of memory allowed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fq</td><td>The free queue to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The maximum amount of memory in bytes</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<a id="gaa3bf362647b2df43706cb3954fae0040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3bf362647b2df43706cb3954fae0040">&#9670;&nbsp;</a></span>eina_freeq_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_freeq_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear out all queued items to be freed by freeing them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fq</td><td>The free queue to clear</td></tr>
  </table>
  </dd>
</dl>
<p>This will free and thus remove all queued items from the free queue when this function is called. When it returns the free queue should be empty.</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__Eina__FreeQ__Group.html#gac9df52ffa6ef9fb7d3920e2620b395f1">eina_freeq_free()</a>.</p>

</div>
</div>
<a id="ga43f9f6fdd59a505950087f5758aa19f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43f9f6fdd59a505950087f5758aa19f8">&#9670;&nbsp;</a></span>eina_freeq_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_freeq_reduce </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reduce the number of items in the free queue by up to <code>count</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fq</td><td>The free queue to reduce in item count </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>The number of items to try and free</td></tr>
  </table>
  </dd>
</dl>
<p>This will attempt to free up to <code>count</code> items from the given free queue and thus reduce the amount of memory it is holding on to. This function will return once it has removed <code>count</code> items or there are no more items to remove from the queue.</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<a id="gaf6264c6c7fe7361083dc9119d86b3479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6264c6c7fe7361083dc9119d86b3479">&#9670;&nbsp;</a></span>eina_freeq_ptr_pending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> eina_freeq_ptr_pending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return if there are any items pending a free in the free queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fq</td><td>The free queue to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EINA_TRUE if there are items to free, EINA_FALSE otherwise</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<a id="ga637c79c42a0a7cc5266d5becbba20581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga637c79c42a0a7cc5266d5becbba20581">&#9670;&nbsp;</a></span>eina_freeq_ptr_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_freeq_ptr_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__FreeQ__Group.html#gaa950e27974a73908ef81a2bb20cf94c7">Eina_FreeQ</a> *&#160;</td>
          <td class="paramname"><em>fq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *ptr)&#160;</td>
          <td class="paramname"><em>free_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a pointer with free function and size to the free queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fq</td><td>The free queue to add the pointer to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>The pointer to free </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free_func</td><td>The function used to free the pointer with </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size of the data the pointer points to</td></tr>
  </table>
  </dd>
</dl>
<p>This adds the given <code>ptr</code> pointer to the queue to be freed later on. The function <code>free_func</code> will be used, or if this is NULL, it is assumed the libc free() function will be used then instead. The <code>size</code> parameter determines the size of the data pointed to, but if this is 0 then no assumptions are made about size and the pointer is considered opaque. A zero sized pointer will not contribute to the total memory usage of items in the queue as well. If <code>size</code> is supplied it must be correct as the memory may be written to for debugging purposes or otherwise inspected or checksummed. Once a pointer is added to the free queue with this API the memory should be considered freed as if the real <code>free_func</code> was called immediately (and it may actually be called immediately if certain environment variables are set). A free queue exists to move the cost of freeing to another point in time when it is more convenient to do so as well as provide some robustness for badly written code that may access memory after freeing. Note that when using tools like valgrind, eina detects this and will also immediately free the data so valgrind's own memory checkers can detect use after free as normal.</p>
<p>Note: The free function must not access the CONTENT of the memory to be freed, or at least consider it invalid and full of garbage. It is already invalid at the moment it is added to the free queue. Just the actual free function may be delayed. The free function may also not access other memory already freed before being added to the free queue. They may do tricks like use memory headers that are outside the memory region to be freed (pass in pointer char *x, then char *header_address = x - 16 to get header information) as this header is not considered part of the free data. This note does not apply if you use a size of 0 for the pointer, but then you lose canary debugging ability when using 0 sized pointers on the free queue.</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Log__Group.html#ga2e33caeeeb6051526c01b7fea4d6c91b">EINA_LOG_ERR</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__Eina__FreeQ__Group.html#gafe655be65cbf4f01310c2147c22f2c92">eina_freeq_ptr_main_add()</a>.</p>

</div>
</div>
<a id="gafe655be65cbf4f01310c2147c22f2c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe655be65cbf4f01310c2147c22f2c92">&#9670;&nbsp;</a></span>eina_freeq_ptr_main_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eina_freeq_ptr_main_add </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *ptr)&#160;</td>
          <td class="paramname"><em>free_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a pointer to the main free queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>The pointer to free </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free_func</td><td>The function used to free the pointer with </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size of the data the pointer points to</td></tr>
  </table>
  </dd>
</dl>
<p>This is the same as <a class="el" href="group__Eina__FreeQ__Group.html#ga637c79c42a0a7cc5266d5becbba20581" title="Add a pointer with free function and size to the free queue.">eina_freeq_ptr_add()</a> but the main free queue is fetched by <a class="el" href="group__Eina__FreeQ__Group.html#ga771440ebba0f2f2e081ab3f1e5f41c9f" title="Get the main loop free queue.">eina_freeq_main_get()</a>.</p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__FreeQ__Group.html#ga771440ebba0f2f2e081ab3f1e5f41c9f">eina_freeq_main_get()</a>, and <a class="el" href="group__Eina__FreeQ__Group.html#ga637c79c42a0a7cc5266d5becbba20581">eina_freeq_ptr_add()</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:11:21</span>
  </p>
</div>
</body>
</html>
