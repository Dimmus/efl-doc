<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Ecore animator example</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Ecore animator example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p></p>
<p>For this example we are going to animate a rectangle growing, moving and changing color, and then move it back to it's initial state with a different animation. We are also going to have a second rectangle moving along the bottom of the screen. To do this we are going to use ecore_evas, but since that is not the focus here we won't going into detail about it.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Ecore.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Ecore__Evas_8h.html">Ecore_Evas.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> _advance_frame(<span class="keywordtype">void</span> *data, <span class="keywordtype">double</span> pos);</div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> _advance_frame2(<span class="keywordtype">void</span> *data, <span class="keywordtype">double</span> pos);</div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> _advance_frame3(<span class="keywordtype">void</span> *data);</div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> _start_second_anim(<span class="keywordtype">void</span> *data);</div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> _freeze_third_anim(<span class="keywordtype">void</span> *data);</div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> _thaw_third_anim(<span class="keywordtype">void</span> *data);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *rect, *bg, *rect2;</div>
<div class="line">   Ecore_Evas *ee;</div>
<div class="line">   <a class="code" href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a> *evas;</div>
<div class="line">   <a class="code" href="structEcore__Animator.html">Ecore_Animator</a> *anim;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Ecore__Evas__Group.html#ga32ddbb6457033ad435a177eb0c4fe235">ecore_evas_init</a>();</div>
<div class="line"> </div>
<div class="line">   ee = <a class="code" href="group__Ecore__Evas__Group.html#gac7f2cdbcb79635c34317c1183dd04cb0">ecore_evas_new</a>(NULL, 0, 0, 300, 400, NULL);</div>
<div class="line">   <a class="code" href="group__Ecore__Evas__Group.html#ga4953047ff97d4f1b0d75a7d513d4f317">ecore_evas_show</a>(ee);</div>
<div class="line">   evas = <a class="code" href="group__Ecore__Evas__Group.html#ga75a7cc694b6069e78df47dab0b0f2d20">ecore_evas_get</a>(ee);</div>
<div class="line"> </div>
<div class="line">   bg = <a class="code" href="group__Evas__Object__Rectangle.html#ga36f963e279ff238d0a8006548566ab24">evas_object_rectangle_add</a>(evas);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gacad94595f83580c18908cb3b69b08d1a">evas_object_resize</a>(bg, 300, 400);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(bg);</div>
<div class="ttc" id="aEcore__Evas_8h_html"><div class="ttname"><a href="Ecore__Evas_8h.html">Ecore_Evas.h</a></div><div class="ttdoc">Evas wrapper functions.</div></div>
<div class="ttc" id="agroup__Ecore__Evas__Group_html_ga32ddbb6457033ad435a177eb0c4fe235"><div class="ttname"><a href="group__Ecore__Evas__Group.html#ga32ddbb6457033ad435a177eb0c4fe235">ecore_evas_init</a></div><div class="ttdeci">EAPI int ecore_evas_init(void)</div><div class="ttdoc">Inits the Ecore_Evas system.</div><div class="ttdef"><b>Definition:</b> ecore_evas.c:602</div></div>
<div class="ttc" id="agroup__Ecore__Evas__Group_html_ga4953047ff97d4f1b0d75a7d513d4f317"><div class="ttname"><a href="group__Ecore__Evas__Group.html#ga4953047ff97d4f1b0d75a7d513d4f317">ecore_evas_show</a></div><div class="ttdeci">EAPI void ecore_evas_show(Ecore_Evas *ee)</div><div class="ttdoc">Shows an Ecore_Evas' window.</div><div class="ttdef"><b>Definition:</b> ecore_evas.c:1480</div></div>
<div class="ttc" id="agroup__Ecore__Evas__Group_html_ga75a7cc694b6069e78df47dab0b0f2d20"><div class="ttname"><a href="group__Ecore__Evas__Group.html#ga75a7cc694b6069e78df47dab0b0f2d20">ecore_evas_get</a></div><div class="ttdeci">EAPI Evas * ecore_evas_get(const Ecore_Evas *ee)</div><div class="ttdoc">Gets an Ecore_Evas's Evas.</div><div class="ttdef"><b>Definition:</b> ecore_evas.c:1300</div></div>
<div class="ttc" id="agroup__Ecore__Evas__Group_html_gac7f2cdbcb79635c34317c1183dd04cb0"><div class="ttname"><a href="group__Ecore__Evas__Group.html#gac7f2cdbcb79635c34317c1183dd04cb0">ecore_evas_new</a></div><div class="ttdeci">EAPI Ecore_Evas * ecore_evas_new(const char *engine_name, int x, int y, int w, int h, const char *extra_options)</div><div class="ttdoc">Creates a new Ecore_Evas based on engine name and common parameters.</div><div class="ttdef"><b>Definition:</b> ecore_evas.c:1039</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga3fe0caf72e93b1bab1ca8ee3ccf3f226"><div class="ttname"><a href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div><div class="ttdeci">unsigned char Eina_Bool</div><div class="ttdoc">Type to mimic a boolean.</div><div class="ttdef"><b>Definition:</b> eina_types.h:527</div></div>
<div class="ttc" id="agroup__Evas__Canvas_html_ga5ff87cc4ce6bc43e3b640a6d37f73043"><div class="ttname"><a href="group__Evas__Canvas.html#ga5ff87cc4ce6bc43e3b640a6d37f73043">Evas</a></div><div class="ttdeci">Eo Evas</div><div class="ttdoc">An opaque handle to an Evas canvas.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:163</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gacad94595f83580c18908cb3b69b08d1a"><div class="ttname"><a href="group__Evas__Object__Group.html#gacad94595f83580c18908cb3b69b08d1a">evas_object_resize</a></div><div class="ttdeci">EVAS_API void evas_object_resize(Evas_Object *obj, Evas_Coord w, Evas_Coord h)</div><div class="ttdoc">Changes the size of the given Evas object.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1236</div></div>
<div class="ttc" id="agroup__Evas__Object__Rectangle_html_ga36f963e279ff238d0a8006548566ab24"><div class="ttname"><a href="group__Evas__Object__Rectangle.html#ga36f963e279ff238d0a8006548566ab24">evas_object_rectangle_add</a></div><div class="ttdeci">EVAS_API Evas_Object * evas_object_rectangle_add(Evas *e)</div><div class="ttdoc">Adds a rectangle to the given evas.</div><div class="ttdef"><b>Definition:</b> evas_object_rectangle.c:78</div></div>
<div class="ttc" id="astructEcore__Animator_html"><div class="ttname"><a href="structEcore__Animator.html">Ecore_Animator</a></div><div class="ttdoc">Opaque handle to manage Ecore Animator objects.</div></div>
<div class="line"> </div>
<div class="line">   rect = <a class="code" href="group__Evas__Object__Rectangle.html#ga36f963e279ff238d0a8006548566ab24">evas_object_rectangle_add</a>(evas);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#gab751e9d24c16e74af6f7c08ea5b930c2">evas_object_color_set</a>(rect, 0, 0, 255, 255);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gacad94595f83580c18908cb3b69b08d1a">evas_object_resize</a>(rect, 50, 50);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(rect);</div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_gab751e9d24c16e74af6f7c08ea5b930c2"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#gab751e9d24c16e74af6f7c08ea5b930c2">evas_object_color_set</a></div><div class="ttdeci">EVAS_API void evas_object_color_set(Evas_Object *obj, int r, int g, int b, int a)</div><div class="ttdoc">Sets the general/main color of the given Evas object to the given one.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2024</div></div>
</div><!-- fragment --><p>All of this is just setup, not what we're interested in right now.</p>
<p>Now we are going to set the frametime for our animation to one fiftieth of a second, this will make our program consume more resources but should make our animation extra smooth: </p><div class="fragment"><div class="line"> </div>
<div class="line">   rect2 = <a class="code" href="group__Evas__Object__Rectangle.html#ga36f963e279ff238d0a8006548566ab24">evas_object_rectangle_add</a>(evas);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#gab751e9d24c16e74af6f7c08ea5b930c2">evas_object_color_set</a>(rect2, 0, 55, 0, 255);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gacad94595f83580c18908cb3b69b08d1a">evas_object_resize</a>(rect2, 50, 50);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(rect2);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Ecore__Animator__Group.html#ga2c7aa7e621cd68562519066ad87a3fa1">ecore_animator_frametime_set</a>(1. / 50);</div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_ga2c7aa7e621cd68562519066ad87a3fa1"><div class="ttname"><a href="group__Ecore__Animator__Group.html#ga2c7aa7e621cd68562519066ad87a3fa1">ecore_animator_frametime_set</a></div><div class="ttdeci">void ecore_animator_frametime_set(double frametime)</div><div class="ttdoc">Sets the animator call interval in seconds.</div><div class="ttdef"><b>Definition:</b> ecore_anim.c:874</div></div>
</div><!-- fragment --><p> And now we get right to the business of creating our ecore_animator: </p><div class="fragment"><div class="line">   <a class="code" href="group__Ecore__Animator__Group.html#ga523a0e9716bcc6573eb9f4b310067ed1">ecore_animator_timeline_add</a>(5, _advance_frame, rect);</div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_ga523a0e9716bcc6573eb9f4b310067ed1"><div class="ttname"><a href="group__Ecore__Animator__Group.html#ga523a0e9716bcc6573eb9f4b310067ed1">ecore_animator_timeline_add</a></div><div class="ttdeci">Ecore_Animator * ecore_animator_timeline_add(double runtime, Ecore_Timeline_Cb func, const void *data)</div><div class="ttdoc">Adds an animator that runs for a limited time.</div><div class="ttdef"><b>Definition:</b> ecore_anim.c:544</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>We are telling our animation to last 10 second and to call _advance_frame with rect as data.</dd></dl>
<p>So far we setup the first and second animations, the third one however is a bit different, this time we won't use a timeline animation, that's because we don't want our animation to stop: </p><div class="fragment"><div class="line"> </div>
<div class="line">   anim = <a class="code" href="group__Ecore__Animator__Group.html#gaa1e33b8be9117a26918823c535e429ea">ecore_animator_add</a>(_advance_frame3, rect2);</div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_gaa1e33b8be9117a26918823c535e429ea"><div class="ttname"><a href="group__Ecore__Animator__Group.html#gaa1e33b8be9117a26918823c535e429ea">ecore_animator_add</a></div><div class="ttdeci">Ecore_Animator * ecore_animator_add(Ecore_Task_Cb func, const void *data)</div><div class="ttdoc">Adds an animator to call func at every animation tick during main loop execution.</div><div class="ttdef"><b>Definition:</b> ecore_anim.c:537</div></div>
</div><!-- fragment --><p> Next we set a few timers to execute _start_second_anim, _freeze_third_anim and _thaw_thir_anim in 10, 5 and 10 seconds respectively: </p><div class="fragment"><div class="line"> </div>
<div class="line">   <a class="code" href="group__Ecore__Timer__Group.html#ga7b9cb9d24ecebfdbb957436e2e669402">ecore_timer_add</a>(10, _start_second_anim, rect);</div>
<div class="line">   <a class="code" href="group__Ecore__Timer__Group.html#ga7b9cb9d24ecebfdbb957436e2e669402">ecore_timer_add</a>(5, _freeze_third_anim, anim);</div>
<div class="line">   <a class="code" href="group__Ecore__Timer__Group.html#ga7b9cb9d24ecebfdbb957436e2e669402">ecore_timer_add</a>(10, _thaw_third_anim, anim);</div>
<div class="ttc" id="agroup__Ecore__Timer__Group_html_ga7b9cb9d24ecebfdbb957436e2e669402"><div class="ttname"><a href="group__Ecore__Timer__Group.html#ga7b9cb9d24ecebfdbb957436e2e669402">ecore_timer_add</a></div><div class="ttdeci">Ecore_Timer * ecore_timer_add(double in, Ecore_Task_Cb func, const void *data)</div><div class="ttdoc">Creates a timer to call the given function in the given period of time.</div><div class="ttdef"><b>Definition:</b> ecore_timer.c:189</div></div>
</div><!-- fragment --><p> And now we tell ecore to begin the main loop and free some resources once it leaves the main loop: </p><div class="fragment"><div class="line">   <a class="code" href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a>();</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga9217cf1d90690dbd1960db155d1c7476">evas_object_del</a>(rect);</div>
<div class="line">   <a class="code" href="group__Ecore__Evas__Group.html#gad3ec61f2aa03df4d3dbfd0d311e0c8dc">ecore_evas_free</a>(ee);</div>
<div class="line">   <a class="code" href="group__Ecore__Animator__Group.html#gaadfa590f3c1638035393ed9d7aa10e2f">ecore_animator_del</a>(anim);</div>
<div class="line">   <a class="code" href="group__Ecore__Evas__Group.html#gab8fa311077f749190c9b622f672b2214">ecore_evas_shutdown</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_gaadfa590f3c1638035393ed9d7aa10e2f"><div class="ttname"><a href="group__Ecore__Animator__Group.html#gaadfa590f3c1638035393ed9d7aa10e2f">ecore_animator_del</a></div><div class="ttdeci">void * ecore_animator_del(Ecore_Animator *animator)</div><div class="ttdoc">Deletes the specified animator from the animator list.</div><div class="ttdef"><b>Definition:</b> ecore_anim.c:846</div></div>
<div class="ttc" id="agroup__Ecore__Evas__Group_html_gab8fa311077f749190c9b622f672b2214"><div class="ttname"><a href="group__Ecore__Evas__Group.html#gab8fa311077f749190c9b622f672b2214">ecore_evas_shutdown</a></div><div class="ttdeci">EAPI int ecore_evas_shutdown(void)</div><div class="ttdoc">Shuts down the Ecore_Evas system.</div><div class="ttdef"><b>Definition:</b> ecore_evas.c:666</div></div>
<div class="ttc" id="agroup__Ecore__Evas__Group_html_gad3ec61f2aa03df4d3dbfd0d311e0c8dc"><div class="ttname"><a href="group__Ecore__Evas__Group.html#gad3ec61f2aa03df4d3dbfd0d311e0c8dc">ecore_evas_free</a></div><div class="ttdeci">EAPI void ecore_evas_free(Ecore_Evas *ee)</div><div class="ttdoc">Frees an Ecore_Evas.</div><div class="ttdef"><b>Definition:</b> ecore_evas.c:1083</div></div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_gaf103b9f668bb3e4fed12e52c6180132d"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a></div><div class="ttdeci">void ecore_main_loop_begin(void)</div><div class="ttdoc">Runs the application main loop.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1311</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga9217cf1d90690dbd1960db155d1c7476"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga9217cf1d90690dbd1960db155d1c7476">evas_object_del</a></div><div class="ttdeci">EVAS_API void evas_object_del(Evas_Object *obj)</div><div class="ttdoc">Marks the given Evas object for deletion (when Evas will free its memory).</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:928</div></div>
</div><!-- fragment --><p> Here we have the callback function for our first animation, which first takes <code>pos(where in the timeline we are)</code>, maps it to a SPRING curve that which will wobble 15 times and will decay by a factor of 1.2: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_advance_frame(<span class="keywordtype">void</span> *data, <span class="keywordtype">double</span> pos)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">double</span> frame = pos;</div>
<div class="line">   frame = <a class="code" href="group__Ecore__Animator__Group.html#ga5d4c42b9fdb22748943efa9ae6ba0a47">ecore_animator_pos_map</a>(pos, <a class="code" href="group__Ecore__Animator__Group.html#gga1047011623d9e2ea31b7e5678b451016ac8cbb42f58cabb5db04f52cede85dacd">ECORE_POS_MAP_SPRING</a>, 1.2, 15);</div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_ga5d4c42b9fdb22748943efa9ae6ba0a47"><div class="ttname"><a href="group__Ecore__Animator__Group.html#ga5d4c42b9fdb22748943efa9ae6ba0a47">ecore_animator_pos_map</a></div><div class="ttdeci">double ecore_animator_pos_map(double pos, Ecore_Pos_Map map, double v1, double v2)</div><div class="ttdoc">Maps an input position from 0.0 to 1.0 along a timeline to a position in a different curve.</div><div class="ttdef"><b>Definition:</b> ecore_anim.c:833</div></div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_gga1047011623d9e2ea31b7e5678b451016ac8cbb42f58cabb5db04f52cede85dacd"><div class="ttname"><a href="group__Ecore__Animator__Group.html#gga1047011623d9e2ea31b7e5678b451016ac8cbb42f58cabb5db04f52cede85dacd">ECORE_POS_MAP_SPRING</a></div><div class="ttdeci">@ ECORE_POS_MAP_SPRING</div><div class="ttdoc">Start at 0.0 then &quot;wobble&quot; like a spring rest position 1.0, and wobble v2 times, with decay factor of...</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:2789</div></div>
</div><!-- fragment --><p> Now that we have the frame we can adjust the rectangle to its appropriate state: </p><div class="fragment"><div class="line"> </div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gacad94595f83580c18908cb3b69b08d1a">evas_object_resize</a>(data, 50 * (1 + frame), 50 * (1 + frame));</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga335c8ee6eaeaac9710656af4f8b0db91">evas_object_move</a>(data, 100 * frame, 100 * frame);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#gab751e9d24c16e74af6f7c08ea5b930c2">evas_object_color_set</a>(data, 255 * frame, 0, 255 * (1 - frame), 255);</div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_ga1ee9db07f9a46a8b20fb83e1c6dbed09"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a></div><div class="ttdeci">#define ECORE_CALLBACK_RENEW</div><div class="ttdoc">Return value to keep a callback.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:153</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga335c8ee6eaeaac9710656af4f8b0db91"><div class="ttname"><a href="group__Evas__Object__Group.html#ga335c8ee6eaeaac9710656af4f8b0db91">evas_object_move</a></div><div class="ttdeci">EVAS_API void evas_object_move(Evas_Object *obj, Evas_Coord x, Evas_Coord y)</div><div class="ttdoc">Move the given Evas object to the given location inside its canvas' viewport.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1171</div></div>
</div><!-- fragment --><p> And now the callback that will run 10 seconds after the program starts(5 seconds after the first animation finishes) and starts our second animation: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_start_second_anim(<span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Ecore__Animator__Group.html#ga2c7aa7e621cd68562519066ad87a3fa1">ecore_animator_frametime_set</a>(1. / 10);</div>
<div class="line">   <a class="code" href="group__Ecore__Animator__Group.html#ga523a0e9716bcc6573eb9f4b310067ed1">ecore_animator_timeline_add</a>(20, _advance_frame2, data);</div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#gae0c653baad8836232c0dc27f91f875d6">ECORE_CALLBACK_CANCEL</a>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_gae0c653baad8836232c0dc27f91f875d6"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#gae0c653baad8836232c0dc27f91f875d6">ECORE_CALLBACK_CANCEL</a></div><div class="ttdeci">#define ECORE_CALLBACK_CANCEL</div><div class="ttdoc">Return value to remove a callback.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:152</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>For this animation we made the frametime much larger which means our animation might get "jerky".</dd></dl>
<p>The callback for our second animation, our savvy reader no doubt noted that it's very similar to the callback for the first animation. What we change for this one is the type of animation to BOUNCE and the number of times it will bounce to 50: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_advance_frame2(<span class="keywordtype">void</span> *data, <span class="keywordtype">double</span> pos)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">double</span> frame = pos;</div>
<div class="line">   frame = <a class="code" href="group__Ecore__Animator__Group.html#ga5d4c42b9fdb22748943efa9ae6ba0a47">ecore_animator_pos_map</a>(pos, <a class="code" href="group__Ecore__Animator__Group.html#gga1047011623d9e2ea31b7e5678b451016a2eb0a9af74a33bf88fc19d350f703f5e">ECORE_POS_MAP_BOUNCE</a>, 1.2, 50);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gacad94595f83580c18908cb3b69b08d1a">evas_object_resize</a>(data, 100 - (50 * frame), 100 - (50 * frame));</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga335c8ee6eaeaac9710656af4f8b0db91">evas_object_move</a>(data, 100 * (1 - frame), 100 * (1 - frame));</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#gab751e9d24c16e74af6f7c08ea5b930c2">evas_object_color_set</a>(data, 255 * (1 - frame), 0, 255 * frame, 255);</div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_gga1047011623d9e2ea31b7e5678b451016a2eb0a9af74a33bf88fc19d350f703f5e"><div class="ttname"><a href="group__Ecore__Animator__Group.html#gga1047011623d9e2ea31b7e5678b451016a2eb0a9af74a33bf88fc19d350f703f5e">ECORE_POS_MAP_BOUNCE</a></div><div class="ttdeci">@ ECORE_POS_MAP_BOUNCE</div><div class="ttdoc">Start at 0.0 then &quot;drop&quot; like a ball bouncing to the ground at 1.0, and bounce v2 times,...</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:2786</div></div>
</div><!-- fragment --><p> And for our last animation callback something simpler, we just move our rectangle right by one pixel until it reaches the end of the screen and then start at the beginning again: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_advance_frame3(<span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">static</span> <span class="keywordtype">int</span> x = 0;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (x &gt;= 250)</div>
<div class="line">     x = 0;</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga335c8ee6eaeaac9710656af4f8b0db91">evas_object_move</a>(data, ++x, 350);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> Our next two functions respectively freezes and thaw our third animation, so that it won't happen for the 5 seconds after the first animation ends and the second animation begins: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_freeze_third_anim(<span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Ecore__Animator__Group.html#gaff76e892f893610f9360aa6fddd810ef">ecore_animator_freeze</a>(data);</div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#gae0c653baad8836232c0dc27f91f875d6">ECORE_CALLBACK_CANCEL</a>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_gaff76e892f893610f9360aa6fddd810ef"><div class="ttname"><a href="group__Ecore__Animator__Group.html#gaff76e892f893610f9360aa6fddd810ef">ecore_animator_freeze</a></div><div class="ttdeci">void ecore_animator_freeze(Ecore_Animator *animator)</div><div class="ttdoc">Suspends the specified animator.</div><div class="ttdef"><b>Definition:</b> ecore_anim.c:892</div></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_thaw_third_anim(<span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Ecore__Animator__Group.html#ga11c89906f136e3132e23527e412ccc69">ecore_animator_thaw</a>(data);</div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#gae0c653baad8836232c0dc27f91f875d6">ECORE_CALLBACK_CANCEL</a>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Ecore__Animator__Group_html_ga11c89906f136e3132e23527e412ccc69"><div class="ttname"><a href="group__Ecore__Animator__Group.html#ga11c89906f136e3132e23527e412ccc69">ecore_animator_thaw</a></div><div class="ttdeci">void ecore_animator_thaw(Ecore_Animator *animator)</div><div class="ttdoc">Restores execution of the specified animator.</div><div class="ttdef"><b>Definition:</b> ecore_anim.c:910</div></div>
</div><!-- fragment --></div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:35</span>
  </p>
</div>
</body>
</html>
