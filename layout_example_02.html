<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Layout - Predefined Layout</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Layout - Predefined Layout </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example shows how one can use the <a class="el" href="group__Elm__Layout.html">Layout</a> with a predefined theme layout to add a back and next button to a simple window.</p>
<p>The full source code for this example can be found at <a class="el" href="layout_example_02_c.html">layout_example_02.c</a>.</p>
<p>After setting up the window and background, we add the layout widget to the window. But instead of using <a class="el" href="group__Elm__Layout.html#ga8d1105463d52787a7b0ca8d7402cd3ea" title="Set the file that will be used as layout.">elm_layout_file_set()</a> to load its theme from a custom theme file, we can use <a class="el" href="group__Elm__Layout.html#ga8f28efed82872f5c57a61db5c81d4eb3" title="Set the edje group from the elementary theme that will be used as layout.">elm_layout_theme_set()</a> to load one of the predefined layouts that come with elementary. Particularly on this example, we load the them of class "layout", group "application" and style "content-back-next" (since we want the back and next buttons).</p>
 <div class="fragment"><div class="line">   layout = <a class="code" href="group__Elm__Layout.html#gaca5aee4ad4d92c68f13d1080c70baf8b">elm_layout_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(layout, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a>(win, layout);</div>
<div class="line">   <span class="keywordflow">if</span> (!<a class="code" href="group__Elm__Layout.html#ga8f28efed82872f5c57a61db5c81d4eb3">elm_layout_theme_set</a>(</div>
<div class="line">         layout, <span class="stringliteral">&quot;layout&quot;</span>, <span class="stringliteral">&quot;application&quot;</span>, <span class="stringliteral">&quot;content-back-next&quot;</span>))</div>
<div class="line">     fprintf(stderr, <span class="stringliteral">&quot;Failed to set layout&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(layout);</div>
<div class="ttc" id="aEvas__Common_8h_html_aa47c85083d3dae0111c21ec49359306a"><div class="ttname"><a href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a></div><div class="ttdeci">#define EVAS_HINT_EXPAND</div><div class="ttdoc">Use with evas_object_size_hint_weight_set(), evas_object_size_hint_weight_get(), evas_object_size_hin...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:297</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_ga8f28efed82872f5c57a61db5c81d4eb3"><div class="ttname"><a href="group__Elm__Layout.html#ga8f28efed82872f5c57a61db5c81d4eb3">elm_layout_theme_set</a></div><div class="ttdeci">Eina_Bool elm_layout_theme_set(Evas_Object *obj, const char *klass, const char *group, const char *style)</div><div class="ttdoc">Set the edje group from the elementary theme that will be used as layout.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3400</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_gaca5aee4ad4d92c68f13d1080c70baf8b"><div class="ttname"><a href="group__Elm__Layout.html#gaca5aee4ad4d92c68f13d1080c70baf8b">elm_layout_add</a></div><div class="ttdeci">Evas_Object * elm_layout_add(Evas_Object *parent)</div><div class="ttdoc">Add a new layout to the parent.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3067</div></div>
<div class="ttc" id="agroup__Elm__Win__Group_html_ga505d6bd217e5ee01e82b548ec35986eb"><div class="ttname"><a href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a></div><div class="ttdeci">void elm_win_resize_object_add(Eo *obj, Evas_Object *subobj)</div><div class="ttdoc">Add subobj as a resize object of window obj.</div><div class="ttdef"><b>Definition:</b> efl_ui_win.c:8997</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9379629ad8ad2860aa786d838a4a106a"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_weight_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's weight.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2638</div></div>
</div><!-- fragment --><p> This default theme contains only a "content" area named "elm.swallow.content", where we can add any widget (it can be even a container widget, like a box, frame, list, or even another layout). Since we just want to show the resulting layout, we add a simple icon to it:</p>
<div class="fragment"></div><!-- fragment --><p> This default layout also provides some signals when the next and prev buttons are clicked. We can register callbacks to them with the <a class="el" href="group__Elm__General.html#ga6f9574b798efcd454afdac6f2904f633" title="Add a callback for a signal emitted by widget edje object.">elm_object_signal_callback_add()</a> function:</p>
<div class="fragment"></div><!-- fragment --><p> In the <a class="el" href="layout_example_03.html">Layout - Signals and Size Changed</a> you can see how to send signals to the layout with <a class="el" href="group__Elm__General.html#ga1beada7edf5d714c0dba5459bcc993fc" title="Send a signal to the widget edje object.">elm_object_signal_emit()</a>.</p>
<p>Now our callback just changes the picture being displayed when one of the buttons are clicked:</p>
 <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *images[] = { <span class="stringliteral">&quot;home&quot;</span>, <span class="stringliteral">&quot;close&quot;</span>, <span class="stringliteral">&quot;arrow_up&quot;</span>, <span class="stringliteral">&quot;arrow_down&quot;</span>, NULL };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>_App {</div>
<div class="line">     <span class="keywordtype">int</span> current;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_signal_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *o, <span class="keyword">const</span> <span class="keywordtype">char</span> *emission, <span class="keyword">const</span> <span class="keywordtype">char</span> *source <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">struct </span>_App *app = data;</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *icon = <a class="code" href="group__Elm__General.html#ga32413f4d59d8232cd362a922a281abf1">elm_object_part_content_get</a>(o, <span class="stringliteral">&quot;elm.swallow.content&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   printf(<span class="stringliteral">&quot;signal received\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!strcmp(<span class="stringliteral">&quot;elm,action,back&quot;</span>, emission))</div>
<div class="line">     app-&gt;current--;</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<span class="stringliteral">&quot;elm,action,next&quot;</span>, emission))</div>
<div class="line">     app-&gt;current++;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;current &lt; 0)</div>
<div class="line">     app-&gt;current = (<span class="keyword">sizeof</span>(images) / <span class="keyword">sizeof</span>(images[0])) - 2;</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (images[app-&gt;current] == NULL)</div>
<div class="line">     app-&gt;current = 0;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66">elm_icon_standard_set</a>(icon, images[app-&gt;current]);</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
<div class="ttc" id="agroup__Elm__General_html_ga32413f4d59d8232cd362a922a281abf1"><div class="ttname"><a href="group__Elm__General.html#ga32413f4d59d8232cd362a922a281abf1">elm_object_part_content_get</a></div><div class="ttdeci">Evas_Object * elm_object_part_content_get(const Evas_Object *obj, const char *part)</div><div class="ttdoc">Get the content on a part of a given container widget.</div><div class="ttdef"><b>Definition:</b> elm_main.c:1569</div></div>
<div class="ttc" id="agroup__Elm__Icon_html_gab764b4c6c90543f254c013eff6a6db66"><div class="ttname"><a href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66">elm_icon_standard_set</a></div><div class="ttdeci">Eina_Bool elm_icon_standard_set(Evas_Object *obj, const char *name)</div><div class="ttdoc">Set the icon by icon standards names.</div><div class="ttdef"><b>Definition:</b> elm_icon.c:885</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
<div class="line">}</div>
</div><!-- fragment --><p> It's possible to see that it gets the name of the image being shown from the array of image names, going forward on this array when "next" is clicked and backward when "back" is clicked.</p>
<p>A screenshot of this example can be seen on:</p>
<div class="image">
<img src="layout_example_02.png" alt=""/>
</div>
  </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:46</span>
  </p>
</div>
</body>
</html>
