<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Index widget example 2</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Index widget example 2 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This code places an Elementary index widget on a window, indexing grid items.</p>
<p>The items are placed so that their labels <b>don't</b> follow any order, but the index itself is ordered (through <a class="el" href="group__Elm__Index__Group.html#gab62ded1b310fde295a3d59ea5172e639" title="Insert a new item into the given index widget, using cmp_func function to sort items (by item handles...">elm_index_item_sorted_insert()</a>). This is a complement to to <a class="el" href="index_example_01.html">the first example on indexes</a>.</p>
<p>Here's the list of item labels to be used on the grid (in that order):  </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *items[] =</div>
<div class="line">{</div>
<div class="line">   <span class="stringliteral">&quot;Judith&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;Paulina&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;Cathy&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;Vendella&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;Naomi&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;Ashley&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;Stacey&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;Gail&quot;</span></div>
<div class="line">};</div>
</div><!-- fragment --><p> In the interesting part of the code, here, we first instantiate the grid (more on grids on their examples) and, after creating our index, for each grid item we also create an index one to reference it:  </p><div class="fragment"><div class="line">   grid = <a class="code" href="group__Elm__Gengrid__Group.html#ga9ab2e5b38433f1021c01d0f71397266c">elm_gengrid_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Gengrid__Group.html#gadea5cce647305f0a8f7bca8778131754">elm_gengrid_item_size_set</a>(grid, 150, 150);</div>
<div class="line"> </div>
<div class="line">   gic.item_style = <span class="stringliteral">&quot;default&quot;</span>;</div>
<div class="line">   gic.func.text_get = _grid_label_get;</div>
<div class="line">   gic.func.content_get = _grid_content_get;</div>
<div class="line">   gic.func.state_get = NULL;</div>
<div class="line">   gic.func.del = NULL;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(grid, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a>(win, grid);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(grid);</div>
<div class="line"> </div>
<div class="line">   idx = <a class="code" href="group__Elm__Index__Group.html#gaf7fda3a54ca154cdc754326137f3737e">elm_index_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(idx, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a>(win, idx);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(idx);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">for</span> (i = 0; i &lt; (<span class="keyword">sizeof</span>(items) / <span class="keyword">sizeof</span>(items[0])); i++)</div>
<div class="line">     {</div>
<div class="line">        <span class="keywordtype">char</span> buf[32];</div>
<div class="line"> </div>
<div class="line">        gg_it = <a class="code" href="group__Elm__Gengrid__Group.html#gaa62e4e2954dcf86aa4f5e028654eb6e5">elm_gengrid_item_append</a>(grid, &amp;gic, (<span class="keywordtype">void</span> *)(uintptr_t)i, NULL, NULL);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* indexing by first letters */</span></div>
<div class="line">        snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;%c&quot;</span>, items[i][0]);</div>
<div class="line">        <a class="code" href="group__Elm__Index__Group.html#gab62ded1b310fde295a3d59ea5172e639">elm_index_item_sorted_insert</a>(idx, buf, NULL, gg_it, _index_icmp, NULL);</div>
<div class="line">     }</div>
<div class="ttc" id="aEvas__Common_8h_html_aa47c85083d3dae0111c21ec49359306a"><div class="ttname"><a href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a></div><div class="ttdeci">#define EVAS_HINT_EXPAND</div><div class="ttdoc">Use with evas_object_size_hint_weight_set(), evas_object_size_hint_weight_get(), evas_object_size_hin...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:297</div></div>
<div class="ttc" id="agroup__Elm__Gengrid__Group_html_ga9ab2e5b38433f1021c01d0f71397266c"><div class="ttname"><a href="group__Elm__Gengrid__Group.html#ga9ab2e5b38433f1021c01d0f71397266c">elm_gengrid_add</a></div><div class="ttdeci">Evas_Object * elm_gengrid_add(Evas_Object *parent)</div><div class="ttdoc">Add a new gengrid widget to the given parent Elementary (container) object.</div><div class="ttdef"><b>Definition:</b> elm_gengrid.c:4254</div></div>
<div class="ttc" id="agroup__Elm__Gengrid__Group_html_gaa62e4e2954dcf86aa4f5e028654eb6e5"><div class="ttname"><a href="group__Elm__Gengrid__Group.html#gaa62e4e2954dcf86aa4f5e028654eb6e5">elm_gengrid_item_append</a></div><div class="ttdeci">Elm_Widget_Item * elm_gengrid_item_append(Elm_Gengrid *obj, const Elm_Gengrid_Item_Class *itc, const void *data, Evas_Smart_Cb func, const void *func_data)</div><div class="ttdoc">Append a new item in a given gengrid widget.</div><div class="ttdef"><b>Definition:</b> elm_gengrid_eo.legacy.c:189</div></div>
<div class="ttc" id="agroup__Elm__Gengrid__Group_html_gadea5cce647305f0a8f7bca8778131754"><div class="ttname"><a href="group__Elm__Gengrid__Group.html#gadea5cce647305f0a8f7bca8778131754">elm_gengrid_item_size_set</a></div><div class="ttdeci">void elm_gengrid_item_size_set(Elm_Gengrid *obj, int w, int h)</div><div class="ttdoc">Set the size for the items of a given gengrid widget.</div><div class="ttdef"><b>Definition:</b> elm_gengrid_eo.legacy.c:93</div></div>
<div class="ttc" id="agroup__Elm__Index__Group_html_gab62ded1b310fde295a3d59ea5172e639"><div class="ttname"><a href="group__Elm__Index__Group.html#gab62ded1b310fde295a3d59ea5172e639">elm_index_item_sorted_insert</a></div><div class="ttdeci">Elm_Widget_Item * elm_index_item_sorted_insert(Elm_Index *obj, const char *letter, Evas_Smart_Cb func, const void *data, Eina_Compare_Cb cmp_func, Eina_Compare_Cb cmp_data_func)</div><div class="ttdoc">Insert a new item into the given index widget, using cmp_func function to sort items (by item handles...</div><div class="ttdef"><b>Definition:</b> elm_index_eo.legacy.c:123</div></div>
<div class="ttc" id="agroup__Elm__Index__Group_html_gaf7fda3a54ca154cdc754326137f3737e"><div class="ttname"><a href="group__Elm__Index__Group.html#gaf7fda3a54ca154cdc754326137f3737e">elm_index_add</a></div><div class="ttdeci">Evas_Object * elm_index_add(Evas_Object *parent)</div><div class="ttdoc">Add a new index widget to the given parent Elementary (container) object.</div><div class="ttdef"><b>Definition:</b> elm_index.c:1186</div></div>
<div class="ttc" id="agroup__Elm__Win__Group_html_ga505d6bd217e5ee01e82b548ec35986eb"><div class="ttname"><a href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a></div><div class="ttdeci">void elm_win_resize_object_add(Eo *obj, Evas_Object *subobj)</div><div class="ttdoc">Add subobj as a resize object of window obj.</div><div class="ttdef"><b>Definition:</b> efl_ui_win.c:8997</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9379629ad8ad2860aa786d838a4a106a"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_weight_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's weight.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2638</div></div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(idx, <span class="stringliteral">&quot;delay,changed&quot;</span>, _index_changed, NULL);</div>
<div class="ttc" id="agroup__Evas__Smart__Object__Group_html_gac12dd6655f488cc47ce6cf00eb7d12b2"><div class="ttname"><a href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a></div><div class="ttdeci">EVAS_API void evas_object_smart_callback_add(Evas_Object *eo_obj, const char *event, Evas_Smart_Cb func, const void *data)</div><div class="ttdoc">Add (register) a callback function to the smart event specified by event on the smart object obj.</div><div class="ttdef"><b>Definition:</b> evas_object_smart.c:1040</div></div>
</div><!-- fragment --><p> The order in which they'll appear in the index, though, is <b>alphabetical</b>, becase of <a class="el" href="group__Elm__Index__Group.html#gab62ded1b310fde295a3d59ea5172e639" title="Insert a new item into the given index widget, using cmp_func function to sort items (by item handles...">elm_index_item_sorted_insert()</a> usage together with the comparing function, where we take the letters of each index item to base our ordering on. The parameters on <code>_index_cmp</code> have to be declared as void pointers because of the <code>Eina_Compare_Cb</code> prototype requisition, but in this case we know they'll be index item(<a class="el" href="group__Elm__General.html#ga13a0c231414b86e62f68afe3c6fb462b" title="An Elementary Object item handle.">Elm_Object_Item</a>)'s:  </p><div class="fragment"><div class="line"><span class="comment">/* ordering alphabetically */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">_index_icmp(<span class="keyword">const</span> <span class="keywordtype">void</span> *data1,</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">void</span> *data2)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span> *label1, *label2;</div>
<div class="line"> </div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="group__Elm__General.html#ga13a0c231414b86e62f68afe3c6fb462b">Elm_Object_Item</a> *index_it1 = data1;</div>
<div class="line">   <span class="keyword">const</span> <a class="code" href="group__Elm__General.html#ga13a0c231414b86e62f68afe3c6fb462b">Elm_Object_Item</a> *index_it2 = data2;</div>
<div class="line"> </div>
<div class="line">   label1 = <a class="code" href="group__Elm__Index__Item__Group.html#ga5a89c41885d917fc522922bb401d4c3c">elm_index_item_letter_get</a>(index_it1);</div>
<div class="line">   label2 = <a class="code" href="group__Elm__Index__Item__Group.html#ga5a89c41885d917fc522922bb401d4c3c">elm_index_item_letter_get</a>(index_it2);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> strcasecmp(label1, label2);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Elm__General_html_ga13a0c231414b86e62f68afe3c6fb462b"><div class="ttname"><a href="group__Elm__General.html#ga13a0c231414b86e62f68afe3c6fb462b">Elm_Object_Item</a></div><div class="ttdeci">Eo Elm_Object_Item</div><div class="ttdoc">An Elementary Object item handle.</div><div class="ttdef"><b>Definition:</b> elm_object_item.h:6</div></div>
<div class="ttc" id="agroup__Elm__Index__Item__Group_html_ga5a89c41885d917fc522922bb401d4c3c"><div class="ttname"><a href="group__Elm__Index__Item__Group.html#ga5a89c41885d917fc522922bb401d4c3c">elm_index_item_letter_get</a></div><div class="ttdeci">const char * elm_index_item_letter_get(const Elm_Index_Item *obj)</div><div class="ttdoc">Get the letter (string) set on a given index widget item.</div><div class="ttdef"><b>Definition:</b> elm_index_item_eo.legacy.c:15</div></div>
</div><!-- fragment --><p> The last interesting bit is the callback in the <code>"delay,changed"</code> smart event, which will bring the given grid item to the grid's visible area:  </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_index_changed(<span class="keywordtype">void</span>        *data <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>,</div>
<div class="line">               <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>,</div>
<div class="line">               <span class="keywordtype">void</span>        *event_info)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Elm__General.html#ga13a0c231414b86e62f68afe3c6fb462b">Elm_Object_Item</a> *item = <a class="code" href="group__Elm__General.html#ga4465a576c55d197878aeafc0bacf7bb4">elm_object_item_data_get</a>(event_info);</div>
<div class="line">   <a class="code" href="group__Elm__Gengrid__Item__Group.html#ga0f40aecfe40cac4fc2e557006077f4f9">elm_gengrid_item_bring_in</a>(item, <a class="code" href="group__Elm__Gengrid__Item__Group.html#gga40161f81baa7e0c89b14f84b80c71735a2752198ebed6ede5edf236c45307679e">ELM_GENGRID_ITEM_SCROLLTO_IN</a>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
<div class="ttc" id="agroup__Elm__General_html_ga4465a576c55d197878aeafc0bacf7bb4"><div class="ttname"><a href="group__Elm__General.html#ga4465a576c55d197878aeafc0bacf7bb4">elm_object_item_data_get</a></div><div class="ttdeci">void * elm_object_item_data_get(const Elm_Object_Item *it)</div><div class="ttdoc">Get the data associated with an object item.</div><div class="ttdef"><b>Definition:</b> efl_ui_widget.c:3796</div></div>
<div class="ttc" id="agroup__Elm__Gengrid__Item__Group_html_ga0f40aecfe40cac4fc2e557006077f4f9"><div class="ttname"><a href="group__Elm__Gengrid__Item__Group.html#ga0f40aecfe40cac4fc2e557006077f4f9">elm_gengrid_item_bring_in</a></div><div class="ttdeci">void elm_gengrid_item_bring_in(Elm_Gengrid_Item *obj, Elm_Gengrid_Item_Scrollto_Type type)</div><div class="ttdoc">Animatedly bring in, to the visible area of a gengrid, a given item on it.</div><div class="ttdef"><b>Definition:</b> elm_gengrid_item_eo.legacy.c:75</div></div>
<div class="ttc" id="agroup__Elm__Gengrid__Item__Group_html_gga40161f81baa7e0c89b14f84b80c71735a2752198ebed6ede5edf236c45307679e"><div class="ttname"><a href="group__Elm__Gengrid__Item__Group.html#gga40161f81baa7e0c89b14f84b80c71735a2752198ebed6ede5edf236c45307679e">ELM_GENGRID_ITEM_SCROLLTO_IN</a></div><div class="ttdeci">@ ELM_GENGRID_ITEM_SCROLLTO_IN</div><div class="ttdoc">To the nearest viewport.</div><div class="ttdef"><b>Definition:</b> elm_general.h:397</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
</div><!-- fragment --><p> Note how the grid will move kind of randomly while you move your mouse pointer held over the index from top to bottom &ndash; that's because of the the random order the items have in the grid itself.</p>
<p>This is how the example program's window looks like: </p><div class="image">
<img src="screenshots/index_example_03.png" alt=""/>
</div>
 <p>See the full <a class="el" href="index_example_02_8c-example.html">source code</a> for this example. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:47</span>
  </p>
</div>
</body>
</html>
