<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>elm_bg - Background properties.</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">elm_bg - Background properties. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p></p>
<p>The full code for this example can be found at <a class="el" href="bg_example_03_c.html">bg_example_03.c</a>, in the function <code>test_bg_options</code>, with the callbacks <code>_cb_overlay_changed</code>, <code>_cb_color_changed</code> and <code>_cb_radio_changed</code> defined in the beginning of the file. It's part of the <code>elementary_test</code> suite, and thus has the code for the three examples referenced by this documentation.</p>
<p>This example will show the properties available for the background object, and will use of some more widgets to set them.</p>
<p>In order to do this, we will set some callbacks for these widgets. The first is for the radio buttons that will be used to choose the option passed as argument to <a class="el" href="group__Elm__Bg.html#ga2ed059b3cf946d10a12182fedc3125f9" title="Sets the mode of display for a given background widget&#39;s image.">elm_bg_option_set()</a>:</p>
<div class="fragment"><div class="line">_cb_radio_changed(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *o_bg = data;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Elm__Bg.html#ga2ed059b3cf946d10a12182fedc3125f9">elm_bg_option_set</a>(o_bg, <a class="code" href="group__Elm__Radio__Group.html#gab56d65001a82eea600b41e4873a772e6">elm_radio_value_get</a>((<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *)obj));</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
<div class="ttc" id="agroup__Elm__Bg_html_ga2ed059b3cf946d10a12182fedc3125f9"><div class="ttname"><a href="group__Elm__Bg.html#ga2ed059b3cf946d10a12182fedc3125f9">elm_bg_option_set</a></div><div class="ttdeci">void elm_bg_option_set(Evas_Object *obj, Elm_Bg_Option option)</div><div class="ttdoc">Sets the mode of display for a given background widget's image.</div><div class="ttdef"><b>Definition:</b> efl_ui_bg.c:82</div></div>
<div class="ttc" id="agroup__Elm__Radio__Group_html_gab56d65001a82eea600b41e4873a772e6"><div class="ttname"><a href="group__Elm__Radio__Group.html#gab56d65001a82eea600b41e4873a772e6">elm_radio_value_get</a></div><div class="ttdeci">int elm_radio_value_get(const Evas_Object *obj)</div><div class="ttdoc">Get the value of the radio group.</div><div class="ttdef"><b>Definition:</b> efl_ui_radio.c:420</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
</div><!-- fragment --><p> The next callback will be used when setting the overlay (using elm_object_content_set()):</p>
<div class="fragment"><div class="line">_cb_overlay_changed(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *o_bg = data;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__Elm__Check.html#ga011ed8bd33b24ab9be27d7f162b80846">elm_check_state_get</a>(obj))</div>
<div class="line">     {</div>
<div class="line">        <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *parent, *over;</div>
<div class="line">        <span class="keywordtype">char</span> buff[PATH_MAX];</div>
<div class="line"> </div>
<div class="line">        snprintf(buff, <span class="keyword">sizeof</span>(buff), <span class="stringliteral">&quot;%s/objects/test.edj&quot;</span>, <a class="code" href="group__Elm__App.html#ga92a09dbf88cc1ca3eab51c51dea589d0">elm_app_data_dir_get</a>());</div>
<div class="line">        parent = <a class="code" href="group__Elm__WidgetNavigation.html#ga0b5f83c403948f1418e434f3ed94973f">elm_object_parent_widget_get</a>(o_bg);</div>
<div class="line">        over = <a class="code" href="group__Edje__Object__Group.html#ga2fb20b8db9d2c4384cca17e2f7637c40">edje_object_add</a>(<a class="code" href="group__Evas__Object__Group.html#gae54462e22d2663de2b7d8fb64ab527e8">evas_object_evas_get</a>(parent));</div>
<div class="line">        <a class="code" href="group__Edje__Object__Group.html#gaec1edd24b5bd8e82823759a8dddc1996">edje_object_file_set</a>(over, buff, <span class="stringliteral">&quot;bg_overlay&quot;</span>);</div>
<div class="line">        <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(o_bg, <span class="stringliteral">&quot;overlay&quot;</span>, over);</div>
<div class="line">     }</div>
<div class="ttc" id="agroup__Edje__Object__Group_html_ga2fb20b8db9d2c4384cca17e2f7637c40"><div class="ttname"><a href="group__Edje__Object__Group.html#ga2fb20b8db9d2c4384cca17e2f7637c40">edje_object_add</a></div><div class="ttdeci">Evas_Object * edje_object_add(Evas *evas)</div><div class="ttdoc">Instantiates a new Edje object.</div><div class="ttdef"><b>Definition:</b> edje_smart.c:22</div></div>
<div class="ttc" id="agroup__Edje__Object__Group_html_gaec1edd24b5bd8e82823759a8dddc1996"><div class="ttname"><a href="group__Edje__Object__Group.html#gaec1edd24b5bd8e82823759a8dddc1996">edje_object_file_set</a></div><div class="ttdeci">Eina_Bool edje_object_file_set(Evas_Object *obj, const char *file, const char *group)</div><div class="ttdoc">Sets the EDJ file (and group within it) to load an Edje object's contents from.</div><div class="ttdef"><b>Definition:</b> edje_smart.c:467</div></div>
<div class="ttc" id="agroup__Elm__App_html_ga92a09dbf88cc1ca3eab51c51dea589d0"><div class="ttname"><a href="group__Elm__App.html#ga92a09dbf88cc1ca3eab51c51dea589d0">elm_app_data_dir_get</a></div><div class="ttdeci">const char * elm_app_data_dir_get(void)</div><div class="ttdoc">Get the application's run time data prefix directory, as set by elm_app_info_set() and the way (envir...</div><div class="ttdef"><b>Definition:</b> elm_main.c:586</div></div>
<div class="ttc" id="agroup__Elm__Check_html_ga011ed8bd33b24ab9be27d7f162b80846"><div class="ttname"><a href="group__Elm__Check.html#ga011ed8bd33b24ab9be27d7f162b80846">elm_check_state_get</a></div><div class="ttdeci">Eina_Bool elm_check_state_get(const Evas_Object *obj)</div><div class="ttdoc">Get the state of the check object.</div><div class="ttdef"><b>Definition:</b> efl_ui_check.c:381</div></div>
<div class="ttc" id="agroup__Elm__General_html_ga0531ec8867c72def7c780601764ca642"><div class="ttname"><a href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a></div><div class="ttdeci">void elm_object_part_content_set(Evas_Object *obj, const char *part, Evas_Object *content)</div><div class="ttdoc">Set the content on part of a given container widget.</div><div class="ttdef"><b>Definition:</b> elm_main.c:1562</div></div>
<div class="ttc" id="agroup__Elm__WidgetNavigation_html_ga0b5f83c403948f1418e434f3ed94973f"><div class="ttname"><a href="group__Elm__WidgetNavigation.html#ga0b5f83c403948f1418e434f3ed94973f">elm_object_parent_widget_get</a></div><div class="ttdeci">Evas_Object * elm_object_parent_widget_get(const Evas_Object *obj)</div><div class="ttdoc">Get the first parent of the given object that is an Elementary widget.</div><div class="ttdef"><b>Definition:</b> elm_main.c:1833</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gae54462e22d2663de2b7d8fb64ab527e8"><div class="ttname"><a href="group__Evas__Object__Group.html#gae54462e22d2663de2b7d8fb64ab527e8">evas_object_evas_get</a></div><div class="ttdeci">EVAS_API Evas * evas_object_evas_get(const Eo *eo_obj)</div><div class="ttdoc">Get the Evas to which this object belongs to.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2662</div></div>
<div class="line">   <span class="keywordflow">else</span></div>
<div class="line">     <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(o_bg, <span class="stringliteral">&quot;overlay&quot;</span>, NULL);</div>
<div class="line">}</div>
</div><!-- fragment --><p> And the last one, used to set the color (with <a class="el" href="group__Elm__Bg.html#ga9431af239574a212be6988d618be5ae8" title="Sets the color on a given background widget.">elm_bg_color_set()</a>):</p>
<div class="fragment"><div class="line">_cb_color_changed(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *o_bg = data;</div>
<div class="line">   <span class="keywordtype">double</span> val = 0.0;</div>
<div class="line"> </div>
<div class="line">   val = <a class="code" href="group__Elm__Spinner__Group.html#ga0f93a325d38ad9a249994a7dc4ea4f1b">elm_spinner_value_get</a>(obj);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__Eina__Tools__Group.html#ga6bee37244b675b83d6a4f044a7a3d1e8">EINA_DBL_EQ</a>(val, 1.0))</div>
<div class="line">     <a class="code" href="group__Elm__Bg.html#ga9431af239574a212be6988d618be5ae8">elm_bg_color_set</a>(o_bg, 255, 255, 255);</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__Eina__Tools__Group.html#ga6bee37244b675b83d6a4f044a7a3d1e8">EINA_DBL_EQ</a>(val, 2.0))</div>
<div class="line">     <a class="code" href="group__Elm__Bg.html#ga9431af239574a212be6988d618be5ae8">elm_bg_color_set</a>(o_bg, 255, 0, 0);</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__Eina__Tools__Group.html#ga6bee37244b675b83d6a4f044a7a3d1e8">EINA_DBL_EQ</a>(val, 3.0))</div>
<div class="line">     <a class="code" href="group__Elm__Bg.html#ga9431af239574a212be6988d618be5ae8">elm_bg_color_set</a>(o_bg, 0, 0, 255);</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__Eina__Tools__Group.html#ga6bee37244b675b83d6a4f044a7a3d1e8">EINA_DBL_EQ</a>(val, 4.0))</div>
<div class="line">     <a class="code" href="group__Elm__Bg.html#ga9431af239574a212be6988d618be5ae8">elm_bg_color_set</a>(o_bg, 0, 255, 0);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Tools__Group_html_ga6bee37244b675b83d6a4f044a7a3d1e8"><div class="ttname"><a href="group__Eina__Tools__Group.html#ga6bee37244b675b83d6a4f044a7a3d1e8">EINA_DBL_EQ</a></div><div class="ttdeci">#define EINA_DBL_EQ(a, b)</div><div class="ttdoc">Safe comparison of double.</div><div class="ttdef"><b>Definition:</b> eina_util.h:100</div></div>
<div class="ttc" id="agroup__Elm__Bg_html_ga9431af239574a212be6988d618be5ae8"><div class="ttname"><a href="group__Elm__Bg.html#ga9431af239574a212be6988d618be5ae8">elm_bg_color_set</a></div><div class="ttdeci">void elm_bg_color_set(Evas_Object *obj, int r, int g, int b)</div><div class="ttdoc">Sets the color on a given background widget.</div><div class="ttdef"><b>Definition:</b> efl_ui_bg.c:138</div></div>
<div class="ttc" id="agroup__Elm__Spinner__Group_html_ga0f93a325d38ad9a249994a7dc4ea4f1b"><div class="ttname"><a href="group__Elm__Spinner__Group.html#ga0f93a325d38ad9a249994a7dc4ea4f1b">elm_spinner_value_get</a></div><div class="ttdeci">double elm_spinner_value_get(const Evas_Object *obj)</div><div class="ttdoc">Control the value the spinner displays.</div><div class="ttdef"><b>Definition:</b> elm_spinner.c:1387</div></div>
</div><!-- fragment --><p> We will get back to what these functions do soon. If you want to know more about how to set these callbacks and what these widgets are, look for: </p><ul>
<li><a class="el" href="group__Elm__Radio__Group.html#gab905f905e9a90883d482035e457fc7ef" title="Add a new radio to the parent.">elm_radio_add()</a> </li>
<li><a class="el" href="group__Elm__Check.html#ga252b43966ad9bbe0634c4619cac1e3e7" title="Add a new Check object.">elm_check_add()</a> </li>
<li><a class="el" href="group__Elm__Spinner__Group.html#gac259ed8ba5d597ceb982cc0170c37a63" title="Add a new spinner widget to the given parent Elementary (container) object.">elm_spinner_add()</a></li>
</ul>
<p>Now going to the main function, <code>test_bg_options</code>, we have the common code with the other examples:</p>
<div class="fragment"><div class="line">   win = <a class="code" href="group__Elm__Win__Group.html#gac75d7752662fab73d6420706ce5be996">elm_win_util_standard_add</a>(<span class="stringliteral">&quot;bg-options&quot;</span>, <span class="stringliteral">&quot;Bg Options&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Win__Group.html#ga9a16a2f8c9fd5b6e9203ed9dcb53ea8b">elm_win_autodel_set</a>(win, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga05c12dacc8b4058994df842b41be85fc"><div class="ttname"><a href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a></div><div class="ttdeci">#define EINA_TRUE</div><div class="ttdoc">boolean value TRUE (numerical value 1)</div><div class="ttdef"><b>Definition:</b> eina_types.h:539</div></div>
<div class="ttc" id="agroup__Elm__Win__Group_html_ga9a16a2f8c9fd5b6e9203ed9dcb53ea8b"><div class="ttname"><a href="group__Elm__Win__Group.html#ga9a16a2f8c9fd5b6e9203ed9dcb53ea8b">elm_win_autodel_set</a></div><div class="ttdeci">void elm_win_autodel_set(Eo *obj, Eina_Bool autodel)</div><div class="ttdoc">Set the window's autodel state.</div><div class="ttdef"><b>Definition:</b> efl_ui_win.c:6194</div></div>
<div class="ttc" id="agroup__Elm__Win__Group_html_gac75d7752662fab73d6420706ce5be996"><div class="ttname"><a href="group__Elm__Win__Group.html#gac75d7752662fab73d6420706ce5be996">elm_win_util_standard_add</a></div><div class="ttdeci">Evas_Object * elm_win_util_standard_add(const char *name, const char *title)</div><div class="ttdoc">Adds a window object with standard setup.</div><div class="ttdef"><b>Definition:</b> efl_ui_win.c:9582</div></div>
</div><!-- fragment --><p> We add a plain background to this window, so it will have the default background color behind everything:</p>
<div class="fragment"></div><!-- fragment --><p> Then we add a vertical box (<a class="el" href="group__Elm__Box__Group.html#ga3d0998b60ada633bacfa8869a921cfd7" title="Add a new box to the parent.">elm_box_add()</a>) that will hold the background object that we are going to play with, as well as a horizontal box that will hold widgets:</p>
<div class="fragment"></div><!-- fragment --><p> Now we add the background object that is going to be of use for our example. It is an image background, as used in <a class="el" href="bg_02_example_page.html">elm_bg - Image background.</a> , so the code should be familiar:</p>
<div class="fragment"></div><!-- fragment --><p> Notice the call to <a class="el" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5" title="Add an object at the end of the pack list.">elm_box_pack_end()</a>: it will pack the background object in the end of the Elementary box declared above. Just refer to that documentation for more info.</p>
<p>Since this Elementary background is already an image background, we are going to play with its other properties. We will change its option (CENTER, SCALE, STRETCH, TILE), its color (RGB), and add an overlay to it. For all of these properties, we are going to add widgets that will configure them.</p>
<p>First, lets add the horizontal box that will hold these widgets: </p><div class="fragment"></div><!-- fragment --><p> For now, just consider this <code>hbox</code> as a rectangle that will contain the widgets, and will distribute them horizontally inside its content. Then we add radio buttons that will allow us to choose the property to use with this background:</p>
<div class="fragment"></div><!-- fragment --><p> Again, I won't give details about the use of these widgets, just look for their documentation if necessary. It's enough to know for now that we are packing them in the <code>hbox</code>, setting a label for them, and the most important parts: setting its value to <code>ELM_BG_OPTION_CENTER</code> and its callback to <code>_cb_radio_changed</code> (the function defined in the beginning of this example). We do this for the next 3 radio buttons added after this one, each of them with a different value.</p>
<p>Now taking a look at the code of the callback <code>_cb_radio_changed</code> again, it will call <a class="el" href="group__Elm__Bg.html#ga2ed059b3cf946d10a12182fedc3125f9" title="Sets the mode of display for a given background widget&#39;s image.">elm_bg_option_set()</a> with the value set from the checked radio button, thus setting the option for this background. The background is passed as argument to the <code>data</code> parameter of this callback, and is referenced here as <code>o_bg</code>.</p>
<p>Later we set the default value for this radio button:</p>
<div class="fragment"></div><!-- fragment --><p> Then we add a checkbox for the elm_object_content_set() function for the bg:</p>
<div class="fragment"></div><!-- fragment --><p> Now look at the code of the <code>_cb_overlay_changed</code> again. If the checkbox state is checked, an overlay will be added to the background. It's done by creating an Edje object, and setting it with elm_object_content_set() to the background object. For information about what are and how to set Edje object, look at the Edje documentation.</p>
<p>Finally we add a spinner object (<a class="el" href="group__Elm__Spinner__Group.html#gac259ed8ba5d597ceb982cc0170c37a63" title="Add a new spinner widget to the given parent Elementary (container) object.">elm_spinner_add()</a>) to be used to select the color of our background. In its callback it's possible to see the call to <a class="el" href="group__Elm__Bg.html#ga9431af239574a212be6988d618be5ae8" title="Sets the color on a given background widget.">elm_bg_color_set()</a>, which will change the color of this background. This color is used by the background to fill areas where the image doesn't cover (in this case, where we have an image background). The spinner is also packed into the <code>hbox</code> :</p>
<div class="fragment"></div><!-- fragment --><p> Then we just have to pack the <code>hbox</code> inside the <code>box</code>, set some size hints, and show our window:</p>
<div class="fragment"></div><!-- fragment --><p> Now to see this code in action, open elementary_test, and go to the "Bg
Options" test. It should demonstrate what was implemented here. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:44</span>
  </p>
</div>
</body>
</html>
