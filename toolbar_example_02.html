<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Toolbar Example - Items with States</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Toolbar Example - Items with States </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This code places an Elementary toolbar widget on a window, to exemplify part of the widget's API.</p>
<p>Toolbar widgets has support to items with states. Each state can have it's own label, icon, and callback function.</p>
<p>Let's start populating a toolbar with some regular items. If you don't know how to do that, see <a class="el" href="toolbar_example_01.html">Toolbar Example 1</a>.  </p><div class="fragment"><div class="line">   tb = <a class="code" href="group__Elm__Toolbar.html#ga0c0841ae232ebd6a9628b868d4e95b6f">elm_toolbar_add</a>(win);</div>
<div class="ttc" id="agroup__Elm__Toolbar_html_ga0c0841ae232ebd6a9628b868d4e95b6f"><div class="ttname"><a href="group__Elm__Toolbar.html#ga0c0841ae232ebd6a9628b868d4e95b6f">elm_toolbar_add</a></div><div class="ttdeci">Evas_Object * elm_toolbar_add(Evas_Object *parent)</div><div class="ttdoc">Add a new toolbar widget to the given parent Elementary (container) object.</div><div class="ttdef"><b>Definition:</b> elm_toolbar.c:2979</div></div>
<div class="line">   <a class="code" href="group__Elm__Toolbar.html#ga31deb1999afd41648100d3e816c69553">elm_toolbar_shrink_mode_set</a>(tb, <a class="code" href="group__Elm__Toolbar.html#ggaf2f77232958c97f74744538e5bb4e000aa33e0a0bc69a6c153e027a5772a07bf3">ELM_TOOLBAR_SHRINK_HIDE</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(tb, 0.0, 0.0);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(tb, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, 0.0);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(tb);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Elm__Toolbar.html#ga0c0738e7d5aba471520113b15184be6e">elm_toolbar_item_append</a>(tb, <span class="stringliteral">&quot;document-print&quot;</span>, <span class="stringliteral">&quot;Print&quot;</span>, NULL, NULL);</div>
<div class="line">   <a class="code" href="group__Elm__Toolbar.html#ga0c0738e7d5aba471520113b15184be6e">elm_toolbar_item_append</a>(tb, <span class="stringliteral">&quot;folder-new&quot;</span>, <span class="stringliteral">&quot;Folder&quot;</span>, NULL, NULL);</div>
<div class="line">   <a class="code" href="group__Elm__Toolbar.html#ga0c0738e7d5aba471520113b15184be6e">elm_toolbar_item_append</a>(tb, <span class="stringliteral">&quot;clock&quot;</span>, <span class="stringliteral">&quot;Clock&quot;</span>, NULL, NULL);</div>
<div class="line">   <a class="code" href="group__Elm__Toolbar.html#ga0c0738e7d5aba471520113b15184be6e">elm_toolbar_item_append</a>(tb, <span class="stringliteral">&quot;refresh&quot;</span>, <span class="stringliteral">&quot;Update&quot;</span>, NULL, NULL);</div>
<div class="ttc" id="aEvas__Common_8h_html_aecbac710f36d52911fc34dcdaf8e729c"><div class="ttname"><a href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a></div><div class="ttdeci">#define EVAS_HINT_FILL</div><div class="ttdoc">Use with evas_object_size_hint_align_set(), evas_object_size_hint_align_get(), evas_object_size_hint_...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:298</div></div>
<div class="ttc" id="agroup__Elm__Toolbar_html_ga0c0738e7d5aba471520113b15184be6e"><div class="ttname"><a href="group__Elm__Toolbar.html#ga0c0738e7d5aba471520113b15184be6e">elm_toolbar_item_append</a></div><div class="ttdeci">Elm_Widget_Item * elm_toolbar_item_append(Elm_Toolbar *obj, const char *icon, const char *label, Evas_Smart_Cb func, const void *data)</div><div class="ttdoc">Append item to the toolbar.</div><div class="ttdef"><b>Definition:</b> elm_toolbar_eo.legacy.c:129</div></div>
<div class="ttc" id="agroup__Elm__Toolbar_html_ga31deb1999afd41648100d3e816c69553"><div class="ttname"><a href="group__Elm__Toolbar.html#ga31deb1999afd41648100d3e816c69553">elm_toolbar_shrink_mode_set</a></div><div class="ttdeci">void elm_toolbar_shrink_mode_set(Elm_Toolbar *obj, Elm_Toolbar_Shrink_Mode shrink_mode)</div><div class="ttdoc">Control the item displaying mode of a given toolbar widget obj.</div><div class="ttdef"><b>Definition:</b> elm_toolbar_eo.legacy.c:75</div></div>
<div class="ttc" id="agroup__Elm__Toolbar_html_ggaf2f77232958c97f74744538e5bb4e000aa33e0a0bc69a6c153e027a5772a07bf3"><div class="ttname"><a href="group__Elm__Toolbar.html#ggaf2f77232958c97f74744538e5bb4e000aa33e0a0bc69a6c153e027a5772a07bf3">ELM_TOOLBAR_SHRINK_HIDE</a></div><div class="ttdeci">@ ELM_TOOLBAR_SHRINK_HIDE</div><div class="ttdoc">Hide exceeding items.</div><div class="ttdef"><b>Definition:</b> elm_toolbar_eo.h:31</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9379629ad8ad2860aa786d838a4a106a"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_weight_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's weight.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2638</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gaaf1d3e26e36b316977336066b6f56632"><div class="ttname"><a href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_align_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's alignment.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2650</div></div>
</div><!-- fragment --><p> The only difference here is that we set shrink mode to <a class="el" href="group__Elm__Toolbar.html#ggaf2f77232958c97f74744538e5bb4e000aa33e0a0bc69a6c153e027a5772a07bf3" title="Hide exceeding items.">ELM_TOOLBAR_SHRINK_HIDE</a>, that won't display items that doesn't fit to the window.</p>
<p>Now, let's add an item with states. First, add the item just as any other. </p><div class="fragment"><div class="line">   tb_it = <a class="code" href="group__Elm__Toolbar.html#ga0c0738e7d5aba471520113b15184be6e">elm_toolbar_item_append</a>(tb, <span class="stringliteral">&quot;mail-send&quot;</span>, <span class="stringliteral">&quot;Send Mail&quot;</span>,</div>
<div class="line">                                   _item_pressed, NULL);</div>
</div><!-- fragment --><p> After that states can be added to this item: </p><div class="fragment"><div class="line">   elm_toolbar_item_state_add(tb_it, <span class="stringliteral">&quot;emptytrash&quot;</span>, <span class="stringliteral">&quot;Empty Trash&quot;</span>,</div>
<div class="line">                              _item_pressed, NULL);</div>
<div class="line">   elm_toolbar_item_state_add(tb_it, <span class="stringliteral">&quot;trashcan_full&quot;</span>, <span class="stringliteral">&quot;Full Trash&quot;</span>,</div>
<div class="line">                              _item_pressed, NULL);</div>
</div><!-- fragment --><p> The both states and the item are using the same callback function, that will cycle between states and unselect the item. Unseleting is required because it won't call the callback if a user clicks over an item already selected:  </p><div class="fragment"></div><!-- fragment --><p> On our example, some items are hidden because we set the window to be small. But if an item should be displayed anyway, is needed to set its priority to be higher than others. Any positive value will be enough in our case. Let's force the item with multiple states to be displayed. </p><div class="fragment"></div><!-- fragment --><p> See <a class="el" href="toolbar_example_02_8c-example.html">toolbar_example_02.c</a>, whose window should look like this picture:</p>
<div class="image">
<img src="screenshots/toolbar_example_02.png" alt=""/>
</div>
  </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:44</span>
  </p>
</div>
</body>
</html>
