<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Prefs Example 03</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Prefs Example 03 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example shows how to create a prefs widget with Elementary, where some prefs item values are changed, some actions take place on an object different than the prefs widget (an Edge object).</p>
<p>With this new object, we're also exemplifying the prefs SWALLOW item type, as the Edje object is put inside the prefs widget's viewport.</p>
<p>It also shows how subpages can be created using the prefs PAGE item type.</p>
<p>Explain step by step the .EDC file is out of scope, the source code can be found at <a class="el" href="prefs_example_03_edc.html">prefs_example_03.edc</a></p>
<h1><a class="anchor" id="prefs-epc-03"></a>
Creating items on EPC file</h1>
<p></p>
<p>First we'll create prefs items on .EPC file that we'll use later on the .C file.</p>
<div class="fragment"><div class="line">collection </div>
<div class="line">{</div>
<div class="line">   page</div>
<div class="line">   {</div>
<div class="line">      name: &quot;main&quot;;</div>
<div class="line">      version: 1;</div>
<div class="line">      title: &quot;Preferences Widget&quot;;</div>
<div class="line">      subtitle: &quot;Example 03&quot;;</div>
<div class="line">      widget: &quot;elm/vertical_frame&quot;;</div>
</div><!-- fragment --><p> In the following part, we create an item of the PAGE type, that will create a subpage inside the main page. The source parameter is used to set which page will be used to fill the subpage, in this example, the page named "configpage" will be used.</p>
<div class="fragment"><div class="line">      items {</div>
<div class="line">         item {</div>
<div class="line">            name: &quot;config&quot;;</div>
<div class="line">            type: PAGE;</div>
<div class="line">            source: &quot;configpage&quot;;</div>
<div class="line">         }</div>
<div class="line"> </div>
<div class="line">         item {</div>
<div class="line">            name: &quot;sep&quot;;</div>
<div class="line">            type: SEPARATOR;</div>
<div class="line">         }</div>
</div><!-- fragment --><p> Now we create a SWALLOW type item, that, as the name suggests, will swallow an Evas_Object.</p>
<div class="fragment"><div class="line">         item {</div>
<div class="line">            name: &quot;swal&quot;;</div>
<div class="line">            type: SWALLOW;</div>
<div class="line">         }</div>
</div><!-- fragment --><p> Now we create the page that will be used to fill the item "config" of the main page. It has another two subpages and a SEPARATOR item arranged horizontally so we could achieve the desired layout.</p>
<div class="fragment"><div class="line">   page</div>
<div class="line">   {</div>
<div class="line">      name: &quot;configpage&quot;;</div>
<div class="line">      version: 1;</div>
<div class="line">      title: &quot;Preferences&quot;;</div>
<div class="line">      widget: &quot;elm/horizontal_box&quot;;</div>
<div class="line"> </div>
<div class="line">      items {</div>
<div class="line">         item {</div>
<div class="line">            name: &quot;options&quot;;</div>
<div class="line">            type: PAGE;</div>
<div class="line">            source: &quot;optionspage&quot;;</div>
<div class="line">         }</div>
<div class="line"> </div>
<div class="line">         item {</div>
<div class="line">            name: &quot;sep2&quot;;</div>
<div class="line">            type: SEPARATOR;</div>
<div class="line">         }</div>
<div class="line"> </div>
<div class="line">         item {</div>
<div class="line">            name: &quot;buttons&quot;;</div>
<div class="line">            type: PAGE;</div>
<div class="line">            source: &quot;buttonspage&quot;;</div>
<div class="line">         }</div>
<div class="line">      }</div>
<div class="line">   }</div>
</div><!-- fragment --><p> Then we create the pages used by the "configpage" page, whose items were covered in <a class="el" href="prefs_example_01.html">Prefs Example 01</a> and <a class="el" href="prefs_example_02.html">Prefs Example 02</a>.</p>
<div class="fragment"><div class="line">   page</div>
<div class="line">   {</div>
<div class="line">      name: &quot;optionspage&quot;;</div>
<div class="line">      version: 1;</div>
<div class="line">      title: &quot;Options&quot;;</div>
<div class="line">      widget: &quot;elm/vertical_box&quot;;</div>
<div class="line"> </div>
<div class="line">      items {</div>
<div class="line">         item {</div>
<div class="line">            name: &quot;animation&quot;;</div>
<div class="line">            type: BOOL;</div>
<div class="line">            persistent: 1;</div>
<div class="line">            label: &quot;Animation&quot;;</div>
<div class="line"> </div>
<div class="line">            bool {</div>
<div class="line">               default: true;</div>
<div class="line">            }</div>
<div class="line">         }</div>
<div class="line"> </div>
<div class="line">         item {</div>
<div class="line">            name: &quot;animation_time&quot;;</div>
<div class="line">            type: FLOAT;</div>
<div class="line">            persistent: 1;</div>
<div class="line">            label: &quot;Animation Time&quot;;</div>
<div class="line"> </div>
<div class="line">            float {</div>
<div class="line">               default: 0.6;</div>
<div class="line">               min: 0.0;</div>
<div class="line">               max: 1.0;</div>
<div class="line">            }</div>
<div class="line">         }</div>
<div class="line">      }</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   page</div>
<div class="line">   {</div>
<div class="line">      name: &quot;buttonspage&quot;;</div>
<div class="line">      version: 1;</div>
<div class="line">      title: &quot;Actions&quot;;</div>
<div class="line">      widget: &quot;elm/vertical_box&quot;;</div>
<div class="line"> </div>
<div class="line">      items {</div>
<div class="line">         item {</div>
<div class="line">            name: &quot;save&quot;;</div>
<div class="line">            type: SAVE;</div>
<div class="line">            label: &quot;Save&quot;;</div>
<div class="line">         }</div>
<div class="line"> </div>
<div class="line">         item {</div>
<div class="line">            name: &quot;reset&quot;;</div>
<div class="line">            type: RESET;</div>
<div class="line">            label: &quot;Reset&quot;;</div>
<div class="line">         }</div>
<div class="line">      }</div>
<div class="line">   }</div>
</div><!-- fragment --> <h1><a class="anchor" id="prefs-c-03"></a>
Handling items on C File</h1>
<p></p>
<p>Now we're handling the .C file and first we'll create a layout setting the edje file to after a prefs item swallows it.</p>
<div class="fragment"><div class="line">   layout = <a class="code" href="group__Elm__Layout.html#gaca5aee4ad4d92c68f13d1080c70baf8b">elm_layout_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Layout.html#ga8d1105463d52787a7b0ca8d7402cd3ea">elm_layout_file_set</a>(layout, <span class="stringliteral">&quot;prefs_example_03.edj&quot;</span>, <span class="stringliteral">&quot;prefs_edje&quot;</span>);</div>
<div class="ttc" id="agroup__Elm__Layout_html_ga8d1105463d52787a7b0ca8d7402cd3ea"><div class="ttname"><a href="group__Elm__Layout.html#ga8d1105463d52787a7b0ca8d7402cd3ea">elm_layout_file_set</a></div><div class="ttdeci">Eina_Bool elm_layout_file_set(Eo *obj, const char *file, const char *group)</div><div class="ttdoc">Set the file that will be used as layout.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3074</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_gaca5aee4ad4d92c68f13d1080c70baf8b"><div class="ttname"><a href="group__Elm__Layout.html#gaca5aee4ad4d92c68f13d1080c70baf8b">elm_layout_add</a></div><div class="ttdeci">Evas_Object * elm_layout_add(Evas_Object *parent)</div><div class="ttdoc">Add a new layout to the parent.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3067</div></div>
</div><!-- fragment --><p> Here we create the prefs widget, add smart callbacks and create the prefs data handle.</p>
<div class="fragment"><div class="line">   prefs = <a class="code" href="group__Elm__Prefs.html#ga6736d5f9363dd7acbcb39938668b3e45">elm_prefs_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(prefs, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gacad94595f83580c18908cb3b69b08d1a">evas_object_resize</a>(prefs, WIDTH, HEIGHT);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(prefs);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(prefs, <span class="stringliteral">&quot;page,loaded&quot;</span>, _page_loaded_cb,</div>
<div class="line">                                  layout);</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(prefs, <span class="stringliteral">&quot;item,changed&quot;</span>, _item_changed_cb,</div>
<div class="line">                                  layout);</div>
<div class="line"> </div>
<div class="line">   elm_prefs_autosave_set(prefs, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line"> </div>
<div class="line">   prefs_data =</div>
<div class="line">      <a class="code" href="group__Elm__Prefs.html#ga58895cf0ae0fd70db018fbe8eb7ba5c2">elm_prefs_data_new</a>(<span class="stringliteral">&quot;./prefs_example_03.cfg&quot;</span>, NULL, <a class="code" href="group__Eet__File__Group.html#ggaa8e1a7af50fefaf15eb2f69543d24998a763d29c19960a4e0d4eb7bc7bb512481">EET_FILE_MODE_READ_WRITE</a>);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Elm__Prefs.html#gaec5a0c4ea7f8e54909c5cdbc05e9b064">elm_prefs_file_set</a>(prefs, <span class="stringliteral">&quot;prefs_example_03.epb&quot;</span>, NULL);</div>
<div class="line">   elm_prefs_data_set(prefs, prefs_data);</div>
<div class="ttc" id="aEvas__Common_8h_html_aa47c85083d3dae0111c21ec49359306a"><div class="ttname"><a href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a></div><div class="ttdeci">#define EVAS_HINT_EXPAND</div><div class="ttdoc">Use with evas_object_size_hint_weight_set(), evas_object_size_hint_weight_get(), evas_object_size_hin...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:297</div></div>
<div class="ttc" id="agroup__Eet__File__Group_html_ggaa8e1a7af50fefaf15eb2f69543d24998a763d29c19960a4e0d4eb7bc7bb512481"><div class="ttname"><a href="group__Eet__File__Group.html#ggaa8e1a7af50fefaf15eb2f69543d24998a763d29c19960a4e0d4eb7bc7bb512481">EET_FILE_MODE_READ_WRITE</a></div><div class="ttdeci">@ EET_FILE_MODE_READ_WRITE</div><div class="ttdoc">File is for both read and write.</div><div class="ttdef"><b>Definition:</b> Eet.h:481</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga05c12dacc8b4058994df842b41be85fc"><div class="ttname"><a href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a></div><div class="ttdeci">#define EINA_TRUE</div><div class="ttdoc">boolean value TRUE (numerical value 1)</div><div class="ttdef"><b>Definition:</b> eina_types.h:539</div></div>
<div class="ttc" id="agroup__Elm__Prefs_html_ga58895cf0ae0fd70db018fbe8eb7ba5c2"><div class="ttname"><a href="group__Elm__Prefs.html#ga58895cf0ae0fd70db018fbe8eb7ba5c2">elm_prefs_data_new</a></div><div class="ttdeci">Elm_Prefs_Data * elm_prefs_data_new(const char *data_file, const char *key, Eet_File_Mode mode)</div><div class="ttdoc">Create a new prefs data handle.</div><div class="ttdef"><b>Definition:</b> elm_prefs_data.c:329</div></div>
<div class="ttc" id="agroup__Elm__Prefs_html_ga6736d5f9363dd7acbcb39938668b3e45"><div class="ttname"><a href="group__Elm__Prefs.html#ga6736d5f9363dd7acbcb39938668b3e45">elm_prefs_add</a></div><div class="ttdeci">Evas_Object * elm_prefs_add(Evas_Object *parent)</div><div class="ttdoc">Add a new prefs widget.</div><div class="ttdef"><b>Definition:</b> elm_prefs.c:478</div></div>
<div class="ttc" id="agroup__Elm__Prefs_html_gaec5a0c4ea7f8e54909c5cdbc05e9b064"><div class="ttname"><a href="group__Elm__Prefs.html#gaec5a0c4ea7f8e54909c5cdbc05e9b064">elm_prefs_file_set</a></div><div class="ttdeci">Eina_Bool elm_prefs_file_set(Eo *obj, const char *file, const char *page)</div><div class="ttdoc">Set file and page to populate a given prefs widget's interface.</div><div class="ttdef"><b>Definition:</b> elm_prefs.c:1794</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9379629ad8ad2860aa786d838a4a106a"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_weight_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's weight.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2638</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gacad94595f83580c18908cb3b69b08d1a"><div class="ttname"><a href="group__Evas__Object__Group.html#gacad94595f83580c18908cb3b69b08d1a">evas_object_resize</a></div><div class="ttdeci">EVAS_API void evas_object_resize(Evas_Object *obj, Evas_Coord w, Evas_Coord h)</div><div class="ttdoc">Changes the size of the given Evas object.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1236</div></div>
<div class="ttc" id="agroup__Evas__Smart__Object__Group_html_gac12dd6655f488cc47ce6cf00eb7d12b2"><div class="ttname"><a href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a></div><div class="ttdeci">EVAS_API void evas_object_smart_callback_add(Evas_Object *eo_obj, const char *event, Evas_Smart_Cb func, const void *data)</div><div class="ttdoc">Add (register) a callback function to the smart event specified by event on the smart object obj.</div><div class="ttdef"><b>Definition:</b> evas_object_smart.c:1040</div></div>
</div><!-- fragment --><p> Now we "swallow" the layout into the SWALLOW item of the prefs widget.</p>
<div class="fragment"><div class="line">   elm_prefs_item_swallow(prefs, <span class="stringliteral">&quot;main:swal&quot;</span>, layout);</div>
</div><!-- fragment --><p> Page loaded and item changed callbacks will call update functions.</p>
 <div class="fragment"><div class="line">_page_loaded_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event_info <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *layout = data;</div>
<div class="line"> </div>
<div class="line">   _update(obj, layout);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_item_changed_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj, <span class="keywordtype">void</span> *event_info)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span> *item = event_info;</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *layout = data;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!strcmp(item, <span class="stringliteral">&quot;main:config:options:animation_time&quot;</span>))</div>
<div class="line">     _update_animation_time(obj, layout);</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(item, <span class="stringliteral">&quot;main:config:options:animation&quot;</span>))</div>
<div class="line">     _update_animation(obj, layout);</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
<div class="line">}</div>
</div><!-- fragment --><p> These update functions will be called in order to get the new value from the items and pass it as signal to edje handle it and affects on animation.</p>
 <div class="fragment"><div class="line">_update(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *prefs, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *layout)</div>
<div class="line">{</div>
<div class="line">   _update_animation(prefs, layout);</div>
<div class="line">   _update_animation_time(prefs, layout);</div>
<div class="line">}</div>
</div><!-- fragment --><p> In this function we'll get the checkbox (bool) value and start or stop the animation on edje.</p>
 <div class="fragment"><div class="line">_update_animation(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *prefs, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *layout)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="struct__Eina__Value.html">Eina_Value</a> value;</div>
<div class="line">   <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> animation;</div>
<div class="line"> </div>
<div class="line">   elm_prefs_item_value_get(prefs, <span class="stringliteral">&quot;main:config:options:animation&quot;</span>, &amp;value);</div>
<div class="line">   <a class="code" href="group__Eina__Value__Value__Group.html#ga6f088fe6c6127d808cdf214b355cbdeb">eina_value_get</a>(&amp;value, &amp;animation);</div>
<div class="line">   <span class="keywordflow">if</span> (animation)</div>
<div class="line">     <a class="code" href="group__Elm__Layout.html#gaa39b36a49850270dd692ce135b2979f3">elm_layout_signal_emit</a>(layout, <span class="stringliteral">&quot;start&quot;</span>, <span class="stringliteral">&quot;animation&quot;</span>);</div>
<div class="line">   <span class="keywordflow">else</span></div>
<div class="line">     <a class="code" href="group__Elm__Layout.html#gaa39b36a49850270dd692ce135b2979f3">elm_layout_signal_emit</a>(layout, <span class="stringliteral">&quot;stop&quot;</span>, <span class="stringliteral">&quot;animation&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga3fe0caf72e93b1bab1ca8ee3ccf3f226"><div class="ttname"><a href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div><div class="ttdeci">unsigned char Eina_Bool</div><div class="ttdoc">Type to mimic a boolean.</div><div class="ttdef"><b>Definition:</b> eina_types.h:527</div></div>
<div class="ttc" id="agroup__Eina__Value__Value__Group_html_ga6f088fe6c6127d808cdf214b355cbdeb"><div class="ttname"><a href="group__Eina__Value__Value__Group.html#ga6f088fe6c6127d808cdf214b355cbdeb">eina_value_get</a></div><div class="ttdeci">static Eina_Bool eina_value_get(const Eina_Value *value,...)</div><div class="ttdoc">Gets the generic value.</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_gaa39b36a49850270dd692ce135b2979f3"><div class="ttname"><a href="group__Elm__Layout.html#gaa39b36a49850270dd692ce135b2979f3">elm_layout_signal_emit</a></div><div class="ttdeci">void elm_layout_signal_emit(Eo *obj, const char *emission, const char *source)</div><div class="ttdoc">Send a (Edje) signal to a given layout widget's underlying Edje object.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:3388</div></div>
<div class="ttc" id="astruct__Eina__Value_html"><div class="ttname"><a href="struct__Eina__Value.html">_Eina_Value</a></div><div class="ttdoc">defines the contents of a value</div><div class="ttdef"><b>Definition:</b> eina_value.h:662</div></div>
</div><!-- fragment --><p> In this function we'll get the slider (float item) value and send it as animation time to edje.</p>
<div class="fragment"><div class="line">_update_animation_time(<a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *prefs, <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *layout)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="struct__Eina__Value.html">Eina_Value</a> value;</div>
<div class="line">   <span class="keywordtype">float</span> animation_time;</div>
<div class="line">   <a class="code" href="struct__Edje__Message__Float.html">Edje_Message_Float</a> msg;</div>
<div class="line"> </div>
<div class="line">   elm_prefs_item_value_get(prefs, <span class="stringliteral">&quot;main:config:options:animation_time&quot;</span>, &amp;value);</div>
<div class="line">   <a class="code" href="group__Eina__Value__Value__Group.html#ga6f088fe6c6127d808cdf214b355cbdeb">eina_value_get</a>(&amp;value, &amp;animation_time);</div>
<div class="line">   <span class="keywordflow">if</span> (animation_time &lt; 0.01) animation_time = 0.01;</div>
<div class="line">   msg.<a class="code" href="struct__Edje__Message__Float.html#a6f297371783ce318fa8d153b634a2b3e">val</a> = animation_time;</div>
<div class="line">   <a class="code" href="group__Edje__Object__Communication__Interface__Message.html#gac89a6483d3197cbe6268c83b04e8b525">edje_object_message_send</a>(<a class="code" href="group__Elm__Layout.html#gac16e9590a879f644aa5c3bf87c28b03e">elm_layout_edje_get</a>(layout), <a class="code" href="group__Edje__Object__Communication__Interface__Message.html#ggad0763549d687c9cfc6df685ac077d967a137b317694c831ff5d34669e1f045f87">EDJE_MESSAGE_FLOAT</a>,</div>
<div class="line">                            MSG_ID_VEL, &amp;msg);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Edje__Object__Communication__Interface__Message_html_gac89a6483d3197cbe6268c83b04e8b525"><div class="ttname"><a href="group__Edje__Object__Communication__Interface__Message.html#gac89a6483d3197cbe6268c83b04e8b525">edje_object_message_send</a></div><div class="ttdeci">void edje_object_message_send(Evas_Object *obj, Edje_Message_Type type, int id, void *msg)</div><div class="ttdoc">Sends an (Edje) message to a given Edje object.</div><div class="ttdef"><b>Definition:</b> edje_message_queue.c:1016</div></div>
<div class="ttc" id="agroup__Edje__Object__Communication__Interface__Message_html_ggad0763549d687c9cfc6df685ac077d967a137b317694c831ff5d34669e1f045f87"><div class="ttname"><a href="group__Edje__Object__Communication__Interface__Message.html#ggad0763549d687c9cfc6df685ac077d967a137b317694c831ff5d34669e1f045f87">EDJE_MESSAGE_FLOAT</a></div><div class="ttdeci">@ EDJE_MESSAGE_FLOAT</div><div class="ttdoc">A message with a floating pointer number as value.</div><div class="ttdef"><b>Definition:</b> Edje_Legacy.h:580</div></div>
<div class="ttc" id="agroup__Elm__Layout_html_gac16e9590a879f644aa5c3bf87c28b03e"><div class="ttname"><a href="group__Elm__Layout.html#gac16e9590a879f644aa5c3bf87c28b03e">elm_layout_edje_get</a></div><div class="ttdeci">Evas_Object * elm_layout_edje_get(const Eo *obj)</div><div class="ttdoc">Get the edje layout.</div><div class="ttdef"><b>Definition:</b> efl_ui_layout.c:1883</div></div>
<div class="ttc" id="astruct__Edje__Message__Float_html"><div class="ttname"><a href="struct__Edje__Message__Float.html">_Edje_Message_Float</a></div><div class="ttdoc">Structure passed as value on EDJE_MESSAGE_FLOAT messages.</div><div class="ttdef"><b>Definition:</b> Edje_Legacy.h:516</div></div>
<div class="ttc" id="astruct__Edje__Message__Float_html_a6f297371783ce318fa8d153b634a2b3e"><div class="ttname"><a href="struct__Edje__Message__Float.html#a6f297371783ce318fa8d153b634a2b3e">_Edje_Message_Float::val</a></div><div class="ttdeci">double val</div><div class="ttdoc">The message's value.</div><div class="ttdef"><b>Definition:</b> Edje_Legacy.h:517</div></div>
</div><!-- fragment --><p> Here we finish the example. The full source code can be found on <a class="el" href="prefs_example_03_c.html">prefs_example_03.c</a>, <a class="el" href="prefs_example_03_epc.html">prefs_example_03.epc</a> and <a class="el" href="prefs_example_03_edc.html">prefs_example_03.edc</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:48</span>
  </p>
</div>
</body>
</html>
