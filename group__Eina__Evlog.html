<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Event Log Debugging</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Event Log Debugging<div class="ingroups"><a class="el" href="group__Eina.html">Eina</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions are used internally by EFL in general for profiling.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__Eina__Evlog__Item.html">_Eina_Evlog_Item</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__Eina__Evlog__Buf.html">_Eina_Evlog_Buf</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gabbaa60bab581d3b6356886cf430983cb"><td class="memItemLeft" align="right" valign="top"><a id="gabbaa60bab581d3b6356886cf430983cb"></a>
typedef struct <a class="el" href="struct__Eina__Evlog__Item.html">_Eina_Evlog_Item</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Eina_Evlog_Item</b></td></tr>
<tr class="separator:gabbaa60bab581d3b6356886cf430983cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf23eb6c706626c2cc4d357a22ee4e366"><td class="memItemLeft" align="right" valign="top"><a id="gaf23eb6c706626c2cc4d357a22ee4e366"></a>
typedef struct <a class="el" href="struct__Eina__Evlog__Buf.html">_Eina_Evlog_Buf</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Eina_Evlog_Buf</b></td></tr>
<tr class="separator:gaf23eb6c706626c2cc4d357a22ee4e366"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga85601ce8bff6482fd44ac1f3669f3bfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Evlog.html#ga85601ce8bff6482fd44ac1f3669f3bfe">eina_evlog</a> (const char *event, void *obj, double srctime, const char *detail)</td></tr>
<tr class="memdesc:ga85601ce8bff6482fd44ac1f3669f3bfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs an event for profiling data.  <a href="group__Eina__Evlog.html#ga85601ce8bff6482fd44ac1f3669f3bfe">More...</a><br /></td></tr>
<tr class="separator:ga85601ce8bff6482fd44ac1f3669f3bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90b43f6bddf884aea353bb4af10f9d27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="struct__Eina__Evlog__Buf.html">Eina_Evlog_Buf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Evlog.html#ga90b43f6bddf884aea353bb4af10f9d27">eina_evlog_steal</a> (void)</td></tr>
<tr class="memdesc:ga90b43f6bddf884aea353bb4af10f9d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Steals an event log buffer from the evlog core.  <a href="group__Eina__Evlog.html#ga90b43f6bddf884aea353bb4af10f9d27">More...</a><br /></td></tr>
<tr class="separator:ga90b43f6bddf884aea353bb4af10f9d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaef591a914055a1861e7dcc60e3af599"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Evlog.html#gaaef591a914055a1861e7dcc60e3af599">eina_evlog_start</a> (void)</td></tr>
<tr class="memdesc:gaaef591a914055a1861e7dcc60e3af599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins logging - until now eina_evlog is a NOOP.  <a href="group__Eina__Evlog.html#gaaef591a914055a1861e7dcc60e3af599">More...</a><br /></td></tr>
<tr class="separator:gaaef591a914055a1861e7dcc60e3af599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga476b477a948ff2e86584e9fcfb0f55b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Evlog.html#ga476b477a948ff2e86584e9fcfb0f55b1">eina_evlog_stop</a> (void)</td></tr>
<tr class="memdesc:ga476b477a948ff2e86584e9fcfb0f55b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops logging.  <a href="group__Eina__Evlog.html#ga476b477a948ff2e86584e9fcfb0f55b1">More...</a><br /></td></tr>
<tr class="separator:ga476b477a948ff2e86584e9fcfb0f55b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions are used internally by EFL in general for profiling. </p>
<p>This API is not considered stable or intended for use outside of EFL itself at this stage. The format of debug logs may and likely will change as this feature matures.</p>
<dl class="section since"><dt>Since</dt><dd>1.15 </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga85601ce8bff6482fd44ac1f3669f3bfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85601ce8bff6482fd44ac1f3669f3bfe">&#9670;&nbsp;</a></span>eina_evlog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_evlog </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>srctime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>detail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs an event for profiling data. </p>
<p>Log some interesting event inside of EFL, e.g. a wakeup (and why etc.). The <code>event</code> string must always be provided and be of the form:</p>
<p>"+eventname" "-eventname" "&gt;eventname" "&lt;eventname" "!eventname" "*eventname"</p>
<p>etc. The "+" char means an event is beginning (and any subsequent events logged are really children of this event). The "-" char means an event is ending and so all child events SHOULD have ended by now. A "!" character means the event is a one-off with no beginning or end. A"*" means this is special metadata and the detail field may need special parsing based on the eventname, so ignore unless known. A "&gt;" character means we begin this "state" of the process (these are separate to "+" and "-" events and don't nest - are not related to a thread or any other event, but just a state). "&lt;" Ends the given state given by the "eventname" part of the string. Any string following this initial character is the event or state name (and must be provided in the exact same string at both "+", "&lt;" and "-", "&gt;" events). This is what will be displayed in a debugger (and may be a well known string thus given a nice UI flourish with icons, labels and colors, so don't change this string unless you want to impact such visibility of these events). The event string after the first character as above can be anything, including white space. It is suggested to keep it human readable and as short as feasible.</p>
<p>The <code>object</code> is optional, and if not used, pass in NULL. If it is used, it can be a pointer to anything. It is intended simply to be of use to indicate an event happens on object A vs object B. What this points to is irrelevant as the pointer is never de-referenced or used other than as a label to differentiate an event on 2 different objects.</p>
<p>The <code>srctime</code> parameter is 0.0 if not used, or if used, contains a timepoint for an event that triggered this once. For example, if a device or hardware interrupt causes this event, that device may provide a timestamp/timepoint as part of the device information to indicate the exact time the hardware interrupt happened. This can be useful to have more information as to the latency of an actual source of an event such as the hardware interrupt time, and when the code actually begins seeing or processing it.</p>
<p>The <code>detail</code> string is optional (and if unused should be NULL). This is for providing more detailed information to log such as perhaps a the state at the time of the log events or a series of parameters and input that caused this event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>The event string - see above for format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>An optional object "pointer" to associate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srctime</td><td>An optional source event timestamp that caused this event </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">detail</td><td>An optional event detail string with more info</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.15 </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__Ecore__Init__Group.html#ga77757609684a2c922dc5ec398274751b">ecore_init()</a>, and <a class="el" href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin()</a>.</p>

</div>
</div>
<a id="ga90b43f6bddf884aea353bb4af10f9d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90b43f6bddf884aea353bb4af10f9d27">&#9670;&nbsp;</a></span>eina_evlog_steal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="struct__Eina__Evlog__Buf.html">Eina_Evlog_Buf</a>* eina_evlog_steal </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Steals an event log buffer from the evlog core. </p>
<p>Only one buffer can be stolen at any time. If you steal a new buffer, the old stolen buffer is "released" back to the evlog core.</p>
<dl class="section return"><dt>Returns</dt><dd>The stolen evlog buffer</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.15 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Lock__Group.html#ga7143ee35b9894e80578753485284256c">eina_spinlock_release()</a>, and <a class="el" href="group__Eina__Lock__Group.html#gaf9556624e5c6db1a66c20615c523efb5">eina_spinlock_take()</a>.</p>

</div>
</div>
<a id="gaaef591a914055a1861e7dcc60e3af599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaef591a914055a1861e7dcc60e3af599">&#9670;&nbsp;</a></span>eina_evlog_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_evlog_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins logging - until now eina_evlog is a NOOP. </p>
<dl class="section since"><dt>Since</dt><dd>1.15 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Lock__Group.html#ga7143ee35b9894e80578753485284256c">eina_spinlock_release()</a>, and <a class="el" href="group__Eina__Lock__Group.html#gaf9556624e5c6db1a66c20615c523efb5">eina_spinlock_take()</a>.</p>

</div>
</div>
<a id="ga476b477a948ff2e86584e9fcfb0f55b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga476b477a948ff2e86584e9fcfb0f55b1">&#9670;&nbsp;</a></span>eina_evlog_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_evlog_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops logging. </p>
<p>You must not be using any evlog buffers stolen by <a class="el" href="group__Eina__Evlog.html#ga90b43f6bddf884aea353bb4af10f9d27" title="Steals an event log buffer from the evlog core.">eina_evlog_steal()</a> by the time you call this function.</p>
<dl class="section since"><dt>Since</dt><dd>1.15 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Lock__Group.html#ga7143ee35b9894e80578753485284256c">eina_spinlock_release()</a>, and <a class="el" href="group__Eina__Lock__Group.html#gaf9556624e5c6db1a66c20615c523efb5">eina_spinlock_take()</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:11:21</span>
  </p>
</div>
</body>
</html>
