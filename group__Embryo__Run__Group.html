<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Program Run Functions</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Program Run Functions<div class="ingroups"><a class="el" href="group__Embryo.html">Embryo</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions that are involved in actually running functions in an Embryo program.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4497fa4413a00d7f482772cdc6f7309d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Embryo__Run__Group.html#ga4497fa4413a00d7f482772cdc6f7309d">embryo_program_recursion_get</a> (Embryo_Program *ep)</td></tr>
<tr class="memdesc:ga4497fa4413a00d7f482772cdc6f7309d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of virtual machines are running for the given program.  <a href="group__Embryo__Run__Group.html#ga4497fa4413a00d7f482772cdc6f7309d">More...</a><br /></td></tr>
<tr class="separator:ga4497fa4413a00d7f482772cdc6f7309d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccef1558ef50bac16e99485e9fb0fe28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> Embryo_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Embryo__Run__Group.html#gaccef1558ef50bac16e99485e9fb0fe28">embryo_program_run</a> (Embryo_Program *ep, Embryo_Function func)</td></tr>
<tr class="memdesc:gaccef1558ef50bac16e99485e9fb0fe28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the given function of the given Embryo program in the current virtual machine.  <a href="group__Embryo__Run__Group.html#gaccef1558ef50bac16e99485e9fb0fe28">More...</a><br /></td></tr>
<tr class="separator:gaccef1558ef50bac16e99485e9fb0fe28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91a7c05bafd22e94d776a117a297201d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> Embryo_Cell&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Embryo__Run__Group.html#ga91a7c05bafd22e94d776a117a297201d">embryo_program_return_value_get</a> (Embryo_Program *ep)</td></tr>
<tr class="memdesc:ga91a7c05bafd22e94d776a117a297201d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreives the return value of the last called function of the given program.  <a href="group__Embryo__Run__Group.html#ga91a7c05bafd22e94d776a117a297201d">More...</a><br /></td></tr>
<tr class="separator:ga91a7c05bafd22e94d776a117a297201d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga493d2e507082b46cdbc57708a1f6e239"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Embryo__Run__Group.html#ga493d2e507082b46cdbc57708a1f6e239">embryo_program_max_cycle_run_set</a> (Embryo_Program *ep, int max)</td></tr>
<tr class="memdesc:ga493d2e507082b46cdbc57708a1f6e239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum number of abstract machine cycles any given program run can execute before being put to sleep and returning.  <a href="group__Embryo__Run__Group.html#ga493d2e507082b46cdbc57708a1f6e239">More...</a><br /></td></tr>
<tr class="separator:ga493d2e507082b46cdbc57708a1f6e239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bf3e76b53faadccc60c11093c795425"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Embryo__Run__Group.html#ga2bf3e76b53faadccc60c11093c795425">embryo_program_max_cycle_run_get</a> (Embryo_Program *ep)</td></tr>
<tr class="memdesc:ga2bf3e76b53faadccc60c11093c795425"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreives the maximum number of abstract machine cycles a program is allowed to run.  <a href="group__Embryo__Run__Group.html#ga2bf3e76b53faadccc60c11093c795425">More...</a><br /></td></tr>
<tr class="separator:ga2bf3e76b53faadccc60c11093c795425"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions that are involved in actually running functions in an Embryo program. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4497fa4413a00d7f482772cdc6f7309d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4497fa4413a00d7f482772cdc6f7309d">&#9670;&nbsp;</a></span>embryo_program_recursion_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> int embryo_program_recursion_get </td>
          <td>(</td>
          <td class="paramtype">Embryo_Program *&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of virtual machines are running for the given program. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The given program. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of virtual machines running. </dd></dl>

</div>
</div>
<a id="gaccef1558ef50bac16e99485e9fb0fe28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaccef1558ef50bac16e99485e9fb0fe28">&#9670;&nbsp;</a></span>embryo_program_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> Embryo_Status embryo_program_run </td>
          <td>(</td>
          <td class="paramtype">Embryo_Program *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Embryo_Function&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the given function of the given Embryo program in the current virtual machine. </p>
<p>The parameter <code>fn</code> can be found using <a class="el" href="group__Embryo__Func__Group.html#ga8da497a811da37c0396eeeb6b9331679">embryo_program_function_find</a>.</p>
<dl class="section note"><dt>Note</dt><dd>For Embryo to be able to run a function, it must have been declared <code>public</code> in the Small source code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The given program. </td></tr>
    <tr><td class="paramname">func</td><td>The given function. Normally "main", in which case the constant <code>EMBRYO_FUNCTION_MAIN</code> can be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>EMBRYO_PROGRAM_OK</code> on success. <code>EMBRYO_PROGRAM_SLEEP</code> if the program is halted by the Small <code>sleep</code> call. <code>EMBRYO_PROGRAM_FAIL</code> if there is an error. <code>EMBRYO_PROGRAM_TOOLONG</code> if the program executes for longer than it is allowed to in abstract machine instruction count. </dd></dl>

</div>
</div>
<a id="ga91a7c05bafd22e94d776a117a297201d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91a7c05bafd22e94d776a117a297201d">&#9670;&nbsp;</a></span>embryo_program_return_value_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> Embryo_Cell embryo_program_return_value_get </td>
          <td>(</td>
          <td class="paramtype">Embryo_Program *&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreives the return value of the last called function of the given program. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The given program. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An Embryo_Cell representing the return value of the function that was last called. </dd></dl>

</div>
</div>
<a id="ga493d2e507082b46cdbc57708a1f6e239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga493d2e507082b46cdbc57708a1f6e239">&#9670;&nbsp;</a></span>embryo_program_max_cycle_run_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> void embryo_program_max_cycle_run_set </td>
          <td>(</td>
          <td class="paramtype">Embryo_Program *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the maximum number of abstract machine cycles any given program run can execute before being put to sleep and returning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The given program. </td></tr>
    <tr><td class="paramname">max</td><td>The number of machine cycles as a limit.</td></tr>
  </table>
  </dd>
</dl>
<p>This sets the maximum number of abstract machine (virtual machine) instructions that a single run of an embryo function (even if its main) can use before embryo <a class="el" href="group__Embryo__Run__Group.html#gaccef1558ef50bac16e99485e9fb0fe28" title="Runs the given function of the given Embryo program in the current virtual machine.">embryo_program_run()</a> reutrns with the value EMBRYO_PROGRAM_TOOLONG. If the function fully executes within this number of cycles, <a class="el" href="group__Embryo__Run__Group.html#gaccef1558ef50bac16e99485e9fb0fe28" title="Runs the given function of the given Embryo program in the current virtual machine.">embryo_program_run()</a> will return as normal with either EMBRYO_PROGRAM_OK, EMBRYO_PROGRAM_FAIL or EMBRYO_PROGRAM_SLEEP. If the run exceeds this instruction count, then EMBRYO_PROGRAM_TOOLONG will be returned indicating the program exceeded its run count. If the app wishes to continue running this anyway - it is free to process its own events or whatever it wants and continue the function by calling embryo_program_run(program, EMBRYO_FUNCTION_CONT); which will start the run again until the instruction count is reached. This can keep being done to allow the calling program to still be able to control things outside the embryo function being called. If the maximum run cycle count is 0 then the program is allowed to run forever only returning when it is done.</p>
<p>It is important to note that abstract machine cycles are NOT the same as the host machine cpu cycles. They are not fixed in runtime per cycle, so this is more of a helper tool than a way to HARD-FORCE a script to only run for a specific period of time. If the cycle count is set to something low like 5000 or 1000, then every 1000 (or 5000) cycles control will be returned to the calling process where it can check a timer to see if a physical runtime limit has been elapsed and then abort running further assuming a "runaway script" or keep continuing the script run. This limits resolution to only that many cycles which do not take a determined amount of time to execute, as this varies from cpu to cpu and also depends on how loaded the system is. Making the max cycle run too low will impact performance requiring the abstract machine to do setup and teardown cycles too often comapred to cycles actually executed.</p>
<p>Also note it does NOT include nested abstract machines. IF this abstract machine run calls embryo script that calls a native function that in turn calls more embryo script, then the 2nd (and so on) levels are not included in this run count. They can set their own max instruction count values separately.</p>
<p>The default max cycle run value is 0 in any program until set with this function. </p>

</div>
</div>
<a id="ga2bf3e76b53faadccc60c11093c795425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bf3e76b53faadccc60c11093c795425">&#9670;&nbsp;</a></span>embryo_program_max_cycle_run_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Elua_8h.html#a3db3556eec8ef18cb8ddb43816974ac8">EAPI</a> int embryo_program_max_cycle_run_get </td>
          <td>(</td>
          <td class="paramtype">Embryo_Program *&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreives the maximum number of abstract machine cycles a program is allowed to run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The given program. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of cycles a run cycle is allowed to run for this program.</dd></dl>
<p>This returns the value set by <a class="el" href="group__Embryo__Run__Group.html#ga493d2e507082b46cdbc57708a1f6e239" title="Sets the maximum number of abstract machine cycles any given program run can execute before being put...">embryo_program_max_cycle_run_set()</a>. See <a class="el" href="group__Embryo__Run__Group.html#ga493d2e507082b46cdbc57708a1f6e239" title="Sets the maximum number of abstract machine cycles any given program run can execute before being put...">embryo_program_max_cycle_run_set()</a> for more information. </p>

</div>
</div>
</div><!-- contents -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:11:12</span>
  </p>
</div>
</body>
</html>
