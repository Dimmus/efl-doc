<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>File selector entry widget example</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">File selector entry widget example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This code places an Elementary file selector entry widget on a window, along with some other checkboxes.</p>
<p>Those are there just as knobs on the file selector entry's state.</p>
<p>Here's how we instantiate it:  </p><div class="fragment"><div class="line">   ic = <a class="code" href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66">elm_icon_standard_set</a>(ic, <span class="stringliteral">&quot;file&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gab09d6bf93b5435230b41ceca2abe783a">evas_object_size_hint_aspect_set</a>(ic, <a class="code" href="Evas__Common_8h.html#ac68b577b7c0b79c356f01926e4a8099faeaf1e019f2dbfbbc2da9ab1fe1f175f6">EVAS_ASPECT_CONTROL_VERTICAL</a>, 1, 1);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">/* file selector entry */</span></div>
<div class="line">   fs_entry = <a class="code" href="group__Elm__File__Selector__Entry.html#ga4f15d30896e40e7ccba49fda045ac1fe">elm_fileselector_entry_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(fs_entry, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, 0);</div>
<div class="line">   <a class="code" href="group__Elm__Fileselector.html#ga0a29bfd628ae0dc1cc0d1a3334580802">elm_fileselector_path_set</a>(fs_entry, <span class="stringliteral">&quot;/tmp&quot;</span>);</div>
<div class="line">   elm_object_text_set(fs_entry, <span class="stringliteral">&quot;Select a file&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a>(fs_entry, <span class="stringliteral">&quot;button icon&quot;</span>, ic);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(vbox, fs_entry);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(fs_entry);</div>
<div class="ttc" id="aEvas__Common_8h_html_ac68b577b7c0b79c356f01926e4a8099faeaf1e019f2dbfbbc2da9ab1fe1f175f6"><div class="ttname"><a href="Evas__Common_8h.html#ac68b577b7c0b79c356f01926e4a8099faeaf1e019f2dbfbbc2da9ab1fe1f175f6">EVAS_ASPECT_CONTROL_VERTICAL</a></div><div class="ttdeci">@ EVAS_ASPECT_CONTROL_VERTICAL</div><div class="ttdoc">Use all vertical container space to place an object, using the given aspect.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:377</div></div>
<div class="ttc" id="aEvas__Common_8h_html_aecbac710f36d52911fc34dcdaf8e729c"><div class="ttname"><a href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a></div><div class="ttdeci">#define EVAS_HINT_FILL</div><div class="ttdoc">Use with evas_object_size_hint_align_set(), evas_object_size_hint_align_get(), evas_object_size_hint_...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:298</div></div>
<div class="ttc" id="agroup__Elm__Box__Group_html_ga66a10dd861578521af2ab7b8c2ca65c5"><div class="ttname"><a href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a></div><div class="ttdeci">void elm_box_pack_end(Elm_Box *obj, Efl_Canvas_Object *subobj)</div><div class="ttdoc">Add an object at the end of the pack list.</div><div class="ttdef"><b>Definition:</b> elm_box_eo.legacy.c:57</div></div>
<div class="ttc" id="agroup__Elm__File__Selector__Entry_html_ga4f15d30896e40e7ccba49fda045ac1fe"><div class="ttname"><a href="group__Elm__File__Selector__Entry.html#ga4f15d30896e40e7ccba49fda045ac1fe">elm_fileselector_entry_add</a></div><div class="ttdeci">Evas_Object * elm_fileselector_entry_add(Evas_Object *parent)</div><div class="ttdoc">Add a new file selector entry widget to the given parent Elementary (container) object.</div><div class="ttdef"><b>Definition:</b> elc_fileselector_entry.c:285</div></div>
<div class="ttc" id="agroup__Elm__Fileselector_html_ga0a29bfd628ae0dc1cc0d1a3334580802"><div class="ttname"><a href="group__Elm__Fileselector.html#ga0a29bfd628ae0dc1cc0d1a3334580802">elm_fileselector_path_set</a></div><div class="ttdeci">void elm_fileselector_path_set(Evas_Object *obj, const char *_path)</div><div class="ttdoc">Set, programmatically, the directory that a given file selector widget will display contents from.</div><div class="ttdef"><b>Definition:</b> elc_fileselector.c:2153</div></div>
<div class="ttc" id="agroup__Elm__General_html_ga0531ec8867c72def7c780601764ca642"><div class="ttname"><a href="group__Elm__General.html#ga0531ec8867c72def7c780601764ca642">elm_object_part_content_set</a></div><div class="ttdeci">void elm_object_part_content_set(Evas_Object *obj, const char *part, Evas_Object *content)</div><div class="ttdoc">Set the content on part of a given container widget.</div><div class="ttdef"><b>Definition:</b> elm_main.c:1562</div></div>
<div class="ttc" id="agroup__Elm__Icon_html_ga5739728c1209f90422cf65a778a16502"><div class="ttname"><a href="group__Elm__Icon.html#ga5739728c1209f90422cf65a778a16502">elm_icon_add</a></div><div class="ttdeci">Evas_Object * elm_icon_add(Evas_Object *parent)</div><div class="ttdoc">Add a new icon object to the parent.</div><div class="ttdef"><b>Definition:</b> elm_icon.c:613</div></div>
<div class="ttc" id="agroup__Elm__Icon_html_gab764b4c6c90543f254c013eff6a6db66"><div class="ttname"><a href="group__Elm__Icon.html#gab764b4c6c90543f254c013eff6a6db66">elm_icon_standard_set</a></div><div class="ttdeci">Eina_Bool elm_icon_standard_set(Evas_Object *obj, const char *name)</div><div class="ttdoc">Set the icon by icon standards names.</div><div class="ttdef"><b>Definition:</b> elm_icon.c:885</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gaaf1d3e26e36b316977336066b6f56632"><div class="ttname"><a href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_align_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's alignment.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2650</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gab09d6bf93b5435230b41ceca2abe783a"><div class="ttname"><a href="group__Evas__Object__Group.html#gab09d6bf93b5435230b41ceca2abe783a">evas_object_size_hint_aspect_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_aspect_set(Evas_Object *obj, Evas_Aspect_Control aspect, Evas_Coord w, Evas_Coord h)</div><div class="ttdoc">Sets the hints for an object's aspect ratio.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2581</div></div>
</div><!-- fragment --><p> Note that we set on it's button both icon and label decorations. It's set to exhibit the path of (and list the contents of, when internal file selector is launched) the <code>"/tmp"</code> directory, also, with <a class="el" href="group__Elm__File__Selector__Entry.html#gaa6be3beb4e8dbc297c8e426ae0df4b53" title="Set the initial file system path and the entry&#39;s path string for a given file selector entry widget.">elm_fileselector_entry_path_set()</a>. What follows are checkboxes to exercise some of its API functions:  </p><div class="fragment"><div class="line">   ck = <a class="code" href="group__Elm__Check.html#ga252b43966ad9bbe0634c4619cac1e3e7">elm_check_add</a>(win);</div>
<div class="line">   elm_object_text_set(ck, <span class="stringliteral">&quot;editable selection&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Check.html#gaa011e6d86f82142698760cf0cc4fd0a4">elm_check_state_set</a>(ck, <a class="code" href="group__Elm__Fileselector.html#ga72f29bc1a9070aea636d95188717ee14">elm_fileselector_is_save_get</a>(fs_entry));</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(ck, <span class="stringliteral">&quot;changed&quot;</span>, _current_sel_toggle, fs_entry);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(hbox, ck);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(ck);</div>
<div class="line"> </div>
<div class="line">   ck = <a class="code" href="group__Elm__Check.html#ga252b43966ad9bbe0634c4619cac1e3e7">elm_check_add</a>(win);</div>
<div class="line">   elm_object_text_set(ck, <span class="stringliteral">&quot;\&quot;inwin\&quot; mode&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Check.html#gaa011e6d86f82142698760cf0cc4fd0a4">elm_check_state_set</a>(ck, elm_fileselector_entry_inwin_mode_get(fs_entry));</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(ck, <span class="stringliteral">&quot;changed&quot;</span>, _inwin_mode_toggle, fs_entry);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(hbox, ck);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(ck);</div>
<div class="line"> </div>
<div class="line">   ck = <a class="code" href="group__Elm__Check.html#ga252b43966ad9bbe0634c4619cac1e3e7">elm_check_add</a>(win);</div>
<div class="line">   elm_object_text_set(ck, <span class="stringliteral">&quot;folders only&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Check.html#gaa011e6d86f82142698760cf0cc4fd0a4">elm_check_state_set</a>(ck, <a class="code" href="group__Elm__Fileselector.html#ga0a195d1435ed3440fcfb0a6d799ae68e">elm_fileselector_folder_only_get</a>(fs_entry));</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(ck, <span class="stringliteral">&quot;changed&quot;</span>, _folder_only_toggle, fs_entry);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(hbox, ck);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(ck);</div>
<div class="line"> </div>
<div class="line">   ck = <a class="code" href="group__Elm__Check.html#ga252b43966ad9bbe0634c4619cac1e3e7">elm_check_add</a>(win);</div>
<div class="line">   elm_object_text_set(ck, <span class="stringliteral">&quot;expandable&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Elm__Check.html#gaa011e6d86f82142698760cf0cc4fd0a4">elm_check_state_set</a>(ck, <a class="code" href="group__Elm__Fileselector.html#ga07ea4bc495413dd301a888c3413e9bd5">elm_fileselector_expandable_get</a>(fs_entry));</div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(ck, <span class="stringliteral">&quot;changed&quot;</span>, _expandable_toggle, fs_entry);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(hbox, ck);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(ck);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a>(fs_entry, <span class="stringliteral">&quot;file,chosen&quot;</span>, _file_chosen, NULL);</div>
<div class="ttc" id="agroup__Elm__Check_html_ga252b43966ad9bbe0634c4619cac1e3e7"><div class="ttname"><a href="group__Elm__Check.html#ga252b43966ad9bbe0634c4619cac1e3e7">elm_check_add</a></div><div class="ttdeci">Evas_Object * elm_check_add(Evas_Object *parent)</div><div class="ttdoc">Add a new Check object.</div><div class="ttdef"><b>Definition:</b> efl_ui_check.c:516</div></div>
<div class="ttc" id="agroup__Elm__Check_html_gaa011e6d86f82142698760cf0cc4fd0a4"><div class="ttname"><a href="group__Elm__Check.html#gaa011e6d86f82142698760cf0cc4fd0a4">elm_check_state_set</a></div><div class="ttdeci">void elm_check_state_set(Evas_Object *obj, Eina_Bool state)</div><div class="ttdoc">Set the on/off state of the check object.</div><div class="ttdef"><b>Definition:</b> efl_ui_check.c:372</div></div>
<div class="ttc" id="agroup__Elm__Fileselector_html_ga07ea4bc495413dd301a888c3413e9bd5"><div class="ttname"><a href="group__Elm__Fileselector.html#ga07ea4bc495413dd301a888c3413e9bd5">elm_fileselector_expandable_get</a></div><div class="ttdeci">Eina_Bool elm_fileselector_expandable_get(const Evas_Object *obj)</div><div class="ttdoc">Get whether tree view is enabled for the given file selector widget.</div><div class="ttdef"><b>Definition:</b> elc_fileselector.c:2140</div></div>
<div class="ttc" id="agroup__Elm__Fileselector_html_ga0a195d1435ed3440fcfb0a6d799ae68e"><div class="ttname"><a href="group__Elm__Fileselector.html#ga0a195d1435ed3440fcfb0a6d799ae68e">elm_fileselector_folder_only_get</a></div><div class="ttdeci">Eina_Bool elm_fileselector_folder_only_get(const Evas_Object *obj)</div><div class="ttdoc">Get whether folder-only view is set for a given file selector widget.</div><div class="ttdef"><b>Definition:</b> elc_fileselector.c:2065</div></div>
<div class="ttc" id="agroup__Elm__Fileselector_html_ga72f29bc1a9070aea636d95188717ee14"><div class="ttname"><a href="group__Elm__Fileselector.html#ga72f29bc1a9070aea636d95188717ee14">elm_fileselector_is_save_get</a></div><div class="ttdeci">Eina_Bool elm_fileselector_is_save_get(const Evas_Object *obj)</div><div class="ttdoc">Get whether the given file selector is in &quot;saving dialog&quot; mode.</div><div class="ttdef"><b>Definition:</b> elc_fileselector.c:2032</div></div>
<div class="ttc" id="agroup__Evas__Smart__Object__Group_html_gac12dd6655f488cc47ce6cf00eb7d12b2"><div class="ttname"><a href="group__Evas__Smart__Object__Group.html#gac12dd6655f488cc47ce6cf00eb7d12b2">evas_object_smart_callback_add</a></div><div class="ttdeci">EVAS_API void evas_object_smart_callback_add(Evas_Object *eo_obj, const char *event, Evas_Smart_Cb func, const void *data)</div><div class="ttdoc">Add (register) a callback function to the smart event specified by event on the smart object obj.</div><div class="ttdef"><b>Definition:</b> evas_object_smart.c:1040</div></div>
</div><!-- fragment --><p> The checkboxes will toggle whether the file selector entry's internal file selector:</p><ul>
<li>must have an editable text entry for file names (thus, be in "save dialog mode")</li>
<li>is to be raised as an "inner window" (note it's the default behavior) or as a dedicated window</li>
<li>is to populate its view with folders only</li>
<li>is to expand its folders, in its view, <b>in place</b>, and not repainting it entirely just with the contents of a sole directory.</li>
</ul>
<p>Observe how the entry's text will match the string coming from the <code>"file,chosen"</code> smart event:  </p><div class="fragment"><div class="line"><span class="comment">/* hook on the file,chosen smart callback */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_file_chosen(<span class="keywordtype">void</span>        *data <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>,</div>
<div class="line">             <a class="code" href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a> *obj <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>,</div>
<div class="line">             <span class="keywordtype">void</span>        *event_info)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span> *file = event_info;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (file)</div>
<div class="line">     printf(<span class="stringliteral">&quot;File chosen: %s\n&quot;</span>, file);</div>
<div class="line">   <span class="keywordflow">else</span></div>
<div class="line">     printf(<span class="stringliteral">&quot;File selection canceled.\n&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9e19e6dd1f517a0ba437c0114d3e7c97"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9e19e6dd1f517a0ba437c0114d3e7c97">Evas_Object</a></div><div class="ttdeci">Efl_Canvas_Object Evas_Object</div><div class="ttdoc">An Evas Object handle.</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:185</div></div>
</div><!-- fragment --><p>Whenever you dismiss or acknowledges the file selector, after it's raised, the <code>event_info</code> string will contain the last selection on it (if any was made).</p>
<p>Try, also, to type in a valid system path and, then, open the file selector's window: it will start the file browsing there, for you.</p>
<p>This is how the example, just after called, should look like:</p>
<div class="image">
<img src="fileselector_entry_example_00.png" alt=""/>
</div>
 <p>Click on the file selector entry to raise its internal file selector, which will be contained on an <b>"inner window"</b>:</p>
<div class="image">
<img src="fileselector_entry_example_01.png" alt=""/>
</div>
 <p>Toggle the "inwin mode" switch off and, if you click on the file selector entry again, you'll get <b>two</b> windows, the original one (note the last selection there!)</p>
<div class="image">
<img src="fileselector_entry_example_02.png" alt=""/>
</div>
 <p>and the file selector's new one</p>
<div class="image">
<img src="fileselector_entry_example_03.png" alt=""/>
</div>
 <p>Play with the checkboxes to get the behavior changes on the file selector entry. The respective API calls on the widget coming from those knobs where shown in the code already.</p>
<p>See the full <a class="el" href="fileselector_entry_example_c.html">source code</a> for this example. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:46</span>
  </p>
</div>
</body>
</html>
