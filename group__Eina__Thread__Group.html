<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Thread</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Thread<div class="ingroups"><a class="el" href="group__Eina.html">Eina</a> &raquo; <a class="el" href="group__Eina__Tools__Group.html">Tools</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstracts platform threads, providing a uniform API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gacbfb74a9554f86829a021b6074ef9b31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31">EINA_THREAD_CLEANUP_PUSH</a>(cleanup,  data)&#160;&#160;&#160;  pthread_cleanup_push(cleanup, data)</td></tr>
<tr class="memdesc:gacbfb74a9554f86829a021b6074ef9b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes a cleanup function to be executed when the thread is canceled.  <a href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31">More...</a><br /></td></tr>
<tr class="separator:gacbfb74a9554f86829a021b6074ef9b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad33b7c1ec50b300be47e53832ff70b90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90">EINA_THREAD_CLEANUP_POP</a>(exec_cleanup)&#160;&#160;&#160;  pthread_cleanup_pop(exec_cleanup)</td></tr>
<tr class="memdesc:gad33b7c1ec50b300be47e53832ff70b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pops a cleanup function to be executed when the thread is canceled.  <a href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90">More...</a><br /></td></tr>
<tr class="separator:gad33b7c1ec50b300be47e53832ff70b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1e85dc4b7b825ef36a5ae9d8b710523a"><td class="memItemLeft" align="right" valign="top"><a id="ga1e85dc4b7b825ef36a5ae9d8b710523a"></a>
typedef uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a></td></tr>
<tr class="memdesc:ga1e85dc4b7b825ef36a5ae9d8b710523a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for a generic thread. <br /></td></tr>
<tr class="separator:ga1e85dc4b7b825ef36a5ae9d8b710523a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4621fcf4fac930dc7f781240bc9dfb26"><td class="memItemLeft" align="right" valign="top"><a id="ga4621fcf4fac930dc7f781240bc9dfb26"></a>
typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga4621fcf4fac930dc7f781240bc9dfb26">Eina_Thread_Cb</a>) (void *data, <a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> t)</td></tr>
<tr class="memdesc:ga4621fcf4fac930dc7f781240bc9dfb26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for the definition of a thread callback function. <br /></td></tr>
<tr class="separator:ga4621fcf4fac930dc7f781240bc9dfb26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0117b890d66e44e040f5bbfdc0de2aec"><td class="memItemLeft" align="right" valign="top"><a id="ga0117b890d66e44e040f5bbfdc0de2aec"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga0117b890d66e44e040f5bbfdc0de2aec">Eina_Thread_Cleanup_Cb</a>) (void *data)</td></tr>
<tr class="memdesc:ga0117b890d66e44e040f5bbfdc0de2aec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for the definition of a thread cleanup function. <br /></td></tr>
<tr class="separator:ga0117b890d66e44e040f5bbfdc0de2aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga240e6f04f3d6a051f2b16d0c2403cfc8"><td class="memItemLeft" align="right" valign="top"><a id="ga240e6f04f3d6a051f2b16d0c2403cfc8"></a>
typedef enum <a class="el" href="group__Eina__Thread__Group.html#gaa4cf7c15a40c7d4eeaf1e96f0d559c2c">_Eina_Thread_Priority</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga240e6f04f3d6a051f2b16d0c2403cfc8">Eina_Thread_Priority</a></td></tr>
<tr class="memdesc:ga240e6f04f3d6a051f2b16d0c2403cfc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type to enumerate different thread priorities. <br /></td></tr>
<tr class="separator:ga240e6f04f3d6a051f2b16d0c2403cfc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga117083fbebdb7789f41e57315f6b8a59"><td class="memItemLeft" align="right" valign="top">typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga117083fbebdb7789f41e57315f6b8a59">Eina_Thread_Cancellable_Run_Cb</a>) (void *data)</td></tr>
<tr class="memdesc:ga117083fbebdb7789f41e57315f6b8a59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for the definition of a cancellable callback to run.  <a href="group__Eina__Thread__Group.html#ga117083fbebdb7789f41e57315f6b8a59">More...</a><br /></td></tr>
<tr class="separator:ga117083fbebdb7789f41e57315f6b8a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaa4cf7c15a40c7d4eeaf1e96f0d559c2c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#gaa4cf7c15a40c7d4eeaf1e96f0d559c2c">_Eina_Thread_Priority</a> { <br />
&#160;&#160;<a class="el" href="group__Eina__Thread__Group.html#ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca842869f263198ebe0449ed608cea24ad">EINA_THREAD_URGENT</a>
, <br />
&#160;&#160;<a class="el" href="group__Eina__Thread__Group.html#ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca054acf2389c4fc3386f0f50c0f616284">EINA_THREAD_NORMAL</a>
, <br />
&#160;&#160;<a class="el" href="group__Eina__Thread__Group.html#ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca2514f34b3df808b93bccca33fb477ebe">EINA_THREAD_BACKGROUND</a>
, <br />
&#160;&#160;<a class="el" href="group__Eina__Thread__Group.html#ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca69ca04b3cde0f80f9f9540576c388600">EINA_THREAD_IDLE</a>
<br />
 }</td></tr>
<tr class="separator:gaa4cf7c15a40c7d4eeaf1e96f0d559c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacd61c43d4ffe9a5b2cb2033b5f77bb4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#gacd61c43d4ffe9a5b2cb2033b5f77bb4f">eina_thread_self</a> (void)</td></tr>
<tr class="memdesc:gacd61c43d4ffe9a5b2cb2033b5f77bb4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns identifier of the current thread.  <a href="group__Eina__Thread__Group.html#gacd61c43d4ffe9a5b2cb2033b5f77bb4f">More...</a><br /></td></tr>
<tr class="separator:gacd61c43d4ffe9a5b2cb2033b5f77bb4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0eee2ad81ea18d09d30f7812b78b101"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#gaa0eee2ad81ea18d09d30f7812b78b101">eina_thread_equal</a> (<a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> t1, <a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> t2)</td></tr>
<tr class="memdesc:gaa0eee2ad81ea18d09d30f7812b78b101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if two thread identifiers are the same.  <a href="group__Eina__Thread__Group.html#gaa0eee2ad81ea18d09d30f7812b78b101">More...</a><br /></td></tr>
<tr class="separator:gaa0eee2ad81ea18d09d30f7812b78b101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad648cc0b3bbdf78f3fd7d82bdc3af6e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#gad648cc0b3bbdf78f3fd7d82bdc3af6e7">eina_thread_create</a> (<a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> *t, <a class="el" href="group__Eina__Thread__Group.html#ga240e6f04f3d6a051f2b16d0c2403cfc8">Eina_Thread_Priority</a> prio, int affinity, <a class="el" href="group__Eina__Thread__Group.html#ga4621fcf4fac930dc7f781240bc9dfb26">Eina_Thread_Cb</a> func, const void *data)</td></tr>
<tr class="memdesc:gad648cc0b3bbdf78f3fd7d82bdc3af6e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new thread, setting its priority and affinity.  <a href="group__Eina__Thread__Group.html#gad648cc0b3bbdf78f3fd7d82bdc3af6e7">More...</a><br /></td></tr>
<tr class="separator:gad648cc0b3bbdf78f3fd7d82bdc3af6e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3026905ca701119eb78569e646544a8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga3026905ca701119eb78569e646544a8d">eina_thread_join</a> (<a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> t)</td></tr>
<tr class="memdesc:ga3026905ca701119eb78569e646544a8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joins a currently running thread, waiting until it finishes.  <a href="group__Eina__Thread__Group.html#ga3026905ca701119eb78569e646544a8d">More...</a><br /></td></tr>
<tr class="separator:ga3026905ca701119eb78569e646544a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga099238239a062cf6b33453d599ad0106"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga099238239a062cf6b33453d599ad0106">eina_thread_name_set</a> (<a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> t, const char *name)</td></tr>
<tr class="memdesc:ga099238239a062cf6b33453d599ad0106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the name of a given thread for debugging purposes.  <a href="group__Eina__Thread__Group.html#ga099238239a062cf6b33453d599ad0106">More...</a><br /></td></tr>
<tr class="separator:ga099238239a062cf6b33453d599ad0106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80dc486bb33402ffc20741d3086a8277"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga80dc486bb33402ffc20741d3086a8277">eina_thread_cancel</a> (<a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> t)</td></tr>
<tr class="memdesc:ga80dc486bb33402ffc20741d3086a8277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to cancel a running thread.  <a href="group__Eina__Thread__Group.html#ga80dc486bb33402ffc20741d3086a8277">More...</a><br /></td></tr>
<tr class="separator:ga80dc486bb33402ffc20741d3086a8277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58f736ee21de29c3c51e9fd37d829b6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f">eina_thread_cancellable_set</a> (<a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> cancellable, <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> *was_cancellable)</td></tr>
<tr class="memdesc:ga58f736ee21de29c3c51e9fd37d829b6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables if the current thread can be canceled.  <a href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f">More...</a><br /></td></tr>
<tr class="separator:ga58f736ee21de29c3c51e9fd37d829b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85b73a0592645d298a96d62f60732379"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379">eina_thread_cancel_checkpoint</a> (void)</td></tr>
<tr class="memdesc:ga85b73a0592645d298a96d62f60732379"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the current thread is cancellable, this introduces a cancellation check point.  <a href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379">More...</a><br /></td></tr>
<tr class="separator:ga85b73a0592645d298a96d62f60732379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf153d30091cfe6d7a3c85c4716ab39b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8">eina_thread_cancellable_run</a> (<a class="el" href="group__Eina__Thread__Group.html#ga117083fbebdb7789f41e57315f6b8a59">Eina_Thread_Cancellable_Run_Cb</a> cb, <a class="el" href="group__Eina__Types__Group.html#gadbac560ba2bca5c61d97bfbb542018f3">Eina_Free_Cb</a> cleanup_cb, void *data)</td></tr>
<tr class="memdesc:gaf153d30091cfe6d7a3c85c4716ab39b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will setup cleanup callback, turn the thread cancellable, execute the given callback, reset the cancellable state to its old value, run the cleanup callback and then return the callback return value.  <a href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8">More...</a><br /></td></tr>
<tr class="separator:gaf153d30091cfe6d7a3c85c4716ab39b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae78e0a9df873eb074545bee2775f6341"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#gae78e0a9df873eb074545bee2775f6341">eina_sched_prio_drop</a> (void)</td></tr>
<tr class="memdesc:gae78e0a9df873eb074545bee2775f6341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lowers the priority of the current thread.  <a href="group__Eina__Thread__Group.html#gae78e0a9df873eb074545bee2775f6341">More...</a><br /></td></tr>
<tr class="separator:gae78e0a9df873eb074545bee2775f6341"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga82955015683548d0c46d82d8848d4a7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Thread__Group.html#ga82955015683548d0c46d82d8848d4a7c">EINA_THREAD_JOIN_CANCELED</a></td></tr>
<tr class="memdesc:ga82955015683548d0c46d82d8848d4a7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The return value of <a class="el" href="group__Eina__Thread__Group.html#ga3026905ca701119eb78569e646544a8d" title="Joins a currently running thread, waiting until it finishes.">eina_thread_join()</a> if it was canceled with <a class="el" href="group__Eina__Thread__Group.html#ga80dc486bb33402ffc20741d3086a8277" title="Attempts to cancel a running thread.">eina_thread_cancel()</a>.  <a href="group__Eina__Thread__Group.html#ga82955015683548d0c46d82d8848d4a7c">More...</a><br /></td></tr>
<tr class="separator:ga82955015683548d0c46d82d8848d4a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Abstracts platform threads, providing a uniform API. </p>
<p>It's modeled after POSIX THREADS (pthreads), on Linux they are almost 1:1 mapping.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Lock__Group.html">Lock</a> for mutex/locking abstraction.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gacbfb74a9554f86829a021b6074ef9b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbfb74a9554f86829a021b6074ef9b31">&#9670;&nbsp;</a></span>EINA_THREAD_CLEANUP_PUSH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EINA_THREAD_CLEANUP_PUSH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cleanup, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;  pthread_cleanup_push(cleanup, data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pushes a cleanup function to be executed when the thread is canceled. </p>
<p>This macro will schedule a function cleanup(data) to be executed if the thread is canceled with <a class="el" href="group__Eina__Thread__Group.html#ga80dc486bb33402ffc20741d3086a8277" title="Attempts to cancel a running thread.">eina_thread_cancel()</a> and the thread was previously marked as cancellable with <a class="el" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f" title="Enables or disables if the current thread can be canceled.">eina_thread_cancellable_set()</a>.</p>
<p>It <b>must</b> be paired with <a class="el" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90" title="Pops a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_POP()</a> in the same code block as they will expand to do {} while ()!</p>
<p>The cleanup function may also be executed if <a class="el" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90" title="Pops a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_POP(EINA_TRUE)</a> is used.</p>
<dl class="section note"><dt>Note</dt><dd>If the block within <a class="el" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31" title="Pushes a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_PUSH()</a> and <a class="el" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90" title="Pops a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_POP()</a> returns, the cleanup callback will <b>not</b> be executed! To avoid problems prefer to use <a class="el" href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8" title="This function will setup cleanup callback, turn the thread cancellable, execute the given callback,...">eina_thread_cancellable_run()</a>!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cleanup</td><td>The function to execute on cancellation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The context to give to cleanup function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8" title="This function will setup cleanup callback, turn the thread cancellable, execute the given callback,...">eina_thread_cancellable_run()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<a id="gad33b7c1ec50b300be47e53832ff70b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad33b7c1ec50b300be47e53832ff70b90">&#9670;&nbsp;</a></span>EINA_THREAD_CLEANUP_POP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EINA_THREAD_CLEANUP_POP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">exec_cleanup</td><td>)</td>
          <td>&#160;&#160;&#160;  pthread_cleanup_pop(exec_cleanup)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pops a cleanup function to be executed when the thread is canceled. </p>
<p>This macro will remove a previously pushed cleanup function, thus if the thread is canceled with <a class="el" href="group__Eina__Thread__Group.html#ga80dc486bb33402ffc20741d3086a8277" title="Attempts to cancel a running thread.">eina_thread_cancel()</a> and the thread was previously marked as cancellable with <a class="el" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f" title="Enables or disables if the current thread can be canceled.">eina_thread_cancellable_set()</a>, that cleanup won't be executed anymore.</p>
<p>It <b>must</b> be paired with <a class="el" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31" title="Pushes a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_PUSH()</a> in the same code block as they will expand to do {} while ()!</p>
<dl class="section note"><dt>Note</dt><dd>If the block within <a class="el" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31" title="Pushes a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_PUSH()</a> and <a class="el" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90" title="Pops a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_POP()</a> returns, the cleanup callback will <b>not</b> be executed even if exec_cleanup is EINA_TRUE! To avoid problems prefer to use <a class="el" href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8" title="This function will setup cleanup callback, turn the thread cancellable, execute the given callback,...">eina_thread_cancellable_run()</a>!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">exec_cleanup</td><td>if EINA_TRUE, the function registered with <a class="el" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31" title="Pushes a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_PUSH()</a> will be executed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8" title="This function will setup cleanup callback, turn the thread cancellable, execute the given callback,...">eina_thread_cancellable_run()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga117083fbebdb7789f41e57315f6b8a59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga117083fbebdb7789f41e57315f6b8a59">&#9670;&nbsp;</a></span>Eina_Thread_Cancellable_Run_Cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eina_Thread_Cancellable_Run_Cb</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for the definition of a cancellable callback to run. </p>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa4cf7c15a40c7d4eeaf1e96f0d559c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4cf7c15a40c7d4eeaf1e96f0d559c2c">&#9670;&nbsp;</a></span>_Eina_Thread_Priority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__Eina__Thread__Group.html#gaa4cf7c15a40c7d4eeaf1e96f0d559c2c">_Eina_Thread_Priority</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca842869f263198ebe0449ed608cea24ad"></a>EINA_THREAD_URGENT&#160;</td><td class="fielddoc"><p>Higher than average process priority. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca054acf2389c4fc3386f0f50c0f616284"></a>EINA_THREAD_NORMAL&#160;</td><td class="fielddoc"><p>Standard process priority. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca2514f34b3df808b93bccca33fb477ebe"></a>EINA_THREAD_BACKGROUND&#160;</td><td class="fielddoc"><p>Lower than average process priority. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca69ca04b3cde0f80f9f9540576c388600"></a>EINA_THREAD_IDLE&#160;</td><td class="fielddoc"><p>Thread to be executed only when the processor is idle. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gacd61c43d4ffe9a5b2cb2033b5f77bb4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd61c43d4ffe9a5b2cb2033b5f77bb4f">&#9670;&nbsp;</a></span>eina_thread_self()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> eina_thread_self </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns identifier of the current thread. </p>
<dl class="section return"><dt>Returns</dt><dd>identifier of current thread. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Array__Group.html#ga900abe4f0039f5b9d48fbdbd2cb5f459">eina_array_new()</a>, and <a class="el" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__Ecore__Thread__Group.html#ga786b2db76a8bc29bca9f6f9cd41bc588">ecore_thread_name_set()</a>, <a class="el" href="group__Eina__Thread__Group.html#gae78e0a9df873eb074545bee2775f6341">eina_sched_prio_drop()</a>, <a class="el" href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379">eina_thread_cancel_checkpoint()</a>, and <a class="el" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f">eina_thread_cancellable_set()</a>.</p>

</div>
</div>
<a id="gaa0eee2ad81ea18d09d30f7812b78b101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0eee2ad81ea18d09d30f7812b78b101">&#9670;&nbsp;</a></span>eina_thread_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> eina_thread_equal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a>&#160;</td>
          <td class="paramname"><em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a>&#160;</td>
          <td class="paramname"><em>t2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if two thread identifiers are the same. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t1</td><td>first thread identifier to compare. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t2</td><td>second thread identifier to compare. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc" title="boolean value TRUE (numerical value 1)">EINA_TRUE</a> if they are equal, <a class="el" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301" title="boolean value FALSE (numerical value 0)">EINA_FALSE</a> otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>

</div>
</div>
<a id="gad648cc0b3bbdf78f3fd7d82bdc3af6e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad648cc0b3bbdf78f3fd7d82bdc3af6e7">&#9670;&nbsp;</a></span>eina_thread_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> eina_thread_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga240e6f04f3d6a051f2b16d0c2403cfc8">Eina_Thread_Priority</a>&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>affinity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga4621fcf4fac930dc7f781240bc9dfb26">Eina_Thread_Cb</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new thread, setting its priority and affinity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">t</td><td>where to return the thread identifier. Must <b>not</b> be <code>NULL</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prio</td><td>thread priority to use, usually EINA_THREAD_BACKGROUND </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">affinity</td><td>thread affinity to use. To not set affinity use <code>-1</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>function to run in the thread. Must <b>not</b> be <code>NULL</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>context data to provide to <em>func</em> as first argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc" title="boolean value TRUE (numerical value 1)">EINA_TRUE</a> if thread was created, <a class="el" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301" title="boolean value FALSE (numerical value 0)">EINA_FALSE</a> on errors. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Array__Group.html#ga7fa7e2cdcfb739140d5c5a5044086ce1">eina_array_free()</a>, <a class="el" href="group__Eina__Array__Group.html#ga900abe4f0039f5b9d48fbdbd2cb5f459">eina_array_new()</a>, <a class="el" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="el" href="group__Eina__Safety__Checks__Group.html#gab2b07061fc6500dedd9cd41c8d16f95d">EINA_SAFETY_ON_NULL_RETURN_VAL</a>, <a class="el" href="group__Eina__Thread__Group.html#ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca2514f34b3df808b93bccca33fb477ebe">EINA_THREAD_BACKGROUND</a>, <a class="el" href="group__Eina__Thread__Group.html#ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca69ca04b3cde0f80f9f9540576c388600">EINA_THREAD_IDLE</a>, <a class="el" href="group__Eina__Thread__Group.html#ggaa4cf7c15a40c7d4eeaf1e96f0d559c2ca842869f263198ebe0449ed608cea24ad">EINA_THREAD_URGENT</a>, and <a class="el" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>.</p>

</div>
</div>
<a id="ga3026905ca701119eb78569e646544a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3026905ca701119eb78569e646544a8d">&#9670;&nbsp;</a></span>eina_thread_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void* eina_thread_join </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Joins a currently running thread, waiting until it finishes. </p>
<p>This function will block the current thread until <em>t</em> finishes. The returned value is the one returned by <em>t</em> <code>func()</code> and may be <code>NULL</code> on errors. See <a class="el" href="group__Eina__Error__Group.html">Error</a> to identify problems.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>thread identifier to wait. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value returned by <em>t</em> creation function <code>func()</code> or <code>NULL</code> on errors. Check error with <a class="el" href="group__Eina__Error__Group.html">Error</a>. If the thread was canceled, it will return EINA_THREAD_JOIN_CANCELED. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Array__Group.html#ga7fa7e2cdcfb739140d5c5a5044086ce1">eina_array_free()</a>.</p>

</div>
</div>
<a id="ga099238239a062cf6b33453d599ad0106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga099238239a062cf6b33453d599ad0106">&#9670;&nbsp;</a></span>eina_thread_name_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> eina_thread_name_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the name of a given thread for debugging purposes. </p>
<p>This maps to the pthread_setname_np() GNU extension or similar if available. The name may be limited in size (possibly 16 characters including the null byte terminator). This is useful for debugging to name a thread so external tools can display a meaningful name attached to the thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>thread to set the name of </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>a string to name the thread - this cannot be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EINA_TRUE if it succeeds in setting the name or EINA_FALSE otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.16 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, and <a class="el" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__Ecore__Thread__Group.html#ga786b2db76a8bc29bca9f6f9cd41bc588">ecore_thread_name_set()</a>.</p>

</div>
</div>
<a id="ga80dc486bb33402ffc20741d3086a8277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80dc486bb33402ffc20741d3086a8277">&#9670;&nbsp;</a></span>eina_thread_cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> eina_thread_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga1e85dc4b7b825ef36a5ae9d8b710523a">Eina_Thread</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts to cancel a running thread. </p>
<p>This function sends a cancellation request to the thread, however that request is only fulfilled if the thread is cancellable (<a class="el" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f" title="Enables or disables if the current thread can be canceled.">eina_thread_cancellable_set()</a> with EINA_TRUE as first parameter) and it will wait for a cancellation point, be <a class="el" href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379" title="If the current thread is cancellable, this introduces a cancellation check point.">eina_thread_cancel_checkpoint()</a> or some syscall as defined in man:pthreads(7).</p>
<p>A thread that was canceled will return EINA_THREAD_JOIN_CANCELED when <a class="el" href="group__Eina__Thread__Group.html#ga3026905ca701119eb78569e646544a8d" title="Joins a currently running thread, waiting until it finishes.">eina_thread_join()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>Thread to cancel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EINA_FALSE if thread was not running, EINA_TRUE otherwise. Note that if a thread is not cancellable and it is running, this function will return EINA_TRUE!</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, and <a class="el" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__Ecore__Thread__Group.html#gae9b9b20e1ed53c62c51617b55aed2511">ecore_thread_cancel()</a>.</p>

</div>
</div>
<a id="ga58f736ee21de29c3c51e9fd37d829b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58f736ee21de29c3c51e9fd37d829b6f">&#9670;&nbsp;</a></span>eina_thread_cancellable_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> <a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> eina_thread_cancellable_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a>&#160;</td>
          <td class="paramname"><em>cancellable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> *&#160;</td>
          <td class="paramname"><em>was_cancellable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables if the current thread can be canceled. </p>
<p>By default <a class="el" href="group__Eina__Thread__Group.html#gad648cc0b3bbdf78f3fd7d82bdc3af6e7" title="Creates a new thread, setting its priority and affinity.">eina_thread_create()</a> will return a thread with cancellation disabled. One can enable the cancellation by using EINA_TRUE in <em>cancellable</em>.</p>
<p>Eina threads follow pthread_setcanceltype() PTHREAD_CANCEL_DEFERRED, that is, the actual termination will wait for a cancellation point, usually a syscall defined in man:pthreads(7) or an explicit cancellation point defined with <a class="el" href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379" title="If the current thread is cancellable, this introduces a cancellation check point.">eina_thread_cancel_checkpoint()</a>.</p>
<p>In order to provide cleanup around critical blocks use <a class="el" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31" title="Pushes a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_PUSH()</a> and <a class="el" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90" title="Pops a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_POP()</a> macros (which maps to pthread_cleanup_push() and pthread_cleanup_pop()), or the helper function <a class="el" href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8" title="This function will setup cleanup callback, turn the thread cancellable, execute the given callback,...">eina_thread_cancellable_run()</a> which does the pair for you.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cancellable</td><td>If EINA_TRUE, this thread will be accept cancellation requests. If EINA_FALSE &ndash; the default, it will ignore cancellation requests. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">was_cancellable</td><td>If non-NULL, will return the previous state, shall you want to restore.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EINA_TRUE if it succeeds in setting the cancellable state or EINA_FALSE otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379" title="If the current thread is cancellable, this introduces a cancellation check point.">eina_thread_cancel_checkpoint()</a> </dd>
<dd>
<a class="el" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31" title="Pushes a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_PUSH()</a> </dd>
<dd>
<a class="el" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90" title="Pops a cleanup function to be executed when the thread is canceled.">EINA_THREAD_CLEANUP_POP()</a> </dd>
<dd>
<a class="el" href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8" title="This function will setup cleanup callback, turn the thread cancellable, execute the given callback,...">eina_thread_cancellable_run()</a> </dd>
<dd>
<a class="el" href="group__Eina__Thread__Group.html#ga80dc486bb33402ffc20741d3086a8277" title="Attempts to cancel a running thread.">eina_thread_cancel()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Thread__Group.html#gacd61c43d4ffe9a5b2cb2033b5f77bb4f">eina_thread_self()</a>, and <a class="el" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__Eina__Thread__Group.html#gaf153d30091cfe6d7a3c85c4716ab39b8">eina_thread_cancellable_run()</a>.</p>

</div>
</div>
<a id="ga85b73a0592645d298a96d62f60732379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85b73a0592645d298a96d62f60732379">&#9670;&nbsp;</a></span>eina_thread_cancel_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_thread_cancel_checkpoint </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the current thread is cancellable, this introduces a cancellation check point. </p>
<p>Otherwise it's a no-operation.</p>
<p>Eina threads follow pthread_setcanceltype() PTHREAD_CANCEL_DEFERRED, that is, the actual termination will wait for a cancellation point, usually a syscall defined in man:pthreads(7) or an explicit cancellation point defined with this function.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379" title="If the current thread is cancellable, this introduces a cancellation check point.">eina_thread_cancel_checkpoint()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Array__Group.html#gafcc60b430bbc132114ef041e589d3ecf">eina_array_count()</a>, <a class="el" href="group__Eina__Array__Group.html#gafa900c630f0eaa45dd54d907523746e0">eina_array_pop()</a>, <a class="el" href="group__Eina__Thread__Group.html#ga82955015683548d0c46d82d8848d4a7c">EINA_THREAD_JOIN_CANCELED</a>, and <a class="el" href="group__Eina__Thread__Group.html#gacd61c43d4ffe9a5b2cb2033b5f77bb4f">eina_thread_self()</a>.</p>

</div>
</div>
<a id="gaf153d30091cfe6d7a3c85c4716ab39b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf153d30091cfe6d7a3c85c4716ab39b8">&#9670;&nbsp;</a></span>eina_thread_cancellable_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void* eina_thread_cancellable_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Eina__Thread__Group.html#ga117083fbebdb7789f41e57315f6b8a59">Eina_Thread_Cancellable_Run_Cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Eina__Types__Group.html#gadbac560ba2bca5c61d97bfbb542018f3">Eina_Free_Cb</a>&#160;</td>
          <td class="paramname"><em>cleanup_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will setup cleanup callback, turn the thread cancellable, execute the given callback, reset the cancellable state to its old value, run the cleanup callback and then return the callback return value. </p>
<dl class="section note"><dt>Note</dt><dd>cleanup_cb is configured <b>before</b> the thread is made cancellable, thus it <b>will</b> be executed while <em>cb</em> may not in the case the thread was already canceled and that was pending.</dd></dl>
<p>This helper does exactly the following code. Should you need a slightly different behavior, use the base calls yourself.</p>
<div class="fragment"><div class="line"><a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a> old = <a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>;</div>
<div class="line"><span class="keywordtype">void</span> *ret;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31">EINA_THREAD_CLEANUP_PUSH</a>(cleanup_cb, data);</div>
<div class="line"><a class="code" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f">eina_thread_cancellable_set</a>(<a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>, &amp;old); <span class="comment">// is a cancellation point</span></div>
<div class="line">ret = cb(data); <span class="comment">// may not run if was previously canceled</span></div>
<div class="line"><a class="code" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90">EINA_THREAD_CLEANUP_POP</a>(<a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line"><a class="code" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f">eina_thread_cancellable_set</a>(old, NULL);</div>
<div class="line"><span class="keywordflow">return</span> ret;</div>
<div class="ttc" id="agroup__Eina__Thread__Group_html_ga58f736ee21de29c3c51e9fd37d829b6f"><div class="ttname"><a href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f">eina_thread_cancellable_set</a></div><div class="ttdeci">EINA_API Eina_Bool eina_thread_cancellable_set(Eina_Bool cancellable, Eina_Bool *was_cancellable)</div><div class="ttdoc">Enables or disables if the current thread can be canceled.</div><div class="ttdef"><b>Definition:</b> eina_thread_posix.c:285</div></div>
<div class="ttc" id="agroup__Eina__Thread__Group_html_gacbfb74a9554f86829a021b6074ef9b31"><div class="ttname"><a href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31">EINA_THREAD_CLEANUP_PUSH</a></div><div class="ttdeci">#define EINA_THREAD_CLEANUP_PUSH(cleanup, data)</div><div class="ttdoc">Pushes a cleanup function to be executed when the thread is canceled.</div><div class="ttdef"><b>Definition:</b> eina_thread.h:264</div></div>
<div class="ttc" id="agroup__Eina__Thread__Group_html_gad33b7c1ec50b300be47e53832ff70b90"><div class="ttname"><a href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90">EINA_THREAD_CLEANUP_POP</a></div><div class="ttdeci">#define EINA_THREAD_CLEANUP_POP(exec_cleanup)</div><div class="ttdoc">Pops a cleanup function to be executed when the thread is canceled.</div><div class="ttdef"><b>Definition:</b> eina_thread.h:302</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga05c12dacc8b4058994df842b41be85fc"><div class="ttname"><a href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a></div><div class="ttdeci">#define EINA_TRUE</div><div class="ttdoc">boolean value TRUE (numerical value 1)</div><div class="ttdef"><b>Definition:</b> eina_types.h:539</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga1feb115f8e9913e806e090d9bd5a7301"><div class="ttname"><a href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a></div><div class="ttdeci">#define EINA_FALSE</div><div class="ttdoc">boolean value FALSE (numerical value 0)</div><div class="ttdef"><b>Definition:</b> eina_types.h:533</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga3fe0caf72e93b1bab1ca8ee3ccf3f226"><div class="ttname"><a href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div><div class="ttdeci">unsigned char Eina_Bool</div><div class="ttdoc">Type to mimic a boolean.</div><div class="ttdef"><b>Definition:</b> eina_types.h:527</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>a cancellable callback to possibly run. The callback <b>may</b> not be executed if the thread had a pending cancellation request. During its execution the callback may be canceled at explicit cancellation points using <a class="el" href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379" title="If the current thread is cancellable, this introduces a cancellation check point.">eina_thread_cancel_checkpoint()</a>, as well as some syscalls defined in man:pthreads(7). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cleanup_cb</td><td>a cleanup callback to be executed regardless of the thread being canceled or not. This function will be executed even if <em>cb</em> wasn't. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>context to give to both <em>cb</em> and <em>cleanup_cb</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the return value of <em>cb</em>. If the thread was canceled, this function will not return.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">References <a class="el" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>, <a class="el" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f">eina_thread_cancellable_set()</a>, <a class="el" href="group__Eina__Thread__Group.html#gad33b7c1ec50b300be47e53832ff70b90">EINA_THREAD_CLEANUP_POP</a>, <a class="el" href="group__Eina__Thread__Group.html#gacbfb74a9554f86829a021b6074ef9b31">EINA_THREAD_CLEANUP_PUSH</a>, and <a class="el" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>.</p>

</div>
</div>
<a id="gae78e0a9df873eb074545bee2775f6341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae78e0a9df873eb074545bee2775f6341">&#9670;&nbsp;</a></span>eina_sched_prio_drop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_sched_prio_drop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lowers the priority of the current thread. </p>
<p>It's used by worker threads so that they use up the background CPU and do not stall the main thread. If the current thread is running with real-time priority, we decrease our priority by <code>RTNICENESS</code>. This is done in a portable way.</p>
<p>Otherwise, (we are running with the SCHED_OTHER policy) there's no portable way to set the nice level on the current thread. In Linux, it does work and it's the only one that is implemented as of now. In this case, the nice level is incremented on this thread by <code>NICENESS</code>. </p>

<p class="reference">References <a class="el" href="group__Eina__Log__Group.html#ga2e33caeeeb6051526c01b7fea4d6c91b">EINA_LOG_ERR</a>, <a class="el" href="group__Eina__Log__Group.html#gafb145e82df0f9441244832c94e87a21b">EINA_LOG_INFO</a>, <a class="el" href="group__Eina__Thread__Group.html#gacd61c43d4ffe9a5b2cb2033b5f77bb4f">eina_thread_self()</a>, and <a class="el" href="group__Eina__Types__Group.html#ga70675a75a5fb3e9a51d5af985a1fd3aa">EINA_UNLIKELY</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga82955015683548d0c46d82d8848d4a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82955015683548d0c46d82d8848d4a7c">&#9670;&nbsp;</a></span>EINA_THREAD_JOIN_CANCELED</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> const void* EINA_THREAD_JOIN_CANCELED</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The return value of <a class="el" href="group__Eina__Thread__Group.html#ga3026905ca701119eb78569e646544a8d" title="Joins a currently running thread, waiting until it finishes.">eina_thread_join()</a> if it was canceled with <a class="el" href="group__Eina__Thread__Group.html#ga80dc486bb33402ffc20741d3086a8277" title="Attempts to cancel a running thread.">eina_thread_cancel()</a>. </p>
<p>A thread must be explicitly flagged as cancellable with <a class="el" href="group__Eina__Thread__Group.html#ga58f736ee21de29c3c51e9fd37d829b6f" title="Enables or disables if the current thread can be canceled.">eina_thread_cancellable_set()</a>, by default it's not and this value shouldn't be returned.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Thread__Group.html#ga3026905ca701119eb78569e646544a8d" title="Joins a currently running thread, waiting until it finishes.">eina_thread_join()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.19 </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__Eina__Thread__Group.html#ga85b73a0592645d298a96d62f60732379">eina_thread_cancel_checkpoint()</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:55</span>
  </p>
</div>
</body>
</html>
