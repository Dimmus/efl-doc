<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>ecore fd handlers - Monitoring file descriptors</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ecore fd handlers - Monitoring file descriptors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p></p>
<p>This is a very simple example where we will start monitoring the stdin of the program and, whenever there's something to be read, we call our callback that will read it.</p>
<p>Check the full code for this example <a class="el" href="ecore_fd_handler_example_8c-example.html">here</a>.</p>
<p>This seems to be stupid, since a similar result could be achieved by the following code:</p>
<div class="fragment"><div class="line"><span class="keywordflow">while</span> (nbytes = read(STDIN_FILENO, buf, <span class="keyword">sizeof</span>(buf)))</div>
<div class="line">  {</div>
<div class="line">     buf[nbytes - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">     printf(<span class="stringliteral">&quot;Read %zd bytes from input: \&quot;%s\&quot;\n&quot;</span>, nbytes - 1, buf);</div>
<div class="line">  }</div>
</div><!-- fragment --><p>However, the above code is blocking, and won't allow you to do anything else other than reading the input. Of course there are other methods to do a non-blocking reading, like setting the file descriptor to non-blocking and keep looping always checking if there's something to be read, and do other things otherwise. Or use a <code>select</code> call to watch for more than one file descriptor at the same time.</p>
<p>The advantage of using an <a class="el" href="group__Ecore__FD__Handler__Group.html#ga225121ed2123da4b52b76aa08d78c220">Ecore_Fd_Handler</a> is that you can monitor a file descriptor, while still iterating on the Ecore main loop. It will allow you to have timers working and expiring, events still being processed when received, idlers doing its work when there's nothing happening, and whenever there's something to be read from the file descriptor, your callback will be called. And it's everything monitored in the same main loop, no threads are needed, thus reducing the complexity of the program and any overhead caused by the use of threads.</p>
<p>Now let's start our program. First we just declare a context structure that will be passed to our callback, with pointers to our handler and to a timer that will be used later:</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * gcc -o ecore_fd_handler_example ecore_fd_handler_example.c `pkg-config --cflags --libs ecore`</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Ecore.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>context</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="group__Ecore__FD__Handler__Group.html#ga225121ed2123da4b52b76aa08d78c220">Ecore_Fd_Handler</a> *handler;</div>
<div class="line">   <a class="code" href="group__Ecore__Timer__Group.html#gaf96ffb609956658ec038e54bd39f46f0">Ecore_Timer</a>      *timer;</div>
<div class="line">};</div>
<div class="ttc" id="agroup__Ecore__FD__Handler__Group_html_ga225121ed2123da4b52b76aa08d78c220"><div class="ttname"><a href="group__Ecore__FD__Handler__Group.html#ga225121ed2123da4b52b76aa08d78c220">Ecore_Fd_Handler</a></div><div class="ttdeci">struct _Ecore_Fd_Handler Ecore_Fd_Handler</div><div class="ttdoc">A handle for Fd handlers.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:1380</div></div>
<div class="ttc" id="agroup__Ecore__Timer__Group_html_gaf96ffb609956658ec038e54bd39f46f0"><div class="ttname"><a href="group__Ecore__Timer__Group.html#gaf96ffb609956658ec038e54bd39f46f0">Ecore_Timer</a></div><div class="ttdeci">Eo Ecore_Timer</div><div class="ttdoc">A handle for timers.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:3079</div></div>
</div><!-- fragment --><p> Then we will declare a prepare_callback that is called before any fd_handler set in the program, and before the main loop select function is called. Just use one if you really know that you need it. We are just putting it here to exemplify its usage:</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_fd_prepare_cb(<span class="keywordtype">void</span> *data <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <a class="code" href="group__Ecore__FD__Handler__Group.html#ga225121ed2123da4b52b76aa08d78c220">Ecore_Fd_Handler</a> *handler <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   printf(<span class="stringliteral">&quot;prepare_cb called.\n&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
</div><!-- fragment --><p> Now, our fd handler. In its arguments, the <code>data</code> pointer will have any data passed to it when it was registered, and the <code>handler</code> pointer will contain the fd handler returned by the <a class="el" href="group__Ecore__FD__Handler__Group.html#ga832e68eb7f15912abeadef816bb5d2f5" title="Adds a callback for activity on the given file descriptor.">ecore_main_fd_handler_add()</a> call. It can be used, for example, to retrieve which file descriptor triggered this callback, since it could be added to more than one file descriptor, or to check what type of activity there's in the file descriptor.</p>
<p>The code is very simple: we first check if the type of activity was an error. It probably won't happen with the default input, but could be the case of a network socket detecting a disconnection. Next, we get the file descriptor from this handler (as said before, the callback could be added to more than one file descriptor), and read it since we know that it shouldn't block, because our fd handler told us that there's some activity on it. If the result of the read was 0 bytes, we know that it's an end of file (EOF), so we can finish reading the input. Otherwise we just print the content read from it:</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_fd_handler_cb(<span class="keywordtype">void</span> *data, <a class="code" href="group__Ecore__FD__Handler__Group.html#ga225121ed2123da4b52b76aa08d78c220">Ecore_Fd_Handler</a> *handler)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">struct </span>context *ctxt = data;</div>
<div class="line">   <span class="keywordtype">char</span> buf[1024];</div>
<div class="line">   <span class="keywordtype">size_t</span> nbytes;</div>
<div class="line">   <span class="keywordtype">int</span> fd;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__Ecore__FD__Handler__Group.html#gabd3040bd39c95723e42a8c48484b87de">ecore_main_fd_handler_active_get</a>(handler, <a class="code" href="group__Ecore__FD__Handler__Group.html#ggab5644f471dfa3bd182619601d9b60608a829d91235e3ca5eba61330c96a8074de">ECORE_FD_ERROR</a>))</div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;An error has occurred. Stop watching this fd and quit.\n&quot;</span>);</div>
<div class="line">        <a class="code" href="group__Ecore__Main__Loop__Group.html#ga95cf8e97dff0716433c2c5474d606a98">ecore_main_loop_quit</a>();</div>
<div class="line">        ctxt-&gt;handler = NULL;</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#gae0c653baad8836232c0dc27f91f875d6">ECORE_CALLBACK_CANCEL</a>;</div>
<div class="line">     }</div>
<div class="ttc" id="agroup__Ecore__FD__Handler__Group_html_gabd3040bd39c95723e42a8c48484b87de"><div class="ttname"><a href="group__Ecore__FD__Handler__Group.html#gabd3040bd39c95723e42a8c48484b87de">ecore_main_fd_handler_active_get</a></div><div class="ttdeci">Eina_Bool ecore_main_fd_handler_active_get(Ecore_Fd_Handler *fd_handler, Ecore_Fd_Handler_Flags flags)</div><div class="ttdoc">Gets which flags are active on an FD handler.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1643</div></div>
<div class="ttc" id="agroup__Ecore__FD__Handler__Group_html_ggab5644f471dfa3bd182619601d9b60608a829d91235e3ca5eba61330c96a8074de"><div class="ttname"><a href="group__Ecore__FD__Handler__Group.html#ggab5644f471dfa3bd182619601d9b60608a829d91235e3ca5eba61330c96a8074de">ECORE_FD_ERROR</a></div><div class="ttdeci">@ ECORE_FD_ERROR</div><div class="ttdoc">Fd Error mask.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:1390</div></div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_ga95cf8e97dff0716433c2c5474d606a98"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#ga95cf8e97dff0716433c2c5474d606a98">ecore_main_loop_quit</a></div><div class="ttdeci">void ecore_main_loop_quit(void)</div><div class="ttdoc">Quits the main loop once all the events currently on the queue have been processed.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1321</div></div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_gae0c653baad8836232c0dc27f91f875d6"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#gae0c653baad8836232c0dc27f91f875d6">ECORE_CALLBACK_CANCEL</a></div><div class="ttdeci">#define ECORE_CALLBACK_CANCEL</div><div class="ttdoc">Return value to remove a callback.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:152</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga3fe0caf72e93b1bab1ca8ee3ccf3f226"><div class="ttname"><a href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div><div class="ttdeci">unsigned char Eina_Bool</div><div class="ttdoc">Type to mimic a boolean.</div><div class="ttdef"><b>Definition:</b> eina_types.h:527</div></div>
</div><!-- fragment --><p> Also notice that this callback returns <a class="el" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a> to keep being called, as almost all other Ecore callbacks, otherwise if it returns <a class="el" href="group__Ecore__Main__Loop__Group.html#gae0c653baad8836232c0dc27f91f875d6">ECORE_CALLBACK_CANCEL</a> then the file handler would be deleted.</p>
<p>Just to demonstrate that our program isn't blocking in the input read but still can process other Ecore events, we are going to setup an <a class="el" href="group__Ecore__Timer__Group.html#gaf96ffb609956658ec038e54bd39f46f0">Ecore_Timer</a>. This is its callback:</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   fd = <a class="code" href="group__Ecore__FD__Handler__Group.html#ga70d418717552a5258c7dfc1153250e7d">ecore_main_fd_handler_fd_get</a>(handler);</div>
<div class="line">   nbytes = read(fd, buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line">   <span class="keywordflow">if</span> (nbytes == 0)</div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Nothing to read, exiting...\n&quot;</span>);</div>
<div class="line">        <a class="code" href="group__Ecore__Main__Loop__Group.html#ga95cf8e97dff0716433c2c5474d606a98">ecore_main_loop_quit</a>();</div>
<div class="line">        ctxt-&gt;handler = NULL;</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#gae0c653baad8836232c0dc27f91f875d6">ECORE_CALLBACK_CANCEL</a>;</div>
<div class="line">     }</div>
<div class="ttc" id="agroup__Ecore__FD__Handler__Group_html_ga70d418717552a5258c7dfc1153250e7d"><div class="ttname"><a href="group__Ecore__FD__Handler__Group.html#ga70d418717552a5258c7dfc1153250e7d">ecore_main_fd_handler_fd_get</a></div><div class="ttdeci">int ecore_main_fd_handler_fd_get(Ecore_Fd_Handler *fd_handler)</div><div class="ttdoc">Retrieves the file descriptor that the given handler is handling.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1627</div></div>
</div><!-- fragment --><p> Now in the main code we are going to initialize the library, and setup callbacks for the file descriptor, the prepare callback, and the timer:</p>
<div class="fragment"><div class="line">   buf[nbytes - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"> </div>
<div class="line">   printf(<span class="stringliteral">&quot;Read %zd bytes from input: \&quot;%s\&quot;\n&quot;</span>, nbytes - 1, buf);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">_timer_cb(<span class="keywordtype">void</span> *data <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   printf(<span class="stringliteral">&quot;Timer expired after 5 seconds...\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> <a class="code" href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">struct </span>context ctxt = {0};</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!<a class="code" href="group__Ecore__Init__Group.html#ga77757609684a2c922dc5ec398274751b">ecore_init</a>())</div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: Cannot init Ecore!\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">   ctxt.handler = <a class="code" href="group__Ecore__FD__Handler__Group.html#ga832e68eb7f15912abeadef816bb5d2f5">ecore_main_fd_handler_add</a>(STDIN_FILENO,</div>
<div class="line">                                            <a class="code" href="group__Ecore__FD__Handler__Group.html#ggab5644f471dfa3bd182619601d9b60608a1699f804eccf88e7e169a4a20f1d44e7">ECORE_FD_READ</a> | <a class="code" href="group__Ecore__FD__Handler__Group.html#ggab5644f471dfa3bd182619601d9b60608a829d91235e3ca5eba61330c96a8074de">ECORE_FD_ERROR</a>,</div>
<div class="line">                                            _fd_handler_cb,</div>
<div class="line">                                            &amp;ctxt, NULL, NULL);</div>
<div class="line">   <a class="code" href="group__Ecore__FD__Handler__Group.html#ga072d1719e94e56639abcd385f7cbc692">ecore_main_fd_handler_prepare_callback_set</a>(ctxt.handler, _fd_prepare_cb, &amp;ctxt);</div>
<div class="line">   ctxt.timer = <a class="code" href="group__Ecore__Timer__Group.html#ga7b9cb9d24ecebfdbb957436e2e669402">ecore_timer_add</a>(5, _timer_cb, &amp;ctxt);</div>
<div class="ttc" id="agroup__Ecore__FD__Handler__Group_html_ga072d1719e94e56639abcd385f7cbc692"><div class="ttname"><a href="group__Ecore__FD__Handler__Group.html#ga072d1719e94e56639abcd385f7cbc692">ecore_main_fd_handler_prepare_callback_set</a></div><div class="ttdeci">void ecore_main_fd_handler_prepare_callback_set(Ecore_Fd_Handler *fd_handler, Ecore_Fd_Prep_Cb func, const void *data)</div><div class="ttdoc">Sets the prepare callback with data for a given Ecore_Fd_Handler.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1602</div></div>
<div class="ttc" id="agroup__Ecore__FD__Handler__Group_html_ga832e68eb7f15912abeadef816bb5d2f5"><div class="ttname"><a href="group__Ecore__FD__Handler__Group.html#ga832e68eb7f15912abeadef816bb5d2f5">ecore_main_fd_handler_add</a></div><div class="ttdeci">Ecore_Fd_Handler * ecore_main_fd_handler_add(int fd, Ecore_Fd_Handler_Flags flags, Ecore_Fd_Cb func, const void *data, Ecore_Fd_Cb buf_func, const void *buf_data)</div><div class="ttdoc">Adds a callback for activity on the given file descriptor.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1449</div></div>
<div class="ttc" id="agroup__Ecore__FD__Handler__Group_html_ggab5644f471dfa3bd182619601d9b60608a1699f804eccf88e7e169a4a20f1d44e7"><div class="ttname"><a href="group__Ecore__FD__Handler__Group.html#ggab5644f471dfa3bd182619601d9b60608a1699f804eccf88e7e169a4a20f1d44e7">ECORE_FD_READ</a></div><div class="ttdeci">@ ECORE_FD_READ</div><div class="ttdoc">Fd Read mask.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:1388</div></div>
<div class="ttc" id="agroup__Ecore__Init__Group_html_ga77757609684a2c922dc5ec398274751b"><div class="ttname"><a href="group__Ecore__Init__Group.html#ga77757609684a2c922dc5ec398274751b">ecore_init</a></div><div class="ttdeci">EAPI int ecore_init(void)</div><div class="ttdoc">Sets up connections, signal handlers, sockets etc.</div><div class="ttdef"><b>Definition:</b> ecore.c:230</div></div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_ga1ee9db07f9a46a8b20fb83e1c6dbed09"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#ga1ee9db07f9a46a8b20fb83e1c6dbed09">ECORE_CALLBACK_RENEW</a></div><div class="ttdeci">#define ECORE_CALLBACK_RENEW</div><div class="ttdoc">Return value to keep a callback.</div><div class="ttdef"><b>Definition:</b> Ecore_Common.h:153</div></div>
<div class="ttc" id="agroup__Ecore__Timer__Group_html_ga7b9cb9d24ecebfdbb957436e2e669402"><div class="ttname"><a href="group__Ecore__Timer__Group.html#ga7b9cb9d24ecebfdbb957436e2e669402">ecore_timer_add</a></div><div class="ttdeci">Ecore_Timer * ecore_timer_add(double in, Ecore_Task_Cb func, const void *data)</div><div class="ttdoc">Creates a timer to call the given function in the given period of time.</div><div class="ttdef"><b>Definition:</b> ecore_timer.c:189</div></div>
</div><!-- fragment --><p> Notice that the use of <a class="el" href="group__Ecore__FD__Handler__Group.html#ga832e68eb7f15912abeadef816bb5d2f5" title="Adds a callback for activity on the given file descriptor.">ecore_main_fd_handler_add()</a> specifies what kind of activity we are monitoring. In this case, we want to monitor for read (since it's the standard input) and for errors. This is done by the flags <a class="el" href="group__Ecore__FD__Handler__Group.html#ggab5644f471dfa3bd182619601d9b60608a1699f804eccf88e7e169a4a20f1d44e7">ECORE_FD_READ</a> and <a class="el" href="group__Ecore__FD__Handler__Group.html#ggab5644f471dfa3bd182619601d9b60608a829d91235e3ca5eba61330c96a8074de">ECORE_FD_ERROR</a>. For the three callbacks we are also giving a pointer to our context structure, which has pointers to the handlers added.</p>
<p>Then we can start the main loop and see everything happening:</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   printf(<span class="stringliteral">&quot;Starting the main loop. Type anything and hit &lt;enter&gt; to &quot;</span></div>
<div class="line">          <span class="stringliteral">&quot;activate the fd_handler callback, or CTRL+d to shutdown.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (ctxt.handler)</div>
<div class="line">     <a class="code" href="group__Ecore__FD__Handler__Group.html#gaf92ef3a4a006a02e67b9806276f7312c">ecore_main_fd_handler_del</a>(ctxt.handler);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (ctxt.timer)</div>
<div class="line">     <a class="code" href="group__Ecore__Timer__Group.html#gaba2b599c7aabe3ab664dc3d47f62a33a">ecore_timer_del</a>(ctxt.timer);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Ecore__Init__Group.html#ga768298b932f18d7e7593a447493e5cde">ecore_shutdown</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Ecore__FD__Handler__Group_html_gaf92ef3a4a006a02e67b9806276f7312c"><div class="ttname"><a href="group__Ecore__FD__Handler__Group.html#gaf92ef3a4a006a02e67b9806276f7312c">ecore_main_fd_handler_del</a></div><div class="ttdeci">void * ecore_main_fd_handler_del(Ecore_Fd_Handler *fd_handler)</div><div class="ttdoc">Marks an FD handler for deletion.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1480</div></div>
<div class="ttc" id="agroup__Ecore__Init__Group_html_ga768298b932f18d7e7593a447493e5cde"><div class="ttname"><a href="group__Ecore__Init__Group.html#ga768298b932f18d7e7593a447493e5cde">ecore_shutdown</a></div><div class="ttdeci">EAPI int ecore_shutdown(void)</div><div class="ttdoc">Shuts down connections, signal handlers sockets etc.</div><div class="ttdef"><b>Definition:</b> ecore.c:371</div></div>
<div class="ttc" id="agroup__Ecore__Main__Loop__Group_html_gaf103b9f668bb3e4fed12e52c6180132d"><div class="ttname"><a href="group__Ecore__Main__Loop__Group.html#gaf103b9f668bb3e4fed12e52c6180132d">ecore_main_loop_begin</a></div><div class="ttdeci">void ecore_main_loop_begin(void)</div><div class="ttdoc">Runs the application main loop.</div><div class="ttdef"><b>Definition:</b> ecore_main.c:1311</div></div>
<div class="ttc" id="agroup__Ecore__Timer__Group_html_gaba2b599c7aabe3ab664dc3d47f62a33a"><div class="ttname"><a href="group__Ecore__Timer__Group.html#gaba2b599c7aabe3ab664dc3d47f62a33a">ecore_timer_del</a></div><div class="ttdeci">void * ecore_timer_del(Ecore_Timer *timer)</div><div class="ttdoc">Deletes the specified timer from the timer list.</div><div class="ttdef"><b>Definition:</b> ecore_timer.c:238</div></div>
</div><!-- fragment --><p> In the end we are just deleting the fd handler and the timer to demonstrate the API usage, since Ecore would already do it for us on its shutdown. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:35</span>
  </p>
</div>
</body>
</html>
