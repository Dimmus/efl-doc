<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Binary Share</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Binary Share<div class="ingroups"><a class="el" href="group__Eina.html">Eina</a> &raquo; <a class="el" href="group__Eina__Data__Types__Group.html">Data Types</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This group discusses the functions that allow you to store one copy of an object, and use it throughout your program.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga1472e150f4fbaa3f05e5c583b1698b40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#ga1472e150f4fbaa3f05e5c583b1698b40">eina_binshare_add</a>(ptr)&#160;&#160;&#160;<a class="el" href="group__Eina__Binshare__Group.html#ga6be5ac45e16a93ff1a1aaa767db143c9">eina_binshare_add_length</a>(ptr, sizeof(*ptr))</td></tr>
<tr class="memdesc:ga1472e150f4fbaa3f05e5c583b1698b40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves an instance of a blob for use in a program.  <a href="group__Eina__Binshare__Group.html#ga1472e150f4fbaa3f05e5c583b1698b40">More...</a><br /></td></tr>
<tr class="separator:ga1472e150f4fbaa3f05e5c583b1698b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6be5ac45e16a93ff1a1aaa767db143c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#ga6be5ac45e16a93ff1a1aaa767db143c9">eina_binshare_add_length</a> (const void *obj, unsigned int olen)</td></tr>
<tr class="memdesc:ga6be5ac45e16a93ff1a1aaa767db143c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves an instance of an object for use in a program.  <a href="group__Eina__Binshare__Group.html#ga6be5ac45e16a93ff1a1aaa767db143c9">More...</a><br /></td></tr>
<tr class="separator:ga6be5ac45e16a93ff1a1aaa767db143c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1308ac15696cfd20475000406f49c8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#gaf1308ac15696cfd20475000406f49c8e">eina_binshare_ref</a> (const void *obj)</td></tr>
<tr class="memdesc:gaf1308ac15696cfd20475000406f49c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments references of the given shared object.  <a href="group__Eina__Binshare__Group.html#gaf1308ac15696cfd20475000406f49c8e">More...</a><br /></td></tr>
<tr class="separator:gaf1308ac15696cfd20475000406f49c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe2c4df515e2baa7c85c491bbf063d3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#gabe2c4df515e2baa7c85c491bbf063d3b">eina_binshare_del</a> (const void *obj)</td></tr>
<tr class="memdesc:gabe2c4df515e2baa7c85c491bbf063d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notes that the given object has lost an instance.  <a href="group__Eina__Binshare__Group.html#gabe2c4df515e2baa7c85c491bbf063d3b">More...</a><br /></td></tr>
<tr class="separator:gabe2c4df515e2baa7c85c491bbf063d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5555c4edf5d37bc54171b35a846c24f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#gae5555c4edf5d37bc54171b35a846c24f">eina_binshare_length</a> (const void *obj)</td></tr>
<tr class="memdesc:gae5555c4edf5d37bc54171b35a846c24f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notes that the given object <b>must</b> be shared.  <a href="group__Eina__Binshare__Group.html#gae5555c4edf5d37bc54171b35a846c24f">More...</a><br /></td></tr>
<tr class="separator:gae5555c4edf5d37bc54171b35a846c24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7573c320f719401eac10a189accf585e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#ga7573c320f719401eac10a189accf585e">eina_binshare_dump</a> (void)</td></tr>
<tr class="memdesc:ga7573c320f719401eac10a189accf585e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps the contents of share_common.  <a href="group__Eina__Binshare__Group.html#ga7573c320f719401eac10a189accf585e">More...</a><br /></td></tr>
<tr class="separator:ga7573c320f719401eac10a189accf585e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This group discusses the functions that allow you to store one copy of an object, and use it throughout your program. </p>
<p>This is a method to reduce the number of duplicated objects kept in the memory.</p>
<p>For more information, you can look at the <a class="el" href="tutorial_binshare_page.html">Binary Share Tutorial</a>. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga1472e150f4fbaa3f05e5c583b1698b40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1472e150f4fbaa3f05e5c583b1698b40">&#9670;&nbsp;</a></span>eina_binshare_add</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define eina_binshare_add</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__Eina__Binshare__Group.html#ga6be5ac45e16a93ff1a1aaa767db143c9">eina_binshare_add_length</a>(ptr, sizeof(*ptr))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves an instance of a blob for use in a program. </p>
<p>This macro retrieves an instance of <code>obj</code>. If <code>obj</code> is <code>NULL</code>, then <code>NULL</code> is returned. If <code>obj</code> is already stored, it is just returned and its reference counter is increased. Otherwise it is added to the blobs to be searched and a duplicated blob of <code>obj</code> is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>The binary blob to retrieve an instance of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an instance of the string on success, otherwise <code>NULL</code> on failure</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This macro essentially calls eina_binshare_add_length with ptr and sizeof(*ptr) as the parameters. It's useful for pointers to structures.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Stringshare__Group.html#ga3baa7be13491ed6c76e535b120bf8783" title="Retrieves an instance of a string with a specific size for use in a program.">eina_stringshare_add_length()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6be5ac45e16a93ff1a1aaa767db143c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6be5ac45e16a93ff1a1aaa767db143c9">&#9670;&nbsp;</a></span>eina_binshare_add_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> const void* eina_binshare_add_length </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>olen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves an instance of an object for use in a program. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The binary object to retrieve an instance of </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">olen</td><td>The byte size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an instance of the object on success, otherwise <code>NULL</code> on failure</dd></dl>
<p>This function retrieves an instance of <code>obj</code>. If <code>obj</code> is <code>NULL</code>, then <code>NULL</code> is returned. If <code>obj</code> is already stored, it is just returned and its reference counter is increased. Otherwise it is added to the objects to be searched and a duplicated object of <code>obj</code> is returned.</p>
<dl class="section note"><dt>Note</dt><dd>This function does not check the object size, but uses the exact given size. This can be used to share a part of a larger object or subobject.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Binshare__Group.html#ga1472e150f4fbaa3f05e5c583b1698b40" title="Retrieves an instance of a blob for use in a program.">eina_binshare_add()</a> </dd></dl>

</div>
</div>
<a id="gaf1308ac15696cfd20475000406f49c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1308ac15696cfd20475000406f49c8e">&#9670;&nbsp;</a></span>eina_binshare_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> const void* eina_binshare_ref </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments references of the given shared object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The shared object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an instance of the object on success, otherwise <code>NULL</code> on failure</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is similar to eina_share_common_add(), but it's faster since it avoids lookups if possible, but on the down side it requires the parameter to be shared before, in other words, it must be the return of a previous <a class="el" href="group__Eina__Binshare__Group.html#ga1472e150f4fbaa3f05e5c583b1698b40" title="Retrieves an instance of a blob for use in a program.">eina_binshare_add()</a>.</dd>
<dd>
There is no unref since this is the work of <a class="el" href="group__Eina__Binshare__Group.html#gabe2c4df515e2baa7c85c491bbf063d3b" title="Notes that the given object has lost an instance.">eina_binshare_del()</a>. </dd></dl>

</div>
</div>
<a id="gabe2c4df515e2baa7c85c491bbf063d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe2c4df515e2baa7c85c491bbf063d3b">&#9670;&nbsp;</a></span>eina_binshare_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_binshare_del </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notes that the given object has lost an instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The given object</td></tr>
  </table>
  </dd>
</dl>
<p>This function decreases the reference counter associated to <code>obj</code> if it exists. If that counter reaches <code>0</code>, the memory associated to <code>obj</code> is freed. If <code>obj</code> is <code>NULL</code>, the function returns immediately.</p>
<dl class="section warning"><dt>Warning</dt><dd>If the given pointer is not shared, bad things happen, mostly a segmentation fault. </dd></dl>

</div>
</div>
<a id="gae5555c4edf5d37bc54171b35a846c24f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5555c4edf5d37bc54171b35a846c24f">&#9670;&nbsp;</a></span>eina_binshare_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> int eina_binshare_length </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notes that the given object <b>must</b> be shared. </p>
<p>This function is a cheap way to know the length of a shared object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The shared object to know the length <br  />
 It is safe to give <code>NULL</code>, in which case <code>-1</code> is returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the shared object</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If the given pointer is not shared, bad things happen, mostly a segmentation fault. If in doubt, try strlen(). </dd></dl>

</div>
</div>
<a id="ga7573c320f719401eac10a189accf585e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7573c320f719401eac10a189accf585e">&#9670;&nbsp;</a></span>eina_binshare_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Eina__Types__Group.html#ga6ac08753ba12bc9c7a0390cf67868f4f">EINA_API</a> void eina_binshare_dump </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps the contents of share_common. </p>
<p>This function dumps all the objects from share_common to stdout with a DDD: prefix per line and a memory usage summary. </p>

</div>
</div>
</div><!-- contents -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:52</span>
  </p>
</div>
</body>
</html>
