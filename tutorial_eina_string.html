<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Eina String example</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Eina String example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p></p>
<p>Whenever using eina we need to include it: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Eina_8h.html">Eina.h</a>&gt;</span></div>
<div class="ttc" id="aEina_8h_html"><div class="ttname"><a href="Eina_8h.html">Eina.h</a></div><div class="ttdoc">Eina Utility library.</div></div>
</div><!-- fragment --><p> In our main function we declare (and initialize) some variables and initialize eina: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>, <span class="keywordtype">char</span> **argv <a class="code" href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">char</span> *names = <span class="stringliteral">&quot;Calvin;Leoben;D&#39;anna;Simon;Doral;Six;Daniel;Sharon&quot;</span>;</div>
<div class="line">   <span class="keywordtype">char</span> *str;</div>
<div class="line">   <span class="keywordtype">char</span> *tmp;</div>
<div class="line">   <span class="keywordtype">char</span> *prologue;</div>
<div class="line">   <span class="keywordtype">char</span> *part1 = <span class="stringliteral">&quot;The Cylons were created by man. They evolved. They rebelled.&quot;</span>;</div>
<div class="line">   <span class="keywordtype">char</span> *part2 = <span class="stringliteral">&quot;There are many copies. And they have a plan.&quot;</span>;</div>
<div class="line">   <span class="keywordtype">char</span> **arr;</div>
<div class="line">   <span class="keywordtype">int</span> i;</div>
<div class="line">   <span class="keywordtype">char</span> *time_arr;</div>
<div class="line">   time_t curr_time;</div>
<div class="line">   <span class="keyword">struct </span>tm *info;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__Main__Group.html#ga81b8137665b8a4d2cb38ca50017d4c74">eina_init</a>();</div>
<div class="ttc" id="agroup__Eina__Main__Group_html_ga81b8137665b8a4d2cb38ca50017d4c74"><div class="ttname"><a href="group__Eina__Main__Group.html#ga81b8137665b8a4d2cb38ca50017d4c74">eina_init</a></div><div class="ttdeci">EINA_API int eina_init(void)</div><div class="ttdoc">Initializes the Eina library.</div><div class="ttdef"><b>Definition:</b> eina_main.c:291</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga82d751be730f849719ca292f9558be87"><div class="ttname"><a href="group__Eina__Types__Group.html#ga82d751be730f849719ca292f9558be87">EINA_UNUSED</a></div><div class="ttdeci">#define EINA_UNUSED</div><div class="ttdoc">Used to indicate that a function parameter is purposely unused.</div><div class="ttdef"><b>Definition:</b> eina_types.h:339</div></div>
</div><!-- fragment --><p> It's frequently necessary to split a string into its constituent parts, <a class="el" href="group__Eina__String__Group.html#ga1d5480cd4ca2bcff76b7de9d48de19ec" title="Splits a string using a delimiter.">eina_str_split()</a> make's it easy to do so: </p><div class="fragment"><div class="line"> </div>
<div class="line">   arr = <a class="code" href="group__Eina__String__Group.html#ga1d5480cd4ca2bcff76b7de9d48de19ec">eina_str_split</a>(names, <span class="stringliteral">&quot;;&quot;</span>, 0);</div>
<div class="line">   <span class="keywordflow">for</span> (i = 0; arr[i]; i++)</div>
<div class="line">     printf(<span class="stringliteral">&quot;%s\n&quot;</span>, arr[i]);</div>
<div class="ttc" id="agroup__Eina__String__Group_html_ga1d5480cd4ca2bcff76b7de9d48de19ec"><div class="ttname"><a href="group__Eina__String__Group.html#ga1d5480cd4ca2bcff76b7de9d48de19ec">eina_str_split</a></div><div class="ttdeci">EINA_API char ** eina_str_split(const char *str, const char *delim, int max_tokens)</div><div class="ttdoc">Splits a string using a delimiter.</div><div class="ttdef"><b>Definition:</b> eina_str.c:452</div></div>
</div><!-- fragment --><p> Another common need is to make a string uppercase or lowercase, so let's create a string and make it uppercase and then make it lowercase again: </p><div class="fragment"><div class="line"> </div>
<div class="line">   free(arr[0]);</div>
<div class="line">   free(arr);</div>
<div class="line"> </div>
<div class="line">   str = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * 4);</div>
<div class="line">   strcpy(str, <span class="stringliteral">&quot;bsd&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Group.html#ga84a7c436eebb877663f8afb60508bce7">eina_str_toupper</a>((<span class="keywordtype">char</span> **)&amp;str);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, str);</div>
<div class="ttc" id="agroup__Eina__String__Group_html_ga84a7c436eebb877663f8afb60508bce7"><div class="ttname"><a href="group__Eina__String__Group.html#ga84a7c436eebb877663f8afb60508bce7">eina_str_toupper</a></div><div class="ttdeci">EINA_API void eina_str_toupper(char **str)</div><div class="ttdoc">Uppercases all the characters in range [a-z] in the given string.</div><div class="ttdef"><b>Definition:</b> eina_str.c:709</div></div>
<div class="line">   <a class="code" href="group__Eina__String__Group.html#ga3ab5d0649bbe26eef4dfec9956afd355">eina_str_tolower</a>(&amp;str);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, str);</div>
<div class="ttc" id="agroup__Eina__String__Group_html_ga3ab5d0649bbe26eef4dfec9956afd355"><div class="ttname"><a href="group__Eina__String__Group.html#ga3ab5d0649bbe26eef4dfec9956afd355">eina_str_tolower</a></div><div class="ttdeci">EINA_API void eina_str_tolower(char **str)</div><div class="ttdoc">Lowercases all the characters in range [A-Z] in the given string.</div><div class="ttdef"><b>Definition:</b> eina_str.c:698</div></div>
</div><!-- fragment --><p> Next we use eina to check if our <code>names</code> string starts or ends with some values: </p><div class="fragment"><div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__Eina__String__Group.html#gae94028d670f7da2a68d352908b463af3">eina_str_has_prefix</a>(names, <span class="stringliteral">&quot;Calvin&quot;</span>))</div>
<div class="line">      printf(<span class="stringliteral">&quot;Starts with &#39;Calvin&#39;\n&quot;</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__Eina__String__Group.html#ga99f1cef36865219a23d170c8ee0e3dc9">eina_str_has_suffix</a>(names, <span class="stringliteral">&quot;sharon&quot;</span>))</div>
<div class="line">      printf(<span class="stringliteral">&quot;Ends with &#39;sharon&#39;\n&quot;</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__Eina__String__Group.html#ga8e811ae036188cc6c5549e5fe09ca1bc">eina_str_has_extension</a>(names, <span class="stringliteral">&quot;sharon&quot;</span>))</div>
<div class="line">      printf(<span class="stringliteral">&quot;Has extension &#39;sharon&#39;\n&quot;</span>);</div>
<div class="ttc" id="agroup__Eina__String__Group_html_ga8e811ae036188cc6c5549e5fe09ca1bc"><div class="ttname"><a href="group__Eina__String__Group.html#ga8e811ae036188cc6c5549e5fe09ca1bc">eina_str_has_extension</a></div><div class="ttdeci">EINA_API Eina_Bool eina_str_has_extension(const char *str, const char *ext)</div><div class="ttdoc">Checks if the given string has the given extension.</div><div class="ttdef"><b>Definition:</b> eina_str.c:436</div></div>
<div class="ttc" id="agroup__Eina__String__Group_html_ga99f1cef36865219a23d170c8ee0e3dc9"><div class="ttname"><a href="group__Eina__String__Group.html#ga99f1cef36865219a23d170c8ee0e3dc9">eina_str_has_suffix</a></div><div class="ttdeci">EINA_API Eina_Bool eina_str_has_suffix(const char *str, const char *suffix)</div><div class="ttdoc">Checks if the given string has the given suffix.</div><div class="ttdef"><b>Definition:</b> eina_str.c:430</div></div>
<div class="ttc" id="agroup__Eina__String__Group_html_gae94028d670f7da2a68d352908b463af3"><div class="ttname"><a href="group__Eina__String__Group.html#gae94028d670f7da2a68d352908b463af3">eina_str_has_prefix</a></div><div class="ttdeci">EINA_API Eina_Bool eina_str_has_prefix(const char *str, const char *prefix)</div><div class="ttdoc">Checks if the given string has the given prefix.</div><div class="ttdef"><b>Definition:</b> eina_str.c:416</div></div>
</div><!-- fragment --><p> When strings will be used in a terminal (or a number of other places) it necessary to escape certain characters that appear in them: </p><div class="fragment"><div class="line"> </div>
<div class="line">   tmp = <a class="code" href="group__Eina__String__Group.html#ga2e304f3ade1cc3c95a1faf4fd6c6fef4">eina_str_escape</a>(<span class="stringliteral">&quot;They&#39;ll start going ripe on us pretty soon.&quot;</span>);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, tmp);</div>
<div class="ttc" id="agroup__Eina__String__Group_html_ga2e304f3ade1cc3c95a1faf4fd6c6fef4"><div class="ttname"><a href="group__Eina__String__Group.html#ga2e304f3ade1cc3c95a1faf4fd6c6fef4">eina_str_escape</a></div><div class="ttdeci">EINA_API char * eina_str_escape(const char *str)</div><div class="ttdoc">Escapes slashes, spaces and apostrophes in strings.</div><div class="ttdef"><b>Definition:</b> eina_str.c:648</div></div>
</div><!-- fragment --><p> Much as we previously split a string we will now join two strings: </p><div class="fragment"><div class="line">   free(tmp);</div>
<div class="line"> </div>
<div class="line">   prologue = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * 106);</div>
<div class="line">   <a class="code" href="group__Eina__String__Group.html#gae36d8226b2c2e320f64d8a946f960c7b">eina_str_join_len</a>(prologue, 106, <span class="charliteral">&#39; &#39;</span>, part1, strlen(part1), part2, strlen(part2));</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, prologue);</div>
<div class="ttc" id="agroup__Eina__String__Group_html_gae36d8226b2c2e320f64d8a946f960c7b"><div class="ttname"><a href="group__Eina__String__Group.html#gae36d8226b2c2e320f64d8a946f960c7b">eina_str_join_len</a></div><div class="ttdeci">EINA_API size_t eina_str_join_len(char *dst, size_t size, char sep, const char *a, size_t a_len, const char *b, size_t b_len)</div><div class="ttdoc">Joins two strings of known length.</div><div class="ttdef"><b>Definition:</b> eina_str.c:458</div></div>
</div><!-- fragment --><p> With strlcpy() we can copy what portion of the <code>prologue</code> fits in <code>str</code> and be sure that it's still NULL terminated: </p><div class="fragment"><div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Group.html#gae28caa0c42c4e76ae584f22bd3615723">eina_strlcpy</a>(str, prologue, 4);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, str);</div>
<div class="ttc" id="agroup__Eina__String__Group_html_gae28caa0c42c4e76ae584f22bd3615723"><div class="ttname"><a href="group__Eina__String__Group.html#gae28caa0c42c4e76ae584f22bd3615723">eina_strlcpy</a></div><div class="ttdeci">EINA_API size_t eina_strlcpy(char *dst, const char *src, size_t siz)</div><div class="ttdoc">Copies a c-string to another.</div><div class="ttdef"><b>Definition:</b> eina_str.c:317</div></div>
</div><!-- fragment --><p> Since we are done with <code>prologue</code> and <code>str</code> we should free them: </p><div class="fragment"><div class="line"> </div>
<div class="line">   free(prologue);</div>
<div class="line">   free(str);</div>
</div><!-- fragment --><p> Finally we see strlcat in action: </p><div class="fragment"><div class="line"> </div>
<div class="line">   str = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * 14);</div>
<div class="line">   sprintf(str, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;cylons+&quot;</span>);</div>
<div class="line">   <a class="code" href="group__Eina__String__Group.html#ga9d340cfcfd1259f3ef76d314a974b0e0">eina_strlcat</a>(str, <span class="stringliteral">&quot;humans&quot;</span>, 14);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, str);</div>
<div class="ttc" id="agroup__Eina__String__Group_html_ga9d340cfcfd1259f3ef76d314a974b0e0"><div class="ttname"><a href="group__Eina__String__Group.html#ga9d340cfcfd1259f3ef76d314a974b0e0">eina_strlcat</a></div><div class="ttdeci">EINA_API size_t eina_strlcat(char *dst, const char *src, size_t siz)</div><div class="ttdoc">Appends a c-string.</div><div class="ttdef"><b>Definition:</b> eina_str.c:349</div></div>
</div><!-- fragment --><p> And then shut eina down and exit: </p><div class="fragment"><div class="line">   free(str);</div>
<div class="line"> </div>
<div class="line">   curr_time = time(NULL);</div>
<div class="line">   info = localtime(&amp;curr_time);</div>
<div class="line">   time_arr = <a class="code" href="group__Eina__String__Group.html#ga2b14e921686b58a45ae8aa5fcb63d28c">eina_strftime</a>(<span class="stringliteral">&quot;%d/%m/%Y&quot;</span>, info);</div>
<div class="line">   printf(<span class="stringliteral">&quot;Today&#39;s Date: %s\n&quot;</span>, time_arr);</div>
<div class="line">   free(time_arr);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__Main__Group.html#ga5bf35513199d5220341437c05696285d">eina_shutdown</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Main__Group_html_ga5bf35513199d5220341437c05696285d"><div class="ttname"><a href="group__Eina__Main__Group.html#ga5bf35513199d5220341437c05696285d">eina_shutdown</a></div><div class="ttdeci">EINA_API int eina_shutdown(void)</div><div class="ttdoc">Shuts down the Eina library.</div><div class="ttdef"><b>Definition:</b> eina_main.c:379</div></div>
<div class="ttc" id="agroup__Eina__String__Group_html_ga2b14e921686b58a45ae8aa5fcb63d28c"><div class="ttname"><a href="group__Eina__String__Group.html#ga2b14e921686b58a45ae8aa5fcb63d28c">eina_strftime</a></div><div class="ttdeci">EINA_API char * eina_strftime(const char *format, const struct tm *tm)</div><div class="ttdoc">Creates and update the buffer based on strftime output.</div><div class="ttdef"><b>Definition:</b> eina_str.c:383</div></div>
</div><!-- fragment --></div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:33</span>
  </p>
</div>
</body>
</html>
