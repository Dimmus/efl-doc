<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Brief Introduction to Small</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Brief Introduction to Small </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section describes the basics of Small, as compiled and interpreted with Embryo.</p>
<p>This summary assumes that you are familar with C. For a full list of differences between C and Small, again, see the full documentation.</p>
<h1><a class="anchor" id="Small_Variables_Section"></a>
Variables</h1>
<h2><a class="anchor" id="Small_Type_Subsection"></a>
Types</h2>
<p>There is only one type, known as the "cell", which can hold an integer.</p>
<h2><a class="anchor" id="Small_Scope_Subsection"></a>
Scope</h2>
<p>The scope and usage of a variable depends on its declaration.</p>
<ul>
<li>A local variable is normally declared with the <code>new</code> keyword. E.g. <div class="fragment"><div class="line"><span class="keyword">new</span> variable </div>
</div><!-- fragment --> </li>
<li>A static function variable is defined within a function with the <code>static</code> keyword. </li>
<li>A global static variable is one that is only available within the file it was declared in. Again, use the <code>static</code> keyword, but outside of any function. </li>
<li>A stock variable is one that may not be compiled into a program if it is not used. It is declared using <code>stock</code>. </li>
<li>A public variable is one that can be read by the host program using <a class="el" href="group__Embryo__Public__Variable__Group.html#ga9714d1cbd46b3b0315a71c23413ad921">embryo_program_variable_find</a>. It is declared using <code>public</code> keyword.</li>
</ul>
<p>Remember that the keywords above are to be used on their own. That is, for example:</p><div class="fragment"><div class="line"><span class="keyword">public</span> testvar </div>
</div><!-- fragment --><p> not: </p><div class="fragment"><div class="line"><span class="keyword">new</span> <span class="keyword">public</span> testvar </div>
</div><!-- fragment --><h2><a class="anchor" id="Small_Constants_Subsection"></a>
Constants</h2>
<p>You can declare constants in two ways: </p><ul>
<li>Using the preprocessor macro <code>#define</code>. </li>
<li>By inserting <code>const</code> between the keyword and variable name of a variable declaration. For example, to declare the variable <code>var1</code> constant, you type<div class="fragment"><div class="line"><span class="keyword">new</span> <span class="keyword">const</span> var1 = 2 </div>
</div><!-- fragment --> Now <code>var1</code> cannot be changed.</li>
</ul>
<h2><a class="anchor" id="Small_Arrays_Subsection"></a>
Arrays</h2>
<p>To declare an array, append square brackets to the end of the variable name. The following examples show how to declare arrays. Note the use of the ellipsis operator, which bases the array based on the last two declared values:</p>
<div class="fragment"><div class="line"><span class="keyword">new</span> msg[] = <span class="stringliteral">&quot;A message.&quot;</span></div>
<div class="line"><span class="keyword">new</span> ints[] = {1, 3, 4}</div>
<div class="line"><span class="keyword">new</span> ints2[20] = {1, 3}         <span class="comment">// All other elements 0.</span></div>
<div class="line"><span class="keyword">new</span> ints3[10] = {1, ... }      <span class="comment">// All elements = 1</span></div>
<div class="line"><span class="keyword">new</span> ints4[10] = {10, 20, ... } <span class="comment">// Elements = 10 -&gt; 100.</span></div>
<div class="line">                               <span class="comment">// The difference can be negative.</span></div>
<div class="line"><span class="keyword">new</span> ints5[3][3] = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Array initialisers need to be constant.</dd></dl>
<h1><a class="anchor" id="Small_Func_Calls_Section"></a>
Function Calls</h1>
<p>A typical function declaration is as follows:</p>
<div class="fragment"><div class="line">testfunc(param) {</div>
<div class="line">  <span class="comment">// Do something ...</span></div>
<div class="line">  <span class="comment">// over a couple of lines.</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>You can pass by reference. That is, the parameter you pass is changed outside of the function. For example:</p>
<div class="fragment"><div class="line">testfunc(&amp;param) {</div>
<div class="line">  param = 10</div>
<div class="line">  <span class="comment">// The passed variable will be set to 10 outside of the function.</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>To pass an array:</p>
<div class="fragment"><div class="line">testfunc(param[]) {</div>
<div class="line">  <span class="comment">// Do something to the array</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Arrays are passed by reference.</dd></dl>
<h1><a class="anchor" id="Small_Control_Subsection"></a>
Control Structures.</h1>
<p>Small has the following control structures, which similar to their C counterparts: </p><ul>
<li><div class="fragment"><div class="line"><span class="keywordflow">if</span> (expression) statement1 <span class="keywordflow">else</span> statement2 </div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"> <span class="keywordflow">switch</span> (expression) {</div>
<div class="line">  <span class="keywordflow">case</span> 0:</div>
<div class="line">    statement1 <span class="comment">// Can only be one statement.  Look Ma, no breaks!</span></div>
<div class="line">  <span class="keywordflow">case</span> 1..3:   <span class="comment">// For values between 1 and 3 inclusive.</span></div>
<div class="line">    statement2</div>
<div class="line">  <span class="keywordflow">default</span>:     <span class="comment">// Optional</span></div>
<div class="line">    statement3</div>
<div class="line">}</div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"><span class="keywordflow">while</span>(expression) statement </div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"><span class="keywordflow">do</span> statement <span class="keywordflow">while</span> (expression) </div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"><span class="keywordflow">for</span> (init_expression; before_iter_test_expression; after_iter_expression) statement </div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="Small_Preprocessor_Section"></a>
Preprocessor</h1>
<p>The following preprocessor directives are available: </p><ul>
<li><div class="fragment"><div class="line"><span class="preprocessor">#assert constant_expression </span></div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"><span class="preprocessor">#define pattern replacement </span></div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"><span class="preprocessor">#define pattern(%1,%2,...) replacement </span></div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"><span class="preprocessor">#include filename </span></div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"><span class="preprocessor"> #if constant_expression</span></div>
<div class="line">  <span class="comment">// Various bits of code</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">  <span class="comment">// Other bits of code</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --> </li>
<li><div class="fragment"><div class="line"><span class="preprocessor">#undef pattern </span></div>
</div><!-- fragment --> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:33</span>
  </p>
</div>
</body>
</html>
