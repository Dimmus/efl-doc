<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Box - Basic API</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110876574-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110876574-1');
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <link rel="icon" href="favicon.png" type="image/ico">
  <link rel="shortcut icon" href="favicon.png" type="image/ico">
  <link rel="stylesheet" type="text/css" href="e.css">
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Box - Basic API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p></p>
<p>As a special guest tonight, we have the <a class="el" href="button_example_01.html">simple</a>button example". There are plenty of boxes in it, and to make the cursor buttons that moved a central one around when pressed, we had to use a variety of values for their hints.</p>
<p>To start, let's take a look at the handling of the central button when we were moving it around. To achieve this effect without falling back to a complete manual positioning of the <code>Evas_Object</code> in our canvas, we just put it in a box and played with its alignment within it, as seen in the following snippet of the callback for the pressed buttons. </p><div class="fragment"><div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga3d6463fffbcf8ce0307c3c28eebde1f3">evas_object_size_hint_align_get</a>(app-&gt;mid, &amp;ax, &amp;ay);</div>
<div class="line">   <span class="keywordflow">if</span> (btn == app-&gt;cursors.up)</div>
<div class="line">     {</div>
<div class="line">        ay -= 0.05;</div>
<div class="line">        <span class="keywordflow">if</span> (ay &lt; 0.0)</div>
<div class="line">          ay = 0.0;</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (btn == app-&gt;cursors.down)</div>
<div class="line">     {</div>
<div class="line">        ay += 0.05;</div>
<div class="line">        <span class="keywordflow">if</span> (ay &gt; 1.0)</div>
<div class="line">          ay = 1.0;</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (btn == app-&gt;cursors.left)</div>
<div class="line">     {</div>
<div class="line">        ax -= 0.05;</div>
<div class="line">        <span class="keywordflow">if</span> (ax &lt; 0.0)</div>
<div class="line">          ax = 0.0;</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (btn == app-&gt;cursors.right)</div>
<div class="line">     {</div>
<div class="line">        ax += 0.05;</div>
<div class="line">        <span class="keywordflow">if</span> (ax &gt; 1.0)</div>
<div class="line">          ax = 1.0;</div>
<div class="line">     }</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(app-&gt;mid, ax, ay);</div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga3d6463fffbcf8ce0307c3c28eebde1f3"><div class="ttname"><a href="group__Evas__Object__Group.html#ga3d6463fffbcf8ce0307c3c28eebde1f3">evas_object_size_hint_align_get</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_align_get(const Evas_Object *obj, double *x, double *y)</div><div class="ttdoc">Retrieves the hints for on object's alignment.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2656</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_gaaf1d3e26e36b316977336066b6f56632"><div class="ttname"><a href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_align_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's alignment.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2650</div></div>
</div><!-- fragment --><p> Not much to it. We get the current alignment of the object and change it by just a little, depending on which button was pressed, then set it again, making sure we stay within the 0.0-1.0 range so the button moves inside the space it has, instead of disappearing under the other objects.</p>
<p>But as useful as an example as that may have been, the usual case with boxes is to set everything at the moment they are created, like we did for everything else in our main function.</p>
<p>The entire layout of our program is made with boxes. We have one set as the resize object for the window, which means it will always be resized with the window. The weight hints set to <code>EVAS_HINT_EXPAND</code> will tell the window that the box can grow past it's minimum size, which allows resizing of it. </p><div class="fragment"><div class="line">   box = <a class="code" href="group__Elm__Box__Group.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(box, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a>(win, box);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(box);</div>
<div class="ttc" id="aEvas__Common_8h_html_aa47c85083d3dae0111c21ec49359306a"><div class="ttname"><a href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a></div><div class="ttdeci">#define EVAS_HINT_EXPAND</div><div class="ttdoc">Use with evas_object_size_hint_weight_set(), evas_object_size_hint_weight_get(), evas_object_size_hin...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:297</div></div>
<div class="ttc" id="agroup__Elm__Box__Group_html_ga3d0998b60ada633bacfa8869a921cfd7"><div class="ttname"><a href="group__Elm__Box__Group.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a></div><div class="ttdeci">Evas_Object * elm_box_add(Evas_Object *parent)</div><div class="ttdoc">Add a new box to the parent.</div><div class="ttdef"><b>Definition:</b> elm_box.c:363</div></div>
<div class="ttc" id="agroup__Elm__Win__Group_html_ga505d6bd217e5ee01e82b548ec35986eb"><div class="ttname"><a href="group__Elm__Win__Group.html#ga505d6bd217e5ee01e82b548ec35986eb">elm_win_resize_object_add</a></div><div class="ttdeci">void elm_win_resize_object_add(Eo *obj, Evas_Object *subobj)</div><div class="ttdoc">Add subobj as a resize object of window obj.</div><div class="ttdef"><b>Definition:</b> efl_ui_win.c:8997</div></div>
<div class="ttc" id="agroup__Evas__Object__Group__Basic_html_ga07208fcafd4739de606bc35fff684bf5"><div class="ttname"><a href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a></div><div class="ttdeci">EVAS_API void evas_object_show(Evas_Object *eo_obj)</div><div class="ttdoc">Makes the given Evas object visible.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:1814</div></div>
<div class="ttc" id="agroup__Evas__Object__Group_html_ga9379629ad8ad2860aa786d838a4a106a"><div class="ttname"><a href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a></div><div class="ttdeci">EVAS_API void evas_object_size_hint_weight_set(Evas_Object *obj, double x, double y)</div><div class="ttdoc">Sets the hints for an object's weight.</div><div class="ttdef"><b>Definition:</b> evas_object_main.c:2638</div></div>
</div><!-- fragment --><p> Two more boxes, set to horizontal, hold the buttons to change the autorepeat configuration used by the buttons. We create each to take over all the available space horizontally, but we don't want them to grow vertically, so we keep that axis of the weight with 0.0. Then it gets packed in the main box. </p><div class="fragment"><div class="line">   box2 = <a class="code" href="group__Elm__Box__Group.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga447f790a64a49b477019938dc3d5c3ff">elm_box_horizontal_set</a>(box2, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(box2, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, 0.0);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box, box2);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(box2);</div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga05c12dacc8b4058994df842b41be85fc"><div class="ttname"><a href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a></div><div class="ttdeci">#define EINA_TRUE</div><div class="ttdoc">boolean value TRUE (numerical value 1)</div><div class="ttdef"><b>Definition:</b> eina_types.h:539</div></div>
<div class="ttc" id="agroup__Elm__Box__Group_html_ga447f790a64a49b477019938dc3d5c3ff"><div class="ttname"><a href="group__Elm__Box__Group.html#ga447f790a64a49b477019938dc3d5c3ff">elm_box_horizontal_set</a></div><div class="ttdeci">void elm_box_horizontal_set(Elm_Box *obj, Eina_Bool horizontal)</div><div class="ttdoc">Set the horizontal orientation.</div><div class="ttdef"><b>Definition:</b> elm_box_eo.legacy.c:27</div></div>
<div class="ttc" id="agroup__Elm__Box__Group_html_ga66a10dd861578521af2ab7b8c2ca65c5"><div class="ttname"><a href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a></div><div class="ttdeci">void elm_box_pack_end(Elm_Box *obj, Efl_Canvas_Object *subobj)</div><div class="ttdoc">Add an object at the end of the pack list.</div><div class="ttdef"><b>Definition:</b> elm_box_eo.legacy.c:57</div></div>
</div><!-- fragment --><p> The buttons in each of those boxes have nothing special, they are just packed in with their default values and the box will use their minimum size, as set by Elementary itself based on the label, icon, finger size and theme.</p>
<p>But the buttons used to move the central one have a special disposition. The top one first, is placed right into the main box like our other smaller boxes. Set to expand horizontally and not vertically, and in this case we also tell it to fill that space, so it gets resized to take the entire width of the window. </p><div class="fragment"><div class="line">   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Button.html#ga4c5373e4d6c955c6480ee3f21a7dc1fa">elm_button_autorepeat_set</a>(btn, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Button.html#gadbffea6d39be360a72f094c267b95c7a">elm_button_autorepeat_initial_timeout_set</a>(btn, 1.0);</div>
<div class="line">   <a class="code" href="group__Elm__Button.html#gaf97340cba16cf46497f3dd2dce28ed8a">elm_button_autorepeat_gap_timeout_set</a>(btn, 0.5);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(btn, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, 0.0);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(btn, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, 0.0);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box, btn);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(btn);</div>
<div class="ttc" id="aEvas__Common_8h_html_aecbac710f36d52911fc34dcdaf8e729c"><div class="ttname"><a href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a></div><div class="ttdeci">#define EVAS_HINT_FILL</div><div class="ttdoc">Use with evas_object_size_hint_align_set(), evas_object_size_hint_align_get(), evas_object_size_hint_...</div><div class="ttdef"><b>Definition:</b> Evas_Common.h:298</div></div>
<div class="ttc" id="agroup__Elm__Button_html_ga0021b9d86d822367035843ed18bc6ea9"><div class="ttname"><a href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a></div><div class="ttdeci">Evas_Object * elm_button_add(Evas_Object *parent)</div><div class="ttdoc">Add a new button to the parent's canvas.</div><div class="ttdef"><b>Definition:</b> efl_ui_button.c:459</div></div>
<div class="ttc" id="agroup__Elm__Button_html_ga4c5373e4d6c955c6480ee3f21a7dc1fa"><div class="ttname"><a href="group__Elm__Button.html#ga4c5373e4d6c955c6480ee3f21a7dc1fa">elm_button_autorepeat_set</a></div><div class="ttdeci">void elm_button_autorepeat_set(Evas_Object *obj, Eina_Bool on)</div><div class="ttdoc">Turn on/off the autorepeat event generated when the button is kept pressed.</div><div class="ttdef"><b>Definition:</b> efl_ui_button.c:364</div></div>
<div class="ttc" id="agroup__Elm__Button_html_gadbffea6d39be360a72f094c267b95c7a"><div class="ttname"><a href="group__Elm__Button.html#gadbffea6d39be360a72f094c267b95c7a">elm_button_autorepeat_initial_timeout_set</a></div><div class="ttdeci">void elm_button_autorepeat_initial_timeout_set(Evas_Object *obj, double t)</div><div class="ttdoc">The initial timeout before the autorepeat event is generated.</div><div class="ttdef"><b>Definition:</b> efl_ui_button.c:340</div></div>
<div class="ttc" id="agroup__Elm__Button_html_gaf97340cba16cf46497f3dd2dce28ed8a"><div class="ttname"><a href="group__Elm__Button.html#gaf97340cba16cf46497f3dd2dce28ed8a">elm_button_autorepeat_gap_timeout_set</a></div><div class="ttdeci">void elm_button_autorepeat_gap_timeout_set(Evas_Object *obj, double t)</div><div class="ttdoc">The interval between each generated autorepeat event.</div><div class="ttdef"><b>Definition:</b> efl_ui_button.c:352</div></div>
</div><!-- fragment --><p> The bottom one will be the same, but for the other two we need to use a second box set to take as much space as we have, so we can place our side buttons in place and have the big empty space where the central button will move. </p><div class="fragment"><div class="line">   box2 = <a class="code" href="group__Elm__Box__Group.html#ga3d0998b60ada633bacfa8869a921cfd7">elm_box_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga447f790a64a49b477019938dc3d5c3ff">elm_box_horizontal_set</a>(box2, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(box2, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(box2, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box, box2);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(box2);</div>
</div><!-- fragment --><p> Then the buttons will have their hints inverted to the other top and bottom ones, to expand and fill vertically and keep their minimum size horizontally. </p><div class="fragment"><div class="line">   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Elm__Button.html#ga4c5373e4d6c955c6480ee3f21a7dc1fa">elm_button_autorepeat_set</a>(btn, <a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Button.html#gadbffea6d39be360a72f094c267b95c7a">elm_button_autorepeat_initial_timeout_set</a>(btn, 1.0);</div>
<div class="line">   <a class="code" href="group__Elm__Button.html#gaf97340cba16cf46497f3dd2dce28ed8a">elm_button_autorepeat_gap_timeout_set</a>(btn, 0.5);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(btn, 0.0, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#gaaf1d3e26e36b316977336066b6f56632">evas_object_size_hint_align_set</a>(btn, 0.0, <a class="code" href="Evas__Common_8h.html#aecbac710f36d52911fc34dcdaf8e729c">EVAS_HINT_FILL</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box2, btn);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(btn);</div>
</div><!-- fragment --><p> The central button takes every thing else. It will ask to be expanded in both directions, but without filling its cell. Changing its alignment by pressing the buttons will make it move around. </p><div class="fragment"><div class="line">   btn = <a class="code" href="group__Elm__Button.html#ga0021b9d86d822367035843ed18bc6ea9">elm_button_add</a>(win);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group.html#ga9379629ad8ad2860aa786d838a4a106a">evas_object_size_hint_weight_set</a>(btn, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>, <a class="code" href="Evas__Common_8h.html#aa47c85083d3dae0111c21ec49359306a">EVAS_HINT_EXPAND</a>);</div>
<div class="line">   <a class="code" href="group__Elm__Box__Group.html#ga66a10dd861578521af2ab7b8c2ca65c5">elm_box_pack_end</a>(box2, btn);</div>
<div class="line">   <a class="code" href="group__Evas__Object__Group__Basic.html#ga07208fcafd4739de606bc35fff684bf5">evas_object_show</a>(btn);</div>
</div><!-- fragment --><p> To end, the rightmost button is packed in the smaller box after the central one, and back to the main box we have the bottom button at the end. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
  <p>
    <span class="version">EFL 1.26.99</span>
    <span class="copyright">Copyright &copy;2000-2022 <a href="http://www.enlightenment.org">enlightenment.org</a></span>
    <span class="generated">Generated @ Sat Oct 29 2022 18:10:44</span>
  </p>
</div>
</body>
</html>
